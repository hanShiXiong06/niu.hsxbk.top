/* empty css             *//* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  */import"./index-d5447f06.js";/* empty css                  *//* empty css                        *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css                        *//* empty css                */import{a as S,E as j}from"./el-form-item-144bc604.js";/* empty css                  */import{t as e}from"./index-ebefdd26.js";import{f as R,j as U,k as M}from"./article-72a680f9.js";import{c as q}from"./common-a45d855f.js";import{u as O,a as G}from"./vue-router-9f815af7.js";import{E as H}from"./index-b74135ff.js";import{E as J}from"./index-6f670765.js";import{E as K}from"./index-5f2625ed.js";import{a as Q,E as W}from"./index-b7b91fcb.js";import{E as X}from"./index-c5af06c2.js";import{a as Y,E as Z}from"./index-6191b0b4.js";import{E as tt}from"./index-6701860e.js";import{E as et}from"./index-cefc0b67.js";import{v as at}from"./directive-d226d53f.js";import{d as ot,M as lt,r as C,b as p,e as f,q as a,p as r,f as c,x as n,u as o,v as u,F as rt,t as it,m as h,L as nt,C as b}from"./runtime-core.esm-bundler-c17ab5bc.js";import"./event-3e082a4a.js";import"./plugin-vue_export-helper-c018272e.js";import"./index-9ef6974e.js";import"./index-0d36ccbf.js";import"./el-main-03d12282.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-e42600b8.js";import"./el-overlay-380df695.js";import"./index-93efb1b5.js";import"./focus-trap-c0148071.js";import"./index-4b62c73a.js";import"./index-332680c2.js";import"./index-a6ffcea0.js";import"./index-138bfa06.js";import"./index-72bf6cb5.js";import"./_baseClone-37ba2e68.js";import"./aria-adfa05c5.js";import"./validator-f5e079db.js";import"./index-5c20ff8f.js";import"./strings-e72e60f7.js";import"./isEqual-ca98cf0c.js";import"./debounce-196ce6a6.js";import"./index-bfecf17f.js";import"./index-784d7581.js";import"./_isIterateeCall-797defa1.js";import"./index-f6eed9e8.js";import"./position-0d02b322.js";const st={class:"main-container"},mt={class:"flex justify-between items-center"},pt={class:"text-[20px]"},ct={class:"mt-[10px]"},dt=["href"],ut={key:0},_t={key:1},ft={class:"mt-[16px] flex justify-end"},xe=ot({__name:"list",setup(gt){const k=O().meta.title,l=lt({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{title:"",category_id:""}}),v=C([]),y=C();(async()=>{v.value=await(await R({})).data})();const d=(s=1)=>{l.loading=!0,l.page=s,U({page:l.page,limit:l.limit,...l.searchParam}).then(i=>{l.loading=!1,l.data=i.data.data,l.total=i.data.total}).catch(()=>{l.loading=!1})};d();const w=G(),P=()=>{w.push("/cms/article/edit")},V=s=>{w.push(`/cms/article/edit?id=${s.id}`)},B=s=>{H.confirm(e("articleDeleteTips"),e("warning"),{confirmButtonText:e("confirm"),cancelButtonText:e("cancel"),type:"warning"}).then(()=>{M(s).then(()=>{d()}).catch(()=>{})})},F=s=>{s&&(s.resetFields(),d())};return(s,i)=>{const _=J,L=K,g=S,E=Q,T=W,N=j,x=X,m=Y,z=tt,A=Z,D=et,I=at;return p(),f("div",st,[a(x,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[c("div",mt,[c("span",pt,n(o(k)),1),a(_,{type:"primary",onClick:P},{default:r(()=>[u(n(o(e)("addArticle")),1)]),_:1})]),a(x,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:r(()=>[a(N,{inline:!0,model:l.searchParam,ref_key:"searchFormRef",ref:y},{default:r(()=>[a(g,{label:o(e)("title"),prop:"title"},{default:r(()=>[a(L,{modelValue:l.searchParam.title,"onUpdate:modelValue":i[0]||(i[0]=t=>l.searchParam.title=t),placeholder:o(e)("titlePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(g,{label:o(e)("categoryName"),prop:"category_id"},{default:r(()=>[a(T,{modelValue:l.searchParam.category_id,"onUpdate:modelValue":i[1]||(i[1]=t=>l.searchParam.category_id=t),clearable:"",placeholder:o(e)("categoryIdPlaceholder"),class:"input-width"},{default:r(()=>[a(E,{label:o(e)("selectPlaceholder"),value:""},null,8,["label"]),(p(!0),f(rt,null,it(v.value,t=>(p(),h(E,{label:t.name,value:t.category_id},null,8,["label","value"]))),256))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),a(g,null,{default:r(()=>[a(_,{type:"primary",onClick:i[2]||(i[2]=t=>d())},{default:r(()=>[u(n(o(e)("search")),1)]),_:1}),a(_,{onClick:i[3]||(i[3]=t=>F(y.value))},{default:r(()=>[u(n(o(e)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),c("div",ct,[nt((p(),h(A,{data:l.data,size:"large"},{empty:r(()=>[c("span",null,n(l.loading?"":o(e)("emptyData")),1)]),default:r(()=>[a(m,{prop:"id","show-overflow-tooltip":!0,label:o(e)("ID"),width:"100"},null,8,["label"]),a(m,{prop:"category_name",label:o(e)("categoryName"),width:"120"},null,8,["label"]),a(m,{prop:"title","show-overflow-tooltip":!0,label:o(e)("title"),width:"180"},{default:r(({row:t})=>[c("a",{href:t.article_url.web_url,target:"_blank"},n(t.title),9,dt)]),_:1},8,["label"]),a(m,{label:o(e)("image"),"min-width":"120",align:"center"},{default:r(({row:t})=>[t.image_thumb_small?(p(),h(z,{key:0,class:"w-12 h-12",src:o(q)(t.image_thumb_small),fit:"contain"},null,8,["src"])):b("",!0)]),_:1},8,["label"]),a(m,{prop:"visit",label:o(e)("visit"),width:"120",align:"center"},{default:r(({row:t})=>[c("span",null,n(parseInt(t.visit+t.visit_virtual)),1)]),_:1},8,["label"]),a(m,{label:o(e)("isShow"),"min-width":"120",align:"center"},{default:r(({row:t})=>[t.is_show==1?(p(),f("span",ut,n(o(e)("show")),1)):b("",!0),t.is_show==0?(p(),f("span",_t,n(o(e)("hidden")),1)):b("",!0)]),_:1},8,["label"]),a(m,{prop:"sort",label:o(e)("sort"),width:"100",align:"center"},null,8,["label"]),a(m,{label:o(e)("createTime"),"min-width":"180",align:"center"},{default:r(({row:t})=>[u(n(t.create_time||""),1)]),_:1},8,["label"]),a(m,{label:o(e)("operation"),fixed:"right",align:"right",width:"130"},{default:r(({row:t})=>[a(_,{type:"primary",link:"",onClick:$=>V(t)},{default:r(()=>[u(n(o(e)("edit")),1)]),_:2},1032,["onClick"]),a(_,{type:"primary",link:"",onClick:$=>B(t.id)},{default:r(()=>[u(n(o(e)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[I,l.loading]]),c("div",ft,[a(D,{"current-page":l.page,"onUpdate:currentPage":i[4]||(i[4]=t=>l.page=t),"page-size":l.limit,"onUpdate:pageSize":i[5]||(i[5]=t=>l.limit=t),layout:"total, sizes, prev, pager, next, jumper",total:l.total,onSizeChange:i[6]||(i[6]=t=>d()),onCurrentChange:d},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{xe as default};
