import"./base-962c0c23.js";/* empty css                     *//* empty css                        *//* empty css                 */import{E as R,b as L}from"./el-radio-bfd4b1ad.js";/* empty css                  */import{t as a}from"./index-e8f72538.js";import{a as M}from"./vue-router-79053937.js";import{g as U}from"./weapp-87f4b6d4.js";import{v as X}from"./sys-93dce9bb.js";import{J as Y}from"./event-ff03ec12.js";import{d as $}from"./storage-abe718b1.js";import{b as G}from"./browser-a1ac24ac.js";import{a as h}from"./index-d57cc47d.js";import{E as J}from"./index-bba9e58c.js";import{a as T,E as W}from"./index-61c777fa.js";import{E as j}from"./index-93f2c618.js";import{E as z}from"./index-2d71fdea.js";import{d as A,r as f,M as H,w as K,b as n,e as v,f as i,q as e,p as o,v as d,x as m,u as r,F as k,C,m as D}from"./runtime-core.esm-bundler-dc7a07d7.js";import"./common-6291c908.js";import"./common-2cf17469.js";import"./index-f1b9f75f.js";import"./el-overlay-60700377.js";import"./index-5d86eb33.js";import"./focus-trap-b8b5a003.js";import"./index-8bcaafa6.js";import"./index-7a123a20.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./el-tooltip-58212670.js";import"./el-avatar-3bb47ce2.js";import"./_Uint8Array-6ff3cafa.js";import"./_initCloneObject-28e6bdaa.js";const O={class:"main-container"},P={class:"flex h-[700px] bg-body p-[20px]"},Q=["src"],Z={class:"w-[500px] ml-[40px]"},ee={class:"info-wrap mt-[20px]"},oe={class:"text-gray-400"},Le=A({__name:"index",setup(te){const s=f(""),w=f("");X().then(p=>{s.value=p.data.wap_url+"/pages/index/index",G.toDataURL(s.value,{errorCorrectionLevel:"L",margin:0,width:100}).then(t=>{w.value=t})});const x=M(),_=H({qr_code:""}),c=f("weapp");U().then(p=>{if(p.code==1){let t=p.data;_.qr_code=t.qr_code}}),x.resolve({path:"/decorate/edit",query:{name:"DIY_INDEX"}});const I=()=>{x.push("/decorate/edit?name=DIY_INDEX&back=/diy/index")},{copy:q,isSupported:N,copied:b}=Y(),V=p=>{N.value||h({message:a("notSupportCopy"),type:"warning"}),q(p)};return K(b,()=>{b.value&&h({message:a("copySuccess"),type:"success"})}),(p,t)=>{const y=J,g=R,B=L,l=T,S=j,E=z,F=W;return n(),v("div",O,[i("div",P,[i("iframe",{class:"w-[375px] border border-slate-100",src:s.value,frameborder:"0"},null,8,Q),i("div",Z,[e(y,{type:"primary",onClick:t[0]||(t[0]=u=>I())},{default:o(()=>[d(m(r(a)("decorate")),1)]),_:1}),i("div",ee,[e(F,{"label-width":"80px",class:"px-[10px]"},{default:o(()=>[e(l,{label:r(a)("preview")},{default:o(()=>[e(B,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=u=>c.value=u)},{default:o(()=>[e(g,{label:"weapp"},{default:o(()=>[d(m(r(a)("weapp")),1)]),_:1}),e(g,{label:"wechat"},{default:o(()=>[d(m(r(a)("wechat")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),c.value=="wechat"?(n(),v(k,{key:0},[e(l,{label:r(a)("link")},{default:o(()=>[e(S,{readonly:"",value:s.value},{append:o(()=>[e(y,{onClick:t[2]||(t[2]=u=>V(s.value)),class:"bg-primary copy"},{default:o(()=>[d(m(r(a)("copy")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),e(l,{label:" "},{default:o(()=>[e(E,{src:w.value},null,8,["src"])]),_:1})],64)):C("",!0),c.value=="weapp"?(n(),v(k,{key:1},[_.qr_code?(n(),D(l,{key:0,label:" "},{default:o(()=>[e(E,{class:"w-[100px] h-[100px]",src:r($)(_.qr_code)},null,8,["src"])]),_:1})):(n(),D(l,{key:1,label:" "},{default:o(()=>[i("span",oe,m(r(a)("weappNotSet")),1)]),_:1}))],64)):C("",!0)]),_:1})])])])])}}});export{Le as default};
