import{g as T,r as b,a4 as G,m as y,n as N,F as o,E as r,q as u,L as m,u as l,K as c,a1 as $,D as z}from"./base-45eb5090.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  */import"./index-ad71a852.js";import"./el-tooltip-58212670.js";/* empty css                        *//* empty css                    *//* empty css                *//* empty css                     *//* empty css                  */import{t as a}from"./index-3694a2b2.js";import{r as V,s as L}from"./site-1a478ebf.js";import{_ as j}from"./edit-group.vue_vue_type_script_setup_true_async_true_lang-5254c3d2.js";import{u as R}from"./vue-router-fcbaaf02.js";import{E as U}from"./index-0d830c44.js";import{E as I}from"./index-25c37860.js";import{E as q}from"./index-4ce9333e.js";import{a as K,E as M}from"./index-2bfbe5a7.js";import{E as A}from"./index-fc3020f4.js";import{a as H,E as J}from"./index-cbbcd330.js";import{E as O}from"./index-e841b684.js";import{v as Q}from"./directive-9f485fe5.js";import"./el-overlay-616d6124.js";import"./event-4977bef7.js";import"./index-cd1661d3.js";import"./focus-trap-318ae2e0.js";import"./el-radio-2719e44c.js";import"./storage-4159d1ed.js";import"./index-9670e877.js";import"./index-3be486d3.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./el-avatar-bc58ad46.js";import"./index-aef37b98.js";import"./common-af78c857.js";import"./common-2cf17469.js";/* empty css                */import"./index-c0090d79.js";import"./isEqual-f877b6c1.js";import"./_Uint8Array-e584e472.js";import"./flatten-0fc8b7eb.js";import"./index-8b794065.js";import"./_initCloneObject-983ff8c8.js";import"./_isIterateeCall-104f1f93.js";import"./index-cc9a73f0.js";import"./index-201145a4.js";import"./strings-2444fdb3.js";const W={class:"main-container"},X={class:"flex justify-between items-center"},Y={class:"text-[20px]"},Z={class:"mt-[16px] flex justify-end"},Ye=T({__name:"group",setup(ee){const E=R().meta.title,f=b(),e=G({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{keywords:""}}),k=n=>{n&&(n.resetFields(),p())},p=(n=1)=>{e.loading=!0,e.page=n,V({page:e.page,limit:e.limit,...e.searchParam}).then(t=>{e.loading=!1,e.data=t.data.data,e.total=t.data.total}).catch(()=>{e.loading=!1})};p();const s=b(null),h=()=>{s.value.setFormData(),s.value.showDialog=!0},x=n=>{s.value.setFormData(n),s.value.showDialog=!0},w=n=>{U.confirm(a("groupDeleteTips"),a("warning"),{confirmButtonText:a("confirm"),cancelButtonText:a("cancel"),type:"warning"}).then(()=>{L(n).then(()=>{p()}).catch(()=>{})})};return(n,t)=>{const d=I,C=q,g=K,D=M,v=A,_=H,F=J,S=O,B=Q;return y(),N("div",W,[o(v,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[u("div",X,[u("span",Y,m(l(E)),1),o(d,{type:"primary",class:"w-[100px]",onClick:h},{default:r(()=>[c(m(l(a)("addSiteGroup")),1)]),_:1})]),o(v,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:r(()=>[o(D,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:f},{default:r(()=>[o(g,{label:l(a)("groupName"),prop:"keywords"},{default:r(()=>[o(C,{modelValue:e.searchParam.keywords,"onUpdate:modelValue":t[0]||(t[0]=i=>e.searchParam.keywords=i),placeholder:l(a)("groupNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(g,null,{default:r(()=>[o(d,{type:"primary",onClick:t[1]||(t[1]=i=>p())},{default:r(()=>[c(m(l(a)("search")),1)]),_:1}),o(d,{onClick:t[2]||(t[2]=i=>k(f.value))},{default:r(()=>[c(m(l(a)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),u("div",null,[$((y(),z(F,{data:e.data,size:"large"},{empty:r(()=>[u("span",null,m(e.loading?"":l(a)("emptyData")),1)]),default:r(()=>[o(_,{prop:"group_name",label:l(a)("groupName")},null,8,["label"]),o(_,{prop:"group_desc",label:l(a)("remark")},null,8,["label"]),o(_,{prop:"create_time",label:l(a)("createTime")},null,8,["label"]),o(_,{prop:"group_roles",label:l(a)("operation"),fixed:"right",width:"130"},{default:r(({row:i})=>[o(d,{type:"primary",link:"",onClick:P=>x(i)},{default:r(()=>[c(m(l(a)("edit")),1)]),_:2},1032,["onClick"]),o(d,{type:"danger",link:"",onClick:P=>w(i.group_id)},{default:r(()=>[c(m(l(a)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[B,e.loading]]),u("div",Z,[o(S,{"current-page":e.page,"onUpdate:currentPage":t[3]||(t[3]=i=>e.page=i),"page-size":e.limit,"onUpdate:pageSize":t[4]||(t[4]=i=>e.limit=i),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:t[5]||(t[5]=i=>p()),onCurrentChange:p},null,8,["current-page","page-size","total"])])]),o(j,{ref_key:"editSiteGroupDialog",ref:s,onComplete:t[6]||(t[6]=i=>p())},null,512)]),_:1})])}}});export{Ye as default};
