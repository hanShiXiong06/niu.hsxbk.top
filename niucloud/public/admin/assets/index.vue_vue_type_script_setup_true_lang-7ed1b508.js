/* empty css             *//* empty css                  */import"./el-overlay-f7f710bd.js";/* empty css                  *//* empty css                     */import"./index-aae906bf.js";/* empty css                 */import{a as z}from"./error-492b6a5b.js";import{t as n}from"./index-5f4ce139.js";import{g as O}from"./diy-c368a995.js";import{c as y}from"./cloneDeep-f98af5ea.js";import{a as E}from"./index-be5dc120.js";import{E as Q}from"./index-868cd458.js";import{E as G}from"./index-95693143.js";import{E as H}from"./index-2f0b1bf3.js";import{a as J}from"./index-624573cc.js";import{E as W}from"./index-4862d1b3.js";import{E as X}from"./index-4683bff4.js";import{d as Z,c as ee,r as v,Q as w,b as u,e as m,f as p,g as le,q as t,p as a,u as r,m as N,v as I,x,F as b,t as U,n as D}from"./runtime-core.esm-bundler-7c3fd514.js";const te=["onClick"],ae={class:"flex items-start"},oe=["onClick"],re={class:"mb-[16px]"},se={class:"mb-[16px]"},ne=p("div",{class:"text-sm text-gray-400 select-text"},"路径必须以“/”开头，例：/pages/index/index",-1),ie=p("div",{class:"text-sm text-gray-400 select-text"},"跳转外部链接“/”开头，例：https://baidu.com",-1),ue={key:1,class:"flex flex-wrap"},de=["onClick"],pe={class:"dialog-footer"},De=Z({__name:"index",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(B,{expose:P,emit:S}){const $=B,i=ee({get(){return $.modelValue},set(o){S("update:modelValue",o)}}),c=v(!1),_=v([]),d=v(""),h=v([]),e=v([]),F=()=>{i.value.name!=""&&(e.value=y(i.value),d.value=e.value.parent),c.value=!0};O({}).then(o=>{o.code==200&&(_.value=o.data,h.value=_.value[0].child_list,i.value.name!=""?e.value=y(i.value):e.value={parent:_.value[0].name},d.value=e.value.parent)});const A=o=>{h.value=o.child_list,d.value=o.name},K=o=>{delete o.is_share,Object.assign(e.value,o)},M=()=>{i.value={name:"",parent:"",title:"",url:""}},R=()=>{if(d.value==="DIY_LINK"){if(e.value.parent=d.value,e.value.name=d.value,!e.value.title){E({message:n("diyLinkNameNotEmpty"),type:"warning"});return}if(!e.value.url){E({message:n("diyLinkUrlNotEmpty"),type:"warning"});return}}i.value=y(e.value),c.value=!1};return P({showDialog:c}),(o,s)=>{const T=w("Close"),V=Q,Y=w("ArrowRight"),k=G,C=H,f=J,L=W,j=X;return u(),m("div",null,[p("div",{onClick:F},[le(o.$slots,"default",{},()=>[t(k,{modelValue:r(i).title,"onUpdate:modelValue":s[0]||(s[0]=l=>r(i).title=l),placeholder:r(n)("linkPlaceholder"),readonly:""},{suffix:a(()=>[p("div",{onClick:z(M,["stop"])},[r(i).name?(u(),N(V,{key:0},{default:a(()=>[t(T)]),_:1})):(u(),N(V,{key:1},{default:a(()=>[t(Y)]),_:1}))],8,te)]),_:1},8,["modelValue","placeholder"])])]),t(j,{modelValue:c.value,"onUpdate:modelValue":s[4]||(s[4]=l=>c.value=l),title:r(n)("selectLinkTips"),width:"40%","close-on-press-escape":!1,"destroy-on-close":!0,"close-on-click-modal":!1},{footer:a(()=>[p("span",pe,[t(L,{onClick:s[3]||(s[3]=l=>c.value=!1)},{default:a(()=>[I(x(r(n)("cancel")),1)]),_:1}),t(L,{type:"primary",onClick:R},{default:a(()=>[I(x(r(n)("confirm")),1)]),_:1})])]),default:a(()=>[p("div",ae,[t(C,{class:"w-[140px] border-r h-[350px]"},{default:a(()=>[(u(!0),m(b,null,U(_.value,(l,g)=>(u(),m("div",{key:g,class:D(["h-[40px] leading-[40px] cursor-pointer hover:bg-primary-light-9 px-[10px] hover:text-primary",[l.name==d.value?"bg-primary-light-9 text-primary":""]]),onClick:q=>A(l)},x(l.title),11,oe))),128))]),_:1}),t(C,{class:"pl-4 h-[350px] flex-1"},{default:a(()=>[d.value=="DIY_LINK"?(u(),m(b,{key:0},[p("div",re,[t(f,{label:r(n)("diyLinkName")},{default:a(()=>[t(k,{modelValue:e.value.title,"onUpdate:modelValue":s[1]||(s[1]=l=>e.value.title=l),placeholder:r(n)("diyLinkNamePlaceholder"),class:"w-6/12"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),p("div",se,[t(f,{label:r(n)("diyLinkUrl")},{default:a(()=>[t(k,{modelValue:e.value.url,"onUpdate:modelValue":s[2]||(s[2]=l=>e.value.url=l),placeholder:r(n)("diyLinkUrlPlaceholder"),class:"w-6/12"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),t(f,{label:" "},{default:a(()=>[ne]),_:1}),t(f,{label:" "},{default:a(()=>[ie]),_:1})],64)):(u(),m("div",ue,[(u(!0),m(b,null,U(h.value,(l,g)=>(u(),m("div",{key:g,class:D(["border border-br rounded-[3px] mr-[10px] mb-[10px] px-4 h-[32px] leading-[32px] cursor-pointer hover:bg-primary-light-9 px-[10px] hover:text-primary",[l.name==e.value.name?"border-primary text-primary":""]]),onClick:q=>K(l)},x(l.title),11,de))),128))]))]),_:1})])]),_:1},8,["modelValue","title"])])}}});export{De as _};
