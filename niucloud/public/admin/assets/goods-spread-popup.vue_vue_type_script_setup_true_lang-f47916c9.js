/* empty css             */import{E as B}from"./el-overlay-380df695.js";/* empty css                 *//* empty css                  *//* empty css                 *//* empty css                        */import{t as o}from"./index-3862e13d.js";import{b as D}from"./browser-a1ac24ac.js";import{a3 as L}from"./event-3e082a4a.js";import{S as U}from"./index-1bbcede8.js";import{a as g}from"./index-a6ffcea0.js";import{E as $}from"./index-6701860e.js";import{E as I}from"./index-6f670765.js";import{E as N}from"./index-5f2625ed.js";import{d as j,M,r as t,w as Q,b as T,e as q,q as p,p as c,f as s,x as d,u as n,v as O}from"./runtime-core.esm-bundler-c17ab5bc.js";const P={class:"promote-flex flex"},R={class:"promote-img flex justify-center items-center bg-[#f8f8f8] w-[150px] h-[150px]"},z={class:"px-[20px] flex-1"},A={class:"mb-[10px]"},F=["href"],ne=j({__name:"goods-spread-popup",setup(G,{expose:w}){const m=M({}),a=t(!1),u=t("");t("");const i=t(""),r=t(""),_=t("");U().then(e=>{u.value=e.data.wap_url});const x=()=>{r.value=`${u.value}${_.value}`,D.toDataURL(r.value,{errorCorrectionLevel:"L",margin:0,width:120}).then(e=>{i.value=e})},h=e=>{Object.assign(m,e),_.value=`/shop/pages/goods/detail?goods_id=${m.goods_id}`,x(),a.value=!0},{copy:y,isSupported:E,copied:f}=L(),b=e=>{E.value||g({message:o("notSupportCopy"),type:"warning"}),y(e)};return Q(f,()=>{f.value&&g({message:o("copySuccess"),type:"success"})}),w({showDialog:a,show:h}),(e,l)=>{const C=$,S=I,V=N,k=B;return T(),q("div",null,[p(k,{modelValue:a.value,"onUpdate:modelValue":l[1]||(l[1]=v=>a.value=v),title:n(o)("goodsSpreadTitle"),width:"500px","destroy-on-close":!0},{default:c(()=>[s("div",P,[s("div",R,[p(C,{src:i.value},null,8,["src"])]),s("div",z,[s("div",A,d(n(o)("spreadLink")),1),p(V,{class:"mb-[10px]",readonly:"",value:r.value},{append:c(()=>[p(S,{onClick:l[0]||(l[0]=v=>b(r.value))},{default:c(()=>[O(d(n(o)("copy")),1)]),_:1})]),_:1},8,["value"]),s("a",{class:"text-primary",href:i.value,download:""},d(n(o)("downloadQrcode")),9,F)])])]),_:1},8,["modelValue","title"])])}}});export{ne as _};
