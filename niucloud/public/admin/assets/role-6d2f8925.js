import{d as w,R as S,r as k,e as _,f as U,y as o,x as r,g as d,B as s,u as n,A as p,Q as L,v as g,H as C}from"./base-06478700.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  */import{S as I,T as q,U as A}from"./index-00549cce.js";import"./el-tooltip-58212670.js";/* empty css                        *//* empty css                    *//* empty css                */import{a as H,E as M}from"./el-form-item-314d006d.js";/* empty css                  */import{t as l}from"./index-7ea27073.js";import{u as Q,a as G}from"./vue-router-d09a2c28.js";import{E as J}from"./index-01f6e375.js";import{E as K}from"./index-c2f001d3.js";import{E as O}from"./index-b68e8463.js";import{E as W}from"./index-e10fccde.js";import{a as X,E as Y}from"./index-4bec4464.js";import{E as Z}from"./index-34d55b7e.js";import{E as ee}from"./index-137757c0.js";import{v as te}from"./directive-cb2d3366.js";import"./common-92a35870.js";import"./index-2fcd1254.js";import"./event-10eba222.js";import"./index-adb89d14.js";import"./el-main-9a0960e7.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-6b67c4ac.js";import"./el-overlay-42a687c6.js";import"./index-9fe5de95.js";import"./focus-trap-3e826cdc.js";import"./index-f27d6ce0.js";import"./index-818c0ce2.js";import"./index-b52d0f2a.js";import"./index-2a269c7c.js";import"./index-e4abfaa5.js";import"./index-9ee9102c.js";import"./validator-6e9db238.js";import"./index-40e21e72.js";import"./isEqual-42d4b10f.js";import"./_isIterateeCall-1dc0e2ff.js";import"./debounce-1db848fd.js";import"./index-5a0d60aa.js";import"./index-35e821cc.js";import"./strings-fe930bc4.js";const ae={class:"main-container"},oe={class:"flex justify-between items-center"},re={class:"text-[20px]"},le={class:"mt-[16px] flex justify-end"},tt=w({__name:"role",setup(ne){const T=Q(),h=G(),B=T.meta.title,e=S({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{seach:""}}),v=k(),R=i=>{i&&(i.resetFields(),m())},m=(i=1)=>{e.loading=!0,e.page=i,I({page:e.page,limit:e.limit,role_name:e.searchParam.seach}).then(a=>{e.loading=!1,e.data=a.data.data,e.total=a.data.total}).catch(()=>{e.loading=!1})};m(),k(null);const N=()=>{h.push({path:"/setting/auth/role_edit"})},P=i=>{h.push({path:"/setting/auth/role_edit",query:{role_id:i}})},b=i=>{e.loading=!0;let a={role_id:i.role_id,status:i.status?0:1};q(a).then(c=>{e.loading=!1,m()}).catch(()=>{e.loading=!1})},F=i=>{J.confirm(l("roleDeleteTips"),l("warning"),{confirmButtonText:l("confirm"),cancelButtonText:l("cancel"),type:"warning"}).then(()=>{A(i).then(()=>{m()}).catch(()=>{})})};return(i,a)=>{const c=K,V=O,y=H,$=M,E=W,u=X,x=Z,z=Y,D=ee,j=te;return _(),U("div",ae,[o(E,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[d("div",oe,[d("span",re,s(n(B)),1),o(c,{type:"primary",class:"w-[100px]",onClick:N},{default:r(()=>[p(s(n(l)("addRole")),1)]),_:1})]),o(E,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:r(()=>[o($,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:v},{default:r(()=>[o(y,{label:n(l)("roleName"),prop:"seach"},{default:r(()=>[o(V,{modelValue:e.searchParam.seach,"onUpdate:modelValue":a[0]||(a[0]=t=>e.searchParam.seach=t),class:"w-[240px]",placeholder:n(l)("roleNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(y,null,{default:r(()=>[o(c,{type:"primary",onClick:a[1]||(a[1]=t=>m())},{default:r(()=>[p(s(n(l)("search")),1)]),_:1}),o(c,{onClick:a[2]||(a[2]=t=>R(v.value))},{default:r(()=>[p(s(n(l)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),d("div",null,[L((_(),g(z,{data:e.data,size:"large"},{empty:r(()=>[d("span",null,s(e.loading?"":n(l)("emptyData")),1)]),default:r(()=>[o(u,{prop:"role_name",label:n(l)("roleName")},null,8,["label"]),o(u,{label:n(l)("status")},{default:r(({row:t})=>[t.status==1?(_(),g(x,{key:0,class:"cursor-pointer",type:"success",onClick:f=>b(t)},{default:r(()=>[p(s(t.status_name),1)]),_:2},1032,["onClick"])):C("",!0),t.status==0?(_(),g(x,{key:1,class:"cursor-pointer",type:"error",onClick:f=>b(t)},{default:r(()=>[p(s(t.status_name),1)]),_:2},1032,["onClick"])):C("",!0)]),_:1},8,["label"]),o(u,{prop:"create_time",label:n(l)("createTime")},null,8,["label"]),o(u,{label:n(l)("operation"),fixed:"right",align:"right",width:"130"},{default:r(({row:t})=>[o(c,{type:"primary",link:"",onClick:f=>P(t.role_id)},{default:r(()=>[p(s(n(l)("edit")),1)]),_:2},1032,["onClick"]),o(c,{type:"primary",link:"",onClick:f=>F(t.role_id)},{default:r(()=>[p(s(n(l)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[j,e.loading]]),d("div",le,[o(D,{"current-page":e.page,"onUpdate:currentPage":a[3]||(a[3]=t=>e.page=t),"page-size":e.limit,"onUpdate:pageSize":a[4]||(a[4]=t=>e.limit=t),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:a[5]||(a[5]=t=>m()),onCurrentChange:m},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{tt as default};
