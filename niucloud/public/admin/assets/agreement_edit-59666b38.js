/* empty css             *//* empty css                   *//* empty css                  *//* empty css                */import{a as R,E as N}from"./el-form-item-144bc604.js";import{_ as P}from"./index.vue_vue_type_script_setup_true_lang-ae8f9ae6.js";/* empty css                 */import{u as $,t as s}from"./index-3862e13d.js";import{a5 as j,a6 as q}from"./index-1bbcede8.js";import{u as A,a as I}from"./vue-router-9f815af7.js";import{E as S}from"./index-5f2625ed.js";import{E as U}from"./index-c5af06c2.js";import{E as L}from"./index-6f670765.js";import{v as O}from"./directive-d226d53f.js";import{d as T,r as y,M as z,c as M,b as k,e as G,f as m,u as o,x as c,L as H,m as J,p as l,q as r,v as x}from"./runtime-core.esm-bundler-c17ab5bc.js";import"./index-9ef6974e.js";import"./plugin-vue_export-helper-c018272e.js";import"./event-3e082a4a.js";import"./_baseClone-37ba2e68.js";import"./index.vue_vue_type_style_index_0_lang-027a5d0f.js";import"./el-overlay-380df695.js";import"./index-93efb1b5.js";import"./focus-trap-c0148071.js";import"./index-4b62c73a.js";import"./index-332680c2.js";import"./attachment-92033b47.js";/* empty css                        *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                  *//* empty css                      *//* empty css                    *//* empty css                 */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                    *//* empty css                   */import"./index-a6ffcea0.js";import"./index-a62384b2.js";import"./index-138bfa06.js";import"./common-a45d855f.js";import"./index-b74135ff.js";import"./aria-adfa05c5.js";import"./validator-f5e079db.js";import"./index-72bf6cb5.js";import"./index-4ea26b0e.js";import"./index-d6b4c236.js";import"./index-6701860e.js";import"./index-f6eed9e8.js";import"./debounce-196ce6a6.js";import"./position-0d02b322.js";import"./index-d64b2f0e.js";import"./index-784d7581.js";import"./isEqual-ca98cf0c.js";import"./index-cefc0b67.js";import"./index-b7b91fcb.js";import"./index-5c20ff8f.js";import"./strings-e72e60f7.js";import"./index-bfecf17f.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-0d36ccbf.js";import"./el-main-03d12282.js";import"./index-e42600b8.js";const K={class:"main-container"},Q={class:"detail-head"},W=m("span",{class:"iconfont iconxiangzuojiantou !text-xs"},null,-1),X={class:"ml-[1px]"},Y=m("span",{class:"adorn"},"|",-1),Z={class:"right"},tt={class:"fixed-footer-wrap"},et={class:"fixed-footer"},fe=T({__name:"agreement_edit",setup(ot){$();const u=A(),_=I(),f=u.query.key||"",n=y(!1),V=u.meta.title,g={agreement_key:"",content:"",title:"",agreement_key_name:""},e=z({...g});n.value=!0,f&&(async(p="")=>{Object.assign(e,g);const t=await(await j(p)).data;Object.keys(e).forEach(a=>{t[a]!=null&&(e[a]=t[a])}),n.value=!1})(f);const v=y(),w=M(()=>({title:[{required:!0,message:s("titlePlaceholder"),trigger:"blur"}]})),E=async p=>{n.value||!p||await p.validate(async t=>{if(t){n.value=!0;const a=e;a.key=e.agreement_key,q(a).then(d=>{n.value=!1,b()}).catch(()=>{n.value=!1})}})},b=()=>{_.push({path:"/setting/basis/agreement"})};return(p,t)=>{const a=S,d=R,C=P,D=N,B=U,h=L,F=O;return k(),G("div",K,[m("div",Q,[m("div",{class:"left",onClick:t[0]||(t[0]=i=>o(_).push({path:"/setting/basis/agreement"}))},[W,m("span",X,c(o(s)("returnToPreviousPage")),1)]),Y,m("span",Z,c(o(V)),1)]),H((k(),J(B,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[r(D,{model:e,"label-width":"90px",ref_key:"formRef",ref:v,rules:o(w),class:"page-form"},{default:l(()=>[r(d,{label:o(s)("type")},{default:l(()=>[r(a,{modelValue:e.agreement_key_name,"onUpdate:modelValue":t[1]||(t[1]=i=>e.agreement_key_name=i),readonly:"",class:"input-width"},null,8,["modelValue"])]),_:1},8,["label"]),r(d,{label:o(s)("title"),prop:"title"},{default:l(()=>[r(a,{modelValue:e.title,"onUpdate:modelValue":t[2]||(t[2]=i=>e.title=i),clearable:"",placeholder:o(s)("titlePlaceholder"),class:"input-width",maxlength:"20"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(d,{label:o(s)("content")},{default:l(()=>[r(C,{modelValue:e.content,"onUpdate:modelValue":t[3]||(t[3]=i=>e.content=i)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1})),[[F,n.value]]),m("div",tt,[m("div",et,[r(h,{type:"primary",onClick:t[4]||(t[4]=i=>E(v.value))},{default:l(()=>[x(c(o(s)("save")),1)]),_:1}),r(h,{onClick:t[5]||(t[5]=i=>b())},{default:l(()=>[x(c(o(s)("cancel")),1)]),_:1})])])])}}});export{fe as default};
