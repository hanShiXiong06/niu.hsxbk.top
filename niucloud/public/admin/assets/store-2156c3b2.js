import{d as Ze,r as _,c as pe,w as et,R as Ce,V as Ee,Q as te,e as o,f as r,g as t,B as i,u as n,y as s,x as l,F as g,z as w,A as f,H as y,v,U as Ae,aP as tt,aQ as lt}from"./base-06478700.js";/* empty css                   *//* empty css                 */import{v as q,_ as _e,g as st,p as at,a as ot,i as nt,c as it,b as ct,d as rt,u as dt}from"./vue-web-terminal-05dc02e6.js";import"./el-tooltip-58212670.js";import{k as pt,h as ut}from"./index-54d728c0.js";/* empty css               *//* empty css                *//* empty css                    */import{E as _t}from"./el-overlay-42a687c6.js";import{a as ft,E as mt}from"./el-form-item-314d006d.js";/* empty css                *//* empty css                 *//* empty css                   */import{_ as Te}from"./apply_empty-78684083.js";/* empty css                 *//* empty css                  */import{d as k,v as ue}from"./event-10eba222.js";import{_ as fe}from"./app_store_default-c4798c2d.js";import{t as a}from"./index-7ea27073.js";import{g as Ve,d as vt,s as xt}from"./module-6f119c2c.js";import{d as $e}from"./common-92a35870.js";import{a as ht}from"./vue-router-d09a2c28.js";import{E as Ie}from"./index-01f6e375.js";import{E as gt}from"./index-c2f001d3.js";import{E as yt}from"./index-b56195b5.js";import{a as kt,E as bt}from"./index-0d66b73c.js";import{E as wt}from"./index-8c476f28.js";import{E as Ct}from"./index-250775f2.js";import{E as Et}from"./index-b68e8463.js";import{E as At}from"./index-e10fccde.js";import{a as Vt,E as $t}from"./index-da6a2951.js";import{E as It,a as Tt}from"./index-c17093ae.js";import{E as St}from"./index-2fcd1254.js";import{E as Lt}from"./index-e4abfaa5.js";import{E as zt}from"./index-2a269c7c.js";import{E as Bt}from"./index-68053ed5.js";import{E as Dt}from"./index-37a46bd5.js";import{v as Rt}from"./directive-cb2d3366.js";import{_ as jt}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-adb89d14.js";import"./el-main-9a0960e7.js";import"./index-6b67c4ac.js";import"./index-b52d0f2a.js";import"./index-f27d6ce0.js";import"./focus-trap-3e826cdc.js";import"./index-9ee9102c.js";import"./index-9fe5de95.js";import"./index-818c0ce2.js";import"./validator-6e9db238.js";import"./strings-fe930bc4.js";const le=Q=>(tt("data-v-fbcb1d3f"),Q=Q(),lt(),Q),Ut={class:"main-container w-full p-5 bg-white"},Pt={class:"flex justify-between items-center h-[32px] mb-4"},Ft={class:"text-[20px]"},Mt={class:"relative"},Nt={class:"flex flex-wrap px-2 plug-list pb-10"},Ht=["onClick"],Ot={class:"p-3"},qt=["src"],Qt={key:1,class:"w-[44px] h-[44px] rounded-sm",src:_e,alt:""},Wt={class:"flex items-center w-[220px] border-b py-3 justify-between"},Gt={class:"flex flex-col"},Jt={class:"text-[14px] truncate w-[160px]"},Kt={class:"text-xs text-gray-400 truncate w-[160px] mt-[4px]"},Xt={key:1,class:"flex flex-wrap plug-list pb-10 plug-large"},Yt=["onClick"],Zt={class:"flex justify-center items-center"},el=["src"],tl={key:1,class:"w-[240px] h-[120px]",src:fe},ll={class:"flex w-[240px] h-[46px]"},sl={class:"text-left mt-2 w-[190px]"},al={class:"app-text text-[14px] text-[#222] pl-2"},ol={class:"app-text text-[12px] text-[#999] pl-2"},nl={class:"flex items-center pr-2"},il=le(()=>t("div",{class:"w-[230px] mx-auto"},[t("img",{src:Te,class:"max-w-full",alt:""})],-1)),cl={class:"flex items-center"},rl={class:"flex flex-wrap px-2 plug-list pb-10"},dl=["onClick"],pl={class:"p-3"},ul=["src"],_l={key:1,class:"w-[44px] h-[44px] rounded-sm",src:_e,alt:""},fl={class:"flex items-center w-[220px] border-b py-3 justify-between"},ml={class:"flex flex-col"},vl={class:"text-[14px] truncate w-[160px]"},xl={class:"text-xs text-gray-400 truncate w-[160px] mt-[4px]"},hl={key:1,class:"flex flex-wrap plug-list pb-10 plug-large"},gl=["onClick"],yl={class:"flex justify-center items-center"},kl=["src"],bl=["src"],wl={key:2,class:"w-[240px] h-[120px]",src:fe},Cl={class:"flex w-[240px] h-[46px]"},El={class:"text-left mt-2 w-[190px]"},Al={class:"app-text text-[14px] text-[#222] pl-2"},Vl={class:"app-text text-[12px] text-[#999] pl-2"},$l={class:"flex items-center pr-2"},Il=le(()=>t("div",{class:"w-[230px] mx-auto"},[t("img",{src:Te,class:"max-w-full",alt:""})],-1)),Tl={class:"flex items-center"},Sl={class:"flex flex-wrap px-2 plug-list pb-10"},Ll=["onClick"],zl={class:"p-3"},Bl=["src"],Dl={key:1,class:"w-[44px] h-[44px] rounded-sm",src:_e,alt:""},Rl={class:"flex items-center w-[220px] border-b py-3 justify-between"},jl={class:"flex flex-col"},Ul={class:"text-[14px] truncate w-[160px]"},Pl={class:"text-xs text-gray-400 truncate w-[160px] mt-[4px]"},Fl={key:1,class:"flex flex-wrap plug-list pb-10 plug-large"},Ml=["onClick"],Nl={class:"flex justify-center items-center"},Hl=["src"],Ol=["src"],ql={key:2,class:"w-[240px] h-[120px]",src:fe},Ql={class:"flex w-[240px] h-[46px]"},Wl={class:"text-left mt-2 w-[190px]"},Gl={class:"app-text text-[14px] text-[#222] pl-2"},Jl={class:"app-text text-[12px] text-[#999] pl-2"},Kl={class:"flex items-center pr-2"},Xl={key:1,class:"mx-auto overview-empty flex flex-col items-center pt-14 pb-6"},Yl=le(()=>t("div",{class:"mb-[20px] text-sm text-[#888]"},"检测到当前账号尚未绑定授权，请先绑定授权！",-1)),Zl={class:"flex flex-1 flex-wrap justify-center relative"},es={class:"px-[18px] py-[8px]"},ts=le(()=>t("p",{class:"leading-[32px] text-[14px]"}," 您在官方应用市场购买任意一款应用，即可获得授权码。输入正确授权码认证通过后，即可支持在线升级和其它相关服务",-1)),ls={class:"flex justify-end mt-[36px]"},ss={class:"mt-[20px]"},as={class:"text-sm mt-[10px] text-info"},os={class:"mt-[20px]"},ns={class:"mt-[10px] text-right"},is={class:"input-width"},cs={class:"input-width"},rs={class:"input-width"},ds={class:"input-width"},ps={class:"dialog-footer"},us={class:"min-h-[150px]"},_s={key:0,class:"bg-[#fff] my-3"},fs={class:"pt-[20px] pl-[20px]"},ms={class:"px-[20px] pt-[10px] text-[14px]"},vs={key:0},xs={key:1},hs={key:0},gs={key:1},ys={class:"flex justify-end"},ks={class:"h-[50vh] mt-[20px]"},bs={class:"h-[50vh] mt-[20px] flex flex-col"},ws={class:"mb-[10px]"},Cs={class:"min-h-[150px]"},Es={key:0,class:"bg-[#fff] my-3"},As={class:"pt-[20px] pl-[20px]"},Vs={class:"px-[20px] pt-[10px] text-[14px]"},$s={key:0},Is={key:1},Ts={key:0},Ss={key:1},Ls=Ze({__name:"store",setup(Q){const Se=ht(),me=_("installed"),V=_(!1),S=_("small"),h=_(""),se=_([]),F=pt(),W=c=>{h.value||(h.value=c.key,vt({addon:c.key,version:c.version}).then(()=>{N(c.key),M(),h.value=""}).catch(()=>{h.value=""}))},Le=pe(()=>{let c=a("installLabel");return u.value.installed.length&&(c+=` (${u.value.installed.length})`),c}),ze=pe(()=>{let c=a("uninstalledLabel");return u.value.uninstalled.length&&(c+=` (${u.value.uninstalled.length})`),c}),Be=pe(()=>{let c=a("buyLabel");return u.value.all.length&&(c+=` (${u.value.all.length})`),c}),ve=_("");Ve().then(c=>{c.data.data&&c.data.data.auth_code&&(ve.value=c.data.data.auth_code)}).catch(()=>{});const u=_({installed:[],uninstalled:[],all:[],error:""}),M=()=>{V.value=!0,st({}).then(c=>{var p;const d=c.data.list;u.value.error=c.data.error,u.value.installed=[],u.value.uninstalled=[],u.value.all=[];for(const A in d)d[A].is_local==!1&&u.value.all.push(d[A]),d[A].install_info&&((p=Object.keys(d[A].install_info))!=null&&p.length)?u.value.installed.push(d[A]):d[A].is_download==!0&&u.value.uninstalled.push(d[A]);V.value=!1}).catch(()=>{V.value=!1})};M();const De=(c,d)=>{},I=_(""),L=_(!1),C=_(1),E=_({}),N=c=>{I.value=c,C.value=1,L.value=!0,se.value=[],at(c).then(d=>{E.value=d.data,F.clearRouters()}).catch(()=>{})};let H=null;const ae=(c=!0)=>{ot().then(d=>{if(d.data){if(c&&(oe=[],I.value=d.data.addon,L.value||(H=ut.success({title:a("warning"),dangerouslyUseHTMLString:!0,message:Ae("div",{},[a("installingTips"),Ae("span",{class:"text-primary cursor-pointer",onClick:Re},[a("installPercent")])]),duration:0,showClose:!1}))),d.data.error)return;d.data.mode=="cloud"&&Fe(),setTimeout(()=>{ae(!1)},2e3)}else c||(C.value=3,F.clearRouters(),M(),F.getAppList(),H.close())})};ae();const Re=()=>{L.value=!0,C.value=2},z=_(!1),je=()=>{!E.value.is_pass||z.value||(z.value=!0,nt({addon:I.value}).then(c=>{C.value=3,M(),F.getAppList(),z.value=!1,c.data.length&&(se.value=c.data)}).catch(c=>{z.value=!1}))},B=_(!1),Ue=()=>{if(!ve.value){Pe();return}!E.value.is_pass||B.value||(B.value=!0,it({addon:I.value}).then(c=>{C.value=2,q.api.execute("my-terminal","clear"),q.api.pushMessage("my-terminal",{content:"开始安装插件",class:"info"}),ae(),B.value=!1}).catch(c=>{B.value=!1}))},Pe=()=>{Ie.confirm(a("authTips"),a("warning"),{distinguishCancelAndClose:!0,confirmButtonText:a("toBind"),cancelButtonText:a("toNiucloud")}).then(()=>{Se.push({path:"/app/authorize"})}).catch(c=>{c==="cancel"&&window.open("https://www.niucloud.com/product")})};let oe=[];const Fe=()=>{ct(I.value).then(c=>{const d=c.data.data??[];d[0]&&d[0].length&&L.value==!0&&d[0].forEach(p=>{oe.includes(p.action)||(q.api.pushMessage("my-terminal",{content:`正在执行：${p.action}`}),oe.push(p.action),p.code==0&&q.api.pushMessage("my-terminal",{content:p.msg,class:"error"}))})}).catch(()=>{H==null||H.close()})};et(I,c=>{E.value={}});const ne=_(!1),G=_({}),J=c=>{rt(c).then(({data:d})=>{d.is_pass?dt({addon:c}).then(p=>{M(),F.getAppList(),V.value=!1}).catch(()=>{V.value=!1}):(G.value=d,ne.value=!0)})},xe=()=>{window.open("https://www.niucloud.com/product")},Me=c=>{C.value==2?Ie.confirm(a("installShowDialogCloseTips"),a("warning"),{confirmButtonText:a("confirm"),cancelButtonText:a("cancel"),type:"warning"}).then(()=>{c()}).catch(()=>{}):c()},K=_(!1),D=_({}),R=c=>{K.value=!0,D.value=c},X=_(!1),ie=_(""),he=_(null),O=_(!1);(()=>{Ve().then(c=>{c.data.data&&c.data.data.length!=0&&(ie.value=c.data.data)}).catch(()=>{X.value=!1})})();const Ne=()=>{X.value=!0},j=Ce({auth_code:"",auth_secret:""}),ce=_(),He=Ce({auth_code:[{required:!0,message:a("authCodePlaceholder"),trigger:"blur"}],auth_secret:[{required:!0,message:a("authSecretPlaceholder"),trigger:"blur"}]}),Oe=async c=>{O.value||!c||await c.validate(async d=>{d&&(O.value=!0,xt(j).then(()=>{O.value=!1,setTimeout(()=>{location.reload()},1e3)}).catch(()=>{O.value=!1}))})},qe=()=>{window.open("https://www.niucloud.com/product")};return(c,d)=>{const p=gt,A=yt,re=kt,Qe=wt,We=Ct,ge=Et,U=ft,Ge=At,ye=mt,Y=_t,Je=bt,de=Vt,Ke=$t,m=It,P=Tt,Z=Ee("Select"),$=St,ee=Ee("CloseBold"),ke=Lt,be=zt,Xe=Bt,Ye=Dt,we=Rt;return te((o(),r("div",Ut,[t("div",Pt,[t("span",Ft,i(n(a)("localAppText")),1)]),t("div",Mt,[s(Je,{modelValue:me.value,"onUpdate:modelValue":d[5]||(d[5]=e=>me.value=e),class:"demo-tabs",onTabClick:De},{default:l(()=>[s(re,{label:n(Le),name:"installed"},{default:l(()=>[t("div",Nt,[S.value=="small"?(o(!0),r(g,{key:0},w(u.value.installed,(e,b)=>(o(),r("div",{key:b+"a",class:"flex items-center cursor-pointer w-[295px] relative plug-item mr-4 mb-4",onClick:x=>R(e)},[t("div",Ot,[e.icon?(o(),r("img",{key:0,class:"w-[44px] h-[44px] rounded-sm",src:e.icon,alt:""},null,8,qt)):(o(),r("img",Qt))]),t("div",Wt,[t("div",Gt,[t("span",Jt,i(e.title),1),t("span",Kt,i(e.desc),1)]),s(p,{size:"small",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:k(x=>J(e.key),["stop"])},{default:l(()=>[f(i(n(a)("unload")),1)]),_:2},1032,["onClick"])])],8,Ht))),128)):y("",!0),S.value=="large"?(o(),r("div",Xt,[(o(!0),r(g,null,w(u.value.installed,(e,b)=>(o(),r("div",{class:"app-item cursor-pointer mr-4 mt-[20px] pb-2 bg-[#f7f7f7]",key:b+"a",onClick:x=>R(e)},[t("div",Zt,[e.cover?(o(),r("img",{key:0,class:"w-[240px] h-[120px]",src:e.cover},null,8,el)):(o(),r("img",tl))]),t("div",ll,[t("div",sl,[t("p",al,i(e.title),1),t("p",ol,i(e.desc),1)]),t("div",nl,[s(p,{size:"small",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:k(x=>J(e.key),["stop"])},{default:l(()=>[f(i(n(a)("unload")),1)]),_:2},1032,["onClick"])])])],8,Yt))),128))])):y("",!0),!u.value.installed.length&&!V.value?(o(),v(A,{key:2,class:"mx-auto overview-empty"},{image:l(()=>[il]),description:l(()=>[t("p",cl,i(n(a)("installed-empty")),1)]),_:1})):y("",!0)])]),_:1},8,["label"]),s(re,{label:n(ze),name:"uninstalled"},{default:l(()=>[t("div",rl,[S.value=="small"?(o(!0),r(g,{key:0},w(u.value.uninstalled,(e,b)=>(o(),r("div",{key:b+"a",class:"flex items-center cursor-pointer w-[295px] relative plug-item mr-4 mb-4",onClick:x=>R(e)},[t("div",pl,[e.icon?(o(),r("img",{key:0,class:"w-[44px] h-[44px] rounded-sm",src:e.icon,alt:""},null,8,ul)):(o(),r("img",_l))]),t("div",fl,[t("div",ml,[t("span",vl,i(e.title),1),t("span",xl,i(e.desc),1)]),e.is_download?(o(),v(p,{key:0,size:"small",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:k(x=>N(e.key),["stop"])},{default:l(()=>[f(i(n(a)("install")),1)]),_:2},1032,["onClick"])):(o(),v(p,{key:1,size:"small",loading:h.value==e.key,disabled:h.value!="",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:k(x=>W(e),["stop"])},{default:l(()=>[f(i(n(a)("down")),1)]),_:2},1032,["loading","disabled","onClick"]))])],8,dl))),128)):y("",!0),S.value=="large"?(o(),r("div",hl,[(o(!0),r(g,null,w(u.value.uninstalled,(e,b)=>(o(),r("div",{class:"app-item cursor-pointer mr-4 mt-[20px] pb-2 bg-[#f7f7f7]",key:b+"a",onClick:x=>R(e)},[t("div",yl,[e.cover&&!e.is_download?(o(),r("img",{key:0,class:"w-[240px] h-[120px]",src:n($e)(e.cover)},null,8,kl)):e.cover&&e.is_download?(o(),r("img",{key:1,class:"w-[240px] h-[120px]",src:e.cover},null,8,bl)):(o(),r("img",wl))]),t("div",Cl,[t("div",El,[t("p",Al,i(e.title),1),t("p",Vl,i(e.desc),1)]),t("div",$l,[e.is_download?(o(),v(p,{key:0,size:"small",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:k(x=>N(e.key),["stop"])},{default:l(()=>[f(i(n(a)("install")),1)]),_:2},1032,["onClick"])):(o(),v(p,{key:1,size:"small",loading:h.value==e.key,disabled:h.value!="",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:k(x=>W(e),["stop"])},{default:l(()=>[f(i(n(a)("down")),1)]),_:2},1032,["loading","disabled","onClick"]))])])],8,gl))),128))])):y("",!0),!u.value.uninstalled.length&&!V.value?(o(),v(A,{key:2,class:"mx-auto overview-empty"},{image:l(()=>[Il]),description:l(()=>[t("p",Tl,[t("span",null,i(n(a)("descriptionLeft")),1),s(Qe,{type:"primary",onClick:qe,class:"mx-[5px]"},{default:l(()=>[f(i(n(a)("link")),1)]),_:1}),t("span",null,i(n(a)("descriptionRight")),1)])]),_:1})):y("",!0)])]),_:1},8,["label"]),s(re,{label:n(Be),name:"buy"},{default:l(()=>[t("div",Sl,[ie.value?(o(),r(g,{key:0},[S.value=="small"?(o(!0),r(g,{key:0},w(u.value.all,(e,b)=>{var x;return o(),r("div",{key:b+"a",class:"flex items-center cursor-pointer w-[295px] relative plug-item mr-4 mb-4",onClick:T=>R(e)},[t("div",zl,[e.icon?(o(),r("img",{key:0,class:"w-[44px] h-[44px] rounded-sm",src:e.icon,alt:""},null,8,Bl)):(o(),r("img",Dl))]),t("div",Rl,[t("div",jl,[t("span",Ul,i(e.title),1),t("span",Pl,i(e.desc),1)]),e.install_info&&((x=Object.keys(e.install_info))!=null&&x.length)?(o(),v(p,{key:0,size:"small",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:k(T=>J(e.key),["stop"])},{default:l(()=>[f(i(n(a)("unload")),1)]),_:2},1032,["onClick"])):e.is_download&&e.install_info<=0?(o(),v(p,{key:1,size:"small",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:k(T=>N(e.key),["stop"])},{default:l(()=>[f(i(n(a)("install")),1)]),_:2},1032,["onClick"])):(o(),v(p,{key:2,size:"small",loading:h.value==e.key,disabled:h.value!="",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:k(T=>W(e),["stop"])},{default:l(()=>[f(i(n(a)("down")),1)]),_:2},1032,["loading","disabled","onClick"]))])],8,Ll)}),128)):y("",!0),S.value=="large"?(o(),r("div",Fl,[(o(!0),r(g,null,w(u.value.all,(e,b)=>{var x;return o(),r("div",{class:"app-item cursor-pointer mr-4 mt-[20px] pb-2 bg-[#f7f7f7]",key:b+"a",onClick:T=>R(e)},[t("div",Nl,[e.icon&&!e.is_download?(o(),r("img",{key:0,class:"w-[240px] h-[120px]",src:n($e)(e.icon)},null,8,Hl)):e.icon&&e.is_download?(o(),r("img",{key:1,class:"w-[240px] h-[120px]",src:e.icon},null,8,Ol)):(o(),r("img",ql))]),t("div",Ql,[t("div",Wl,[t("p",Gl,i(e.title),1),t("p",Jl,i(e.desc),1)]),t("div",Kl,[e.install_info&&((x=Object.keys(e.install_info))!=null&&x.length)?(o(),v(p,{key:0,size:"small",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:k(T=>J(e.key),["stop"])},{default:l(()=>[f(i(n(a)("unload")),1)]),_:2},1032,["onClick"])):e.is_download&&e.install_info<=0?(o(),v(p,{key:1,size:"small",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:k(T=>N(e.key),["stop"])},{default:l(()=>[f(i(n(a)("install")),1)]),_:2},1032,["onClick"])):(o(),v(p,{key:2,size:"small",round:"",loading:h.value==e.key,disabled:h.value!="",class:"!text-primary !border-primary !bg-transparent",onClick:k(T=>W(e),["stop"])},{default:l(()=>[f(i(n(a)("down")),1)]),_:2},1032,["loading","disabled","onClick"]))])])],8,Ml)}),128))])):y("",!0)],64)):y("",!0),!u.value.all.length&&!V.value&&!ie.value?(o(),r("div",Xl,[Yl,t("div",Zl,[s(p,{class:"w-[154px] !h-[48px] mt-[8px]",type:"primary",onClick:Ne},{default:l(()=>[f("授权码认证")]),_:1}),s(We,{ref_key:"getAuthCodeDialog",ref:he,placement:"bottom",width:478,trigger:"click",class:"mt-[8px]"},{reference:l(()=>[s(p,{class:"w-[154px] !h-[48px] mt-[8px] !text-[var(--el-color-primary)] hover:!text-[var(--el-color-primary)] !bg-transparent",plain:"",type:"primary"},{default:l(()=>[f("如何获取授权码?")]),_:1})]),default:l(()=>[t("div",es,[ts,t("div",ls,[s(p,{class:"w-[182px] !h-[48px]",plain:"",onClick:xe},{default:l(()=>[f("去应用市场逛逛")]),_:1}),s(p,{class:"w-[100px] !h-[48px]",plain:"",onClick:d[0]||(d[0]=e=>he.value.hide())},{default:l(()=>[f("关闭")]),_:1})])])]),_:1},512)])])):y("",!0),s(Y,{modelValue:X.value,"onUpdate:modelValue":d[4]||(d[4]=e=>X.value=e),title:"授权码认证",width:"400px"},{default:l(()=>[s(ye,{model:j,"label-width":"0",ref_key:"formRef",ref:ce,rules:He,class:"page-form"},{default:l(()=>[s(Ge,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[s(U,{prop:"auth_code"},{default:l(()=>[s(ge,{modelValue:j.auth_code,"onUpdate:modelValue":d[1]||(d[1]=e=>j.auth_code=e),placeholder:n(a)("authCodePlaceholder"),class:"input-width",clearable:"",size:"large"},null,8,["modelValue","placeholder"])]),_:1}),t("div",ss,[s(U,{prop:"auth_secret"},{default:l(()=>[s(ge,{modelValue:j.auth_secret,"onUpdate:modelValue":d[2]||(d[2]=e=>j.auth_secret=e),clearable:"",placeholder:n(a)("authSecretPlaceholder"),class:"input-width",size:"large"},null,8,["modelValue","placeholder"])]),_:1})]),t("div",as,i(n(a)("authInfoTips")),1),t("div",os,[s(p,{type:"primary",class:"w-full",size:"large",loading:O.value,onClick:d[3]||(d[3]=e=>Oe(ce.value))},{default:l(()=>[f(i(n(a)("confirm")),1)]),_:1},8,["loading"])]),t("div",ns,[s(p,{type:"primary",link:"",onClick:xe},{default:l(()=>[f(i(n(a)("notHaveAuth")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])]),_:1},8,["label"])]),_:1},8,["modelValue"])]),s(Y,{modelValue:K.value,"onUpdate:modelValue":d[7]||(d[7]=e=>K.value=e),title:n(a)("plugDetail"),width:"500px","destroy-on-close":!0},{footer:l(()=>[t("span",ps,[s(p,{type:"primary",onClick:d[6]||(d[6]=e=>K.value=!1)},{default:l(()=>[f(i(n(a)("confirm")),1)]),_:1})])]),default:l(()=>[s(ye,{model:D.value,"label-width":"120px",ref_key:"formRef",ref:ce,class:"page-form"},{default:l(()=>[s(U,{label:n(a)("title")},{default:l(()=>[t("div",is,i(D.value.title),1)]),_:1},8,["label"]),s(U,{label:n(a)("desc")},{default:l(()=>[t("div",cs,i(D.value.desc),1)]),_:1},8,["label"]),s(U,{label:n(a)("author")},{default:l(()=>[t("div",rs,i(D.value.author),1)]),_:1},8,["label"]),s(U,{label:n(a)("version")},{default:l(()=>[t("div",ds,i(D.value.version),1)]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(Y,{modelValue:L.value,"onUpdate:modelValue":d[8]||(d[8]=e=>L.value=e),title:n(a)("addonInstall"),width:"850px","close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":Me},{default:l(()=>[s(Ke,{space:200,active:C.value,"finish-status":"success","align-center":""},{default:l(()=>[s(de,{title:n(a)("envCheck"),class:"flex-1"},null,8,["title"]),s(de,{title:n(a)("installProgress"),class:"flex-1"},null,8,["title"]),s(de,{title:n(a)("installComplete"),class:"flex-1"},null,8,["title"])]),_:1},8,["active"]),te((o(),r("div",null,[s(ke,{"max-height":"50vh"},{default:l(()=>[t("div",us,[E.value.dir?(o(),r("div",_s,[t("p",fs,i(n(a)("dirPermission")),1),t("div",ms,[s(P,{class:"py-[10px] items table-head-bg pl-[15px] mb-[10px]"},{default:l(()=>[s(m,{span:12},{default:l(()=>[t("span",null,i(n(a)("path")),1)]),_:1}),s(m,{span:6},{default:l(()=>[t("span",null,i(n(a)("demand")),1)]),_:1}),s(m,{span:6},{default:l(()=>[t("span",null,i(n(a)("status")),1)]),_:1})]),_:1}),(o(!0),r(g,null,w(E.value.dir.is_readable,e=>(o(),v(P,{class:"pb-[10px] items pl-[15px]"},{default:l(()=>[s(m,{span:12},{default:l(()=>[t("span",null,i(e.dir),1)]),_:2},1024),s(m,{span:6},{default:l(()=>[t("span",null,i(n(a)("readable")),1)]),_:1}),s(m,{span:6},{default:l(()=>[e.status?(o(),r("span",vs,[s($,{color:"green"},{default:l(()=>[s(Z)]),_:1})])):(o(),r("span",xs,[s($,{color:"red"},{default:l(()=>[s(ee)]),_:1})]))]),_:2},1024)]),_:2},1024))),256)),(o(!0),r(g,null,w(E.value.dir.is_write,e=>(o(),v(P,{class:"pb-[10px] items pl-[15px]"},{default:l(()=>[s(m,{span:12},{default:l(()=>[t("span",null,i(e.dir),1)]),_:2},1024),s(m,{span:6},{default:l(()=>[t("span",null,i(n(a)("write")),1)]),_:1}),s(m,{span:6},{default:l(()=>[e.status?(o(),r("span",hs,[s($,{color:"green"},{default:l(()=>[s(Z)]),_:1})])):(o(),r("span",gs,[s($,{color:"red"},{default:l(()=>[s(ee)]),_:1})]))]),_:2},1024)]),_:2},1024))),256))])])):y("",!0)])]),_:1}),t("div",ys,[s(be,{effect:"dark",content:n(a)("installTips"),placement:"top"},{default:l(()=>[s(p,{type:"default",disabled:!E.value.is_pass||B.value,loading:z.value,onClick:je},{default:l(()=>[f(i(n(a)("localInstall")),1)]),_:1},8,["disabled","loading"])]),_:1},8,["content"]),s(be,{effect:"dark",content:n(a)("cloudInstallTips"),placement:"top"},{default:l(()=>[s(p,{type:"primary",disabled:!E.value.is_pass||z.value,loading:B.value,onClick:Ue},{default:l(()=>[f(i(n(a)("cloudInstall")),1)]),_:1},8,["disabled","loading"])]),_:1},8,["content"])])])),[[ue,C.value==1],[we,!E.value.dir]]),te(t("div",ks,[s(n(q.Terminal),{name:"my-terminal",context:I.value,"init-log":null,"show-header":!1,"show-log-time":!0},null,8,["context"])],512),[[ue,C.value==2]]),te(t("div",bs,[s(Xe,{icon:"success",title:n(a)("addonInstallSuccess")},null,8,["title"]),(o(!0),r(g,null,w(se.value,e=>(o(),r("div",ws,[s(Ye,{title:e,type:"warning",closable:!1},null,8,["title"])]))),256))],512),[[ue,C.value==3]])]),_:1},8,["modelValue","title"]),s(Y,{modelValue:ne.value,"onUpdate:modelValue":d[9]||(d[9]=e=>ne.value=e),title:n(a)("addonUninstall"),width:"850px","close-on-click-modal":!1,"close-on-press-escape":!1},{default:l(()=>[s(ke,{"max-height":"50vh"},{default:l(()=>[t("div",Cs,[G.value.dir?(o(),r("div",Es,[t("p",As,i(n(a)("dirPermission")),1),t("div",Vs,[s(P,{class:"py-[10px] items table-head-bg pl-[15px] mb-[10px]"},{default:l(()=>[s(m,{span:12},{default:l(()=>[t("span",null,i(n(a)("path")),1)]),_:1}),s(m,{span:6},{default:l(()=>[t("span",null,i(n(a)("demand")),1)]),_:1}),s(m,{span:6},{default:l(()=>[t("span",null,i(n(a)("status")),1)]),_:1})]),_:1}),(o(!0),r(g,null,w(G.value.dir.is_readable,e=>(o(),v(P,{class:"pb-[10px] items pl-[15px]"},{default:l(()=>[s(m,{span:12},{default:l(()=>[t("span",null,i(e.dir),1)]),_:2},1024),s(m,{span:6},{default:l(()=>[t("span",null,i(n(a)("readable")),1)]),_:1}),s(m,{span:6},{default:l(()=>[e.status?(o(),r("span",$s,[s($,{color:"green"},{default:l(()=>[s(Z)]),_:1})])):(o(),r("span",Is,[s($,{color:"red"},{default:l(()=>[s(ee)]),_:1})]))]),_:2},1024)]),_:2},1024))),256)),(o(!0),r(g,null,w(G.value.dir.is_write,e=>(o(),v(P,{class:"pb-[10px] items pl-[15px]"},{default:l(()=>[s(m,{span:12},{default:l(()=>[t("span",null,i(e.dir),1)]),_:2},1024),s(m,{span:6},{default:l(()=>[t("span",null,i(n(a)("write")),1)]),_:1}),s(m,{span:6},{default:l(()=>[e.status?(o(),r("span",Ts,[s($,{color:"green"},{default:l(()=>[s(Z)]),_:1})])):(o(),r("span",Ss,[s($,{color:"red"},{default:l(()=>[s(ee)]),_:1})]))]),_:2},1024)]),_:2},1024))),256))])])):y("",!0)])]),_:1})]),_:1},8,["modelValue","title"])])),[[we,V.value]])}}});const Sa=jt(Ls,[["__scopeId","data-v-fbcb1d3f"]]);export{Sa as default};
