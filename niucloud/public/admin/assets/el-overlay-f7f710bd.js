import{R as U,r as f,c as g,w as D,A as _,o as $,K as Z}from"./runtime-core.esm-bundler-7c3fd514.js";import{b as F,d as q,v as P,B as G,P as K,a as j}from"./plugin-vue_export-helper-edbdb6f8.js";import{i as H}from"./index-868cd458.js";import{U as I}from"./event-9519ab40.js";import{b as J,c as x,i as Q}from"./index-f02197a7.js";import{b as W}from"./focus-trap-bb1e8c7a.js";import{b as X}from"./index-7b0897f9.js";const se=(...e)=>l=>{e.forEach(i=>{U(i)?i(l):i.value=l})},Y=F({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:H},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),ue={close:()=>!0},ie=F({...Y,appendToBody:{type:Boolean,default:!1},beforeClose:{type:q(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),ce={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[I]:e=>J(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},fe=(e,l)=>{const t=Z().emit,{nextZIndex:p}=W();let C="";const E=P(),O=P(),n=f(!1),d=f(!1),c=f(!1),r=f(e.zIndex||p());let s,u;const T=G("namespace",K),h=g(()=>{const o={},a=`--${T.value}-dialog`;return e.fullscreen||(e.top&&(o[`${a}-margin-top`]=e.top),e.width&&(o[`${a}-width`]=j(e.width))),o}),A=g(()=>e.alignCenter?{display:"flex"}:{});function S(){t("opened")}function k(){t("closed"),t(I,!1),e.destroyOnClose&&(c.value=!1)}function w(){t("close")}function b(){u==null||u(),s==null||s(),e.openDelay&&e.openDelay>0?{stop:s}=x(()=>B(),e.openDelay):B()}function y(){s==null||s(),u==null||u(),e.closeDelay&&e.closeDelay>0?{stop:u}=x(()=>v(),e.closeDelay):v()}function m(){function o(a){a||(d.value=!0,n.value=!1)}e.beforeClose?e.beforeClose(o):y()}function N(){e.closeOnClickModal&&m()}function B(){Q&&(n.value=!0)}function v(){n.value=!1}function M(){t("openAutoFocus")}function z(){t("closeAutoFocus")}function L(o){var a;((a=o.detail)==null?void 0:a.focusReason)==="pointer"&&o.preventDefault()}e.lockScroll&&X(n);function V(){e.closeOnPressEscape&&m()}return D(()=>e.modelValue,o=>{o?(d.value=!1,b(),c.value=!0,r.value=e.zIndex?r.value++:p(),_(()=>{t("open"),l.value&&(l.value.scrollTop=0)})):n.value&&y()}),D(()=>e.fullscreen,o=>{l.value&&(o?(C=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=C)}),$(()=>{e.modelValue&&(n.value=!0,c.value=!0,b())}),{afterEnter:S,afterLeave:k,beforeLeave:w,handleClose:m,onModalClick:N,close:y,doClose:v,onOpenAutoFocus:M,onCloseAutoFocus:z,onCloseRequested:V,onFocusoutPrevented:L,titleId:E,bodyId:O,closed:d,style:h,overlayDialogStyle:A,rendered:c,visible:n,zIndex:r}};export{ce as a,Y as b,se as c,ie as d,ue as e,fe as u};
