/* empty css             *//* empty css                   */import{E as U}from"./el-overlay-380df695.js";/* empty css                  */import{a as k,E as B}from"./el-form-item-144bc604.js";import{_ as P}from"./index-86ce9ee4.js";/* empty css                 */import{t as o}from"./index-6b4cbbe4.js";import{e as I,a as R,b as j}from"./delivery-44173086.js";import{E as q}from"./index-5f2625ed.js";import{E as L}from"./index-6f670765.js";import{v as O}from"./directive-d226d53f.js";import{d as T,r as c,M as $,c as M,b as x,m as b,p as r,f as _,q as n,v as V,x as f,u as l,L as S}from"./runtime-core.esm-bundler-c17ab5bc.js";const z={class:"input-width text-[12px] text-[#999] mt-[5px] leading-[20px]"},A={class:"dialog-footer"},se=T({__name:"company-edit",emits:["complete"],setup(G,{expose:w,emit:h}){const d=c(!1),m=c(!1),y={company_id:"",company_name:"",logo:"",url:"",express_no:""},a=$({...y}),v=c(),E=M(()=>({company_name:[{required:!0,message:o("companyNamePlaceholder"),trigger:"blur"}]})),C=async p=>{if(m.value||!p)return;const e=a.company_id?I:R;await p.validate(async s=>{s&&(m.value=!0,e(a).then(u=>{m.value=!1,d.value=!1,h("complete")}).catch(u=>{m.value=!1}))})};return w({showDialog:d,setFormData:async(p=null)=>{if(Object.assign(a,y),m.value=!0,p){const e=await(await j(p.company_id)).data;e&&Object.keys(a).forEach(s=>{e[s]!=null&&(a[s]=e[s])})}m.value=!1}}),(p,e)=>{const s=q,i=k,u=P,N=B,g=L,D=U,F=O;return x(),b(D,{modelValue:d.value,"onUpdate:modelValue":e[6]||(e[6]=t=>d.value=t),title:a.company_id?l(o)("updateCompany"):l(o)("addCompany"),width:"500px",class:"diy-dialog-wrap","destroy-on-close":!0},{footer:r(()=>[_("span",A,[n(g,{onClick:e[4]||(e[4]=t=>d.value=!1)},{default:r(()=>[V(f(l(o)("cancel")),1)]),_:1}),n(g,{type:"primary",loading:m.value,onClick:e[5]||(e[5]=t=>C(v.value))},{default:r(()=>[V(f(l(o)("confirm")),1)]),_:1},8,["loading"])])]),default:r(()=>[S((x(),b(N,{model:a,"label-width":"120px",ref_key:"formRef",ref:v,rules:l(E),class:"page-form"},{default:r(()=>[n(i,{label:l(o)("companyName"),prop:"company_name"},{default:r(()=>[n(s,{modelValue:a.company_name,"onUpdate:modelValue":e[0]||(e[0]=t=>a.company_name=t),clearable:"",placeholder:l(o)("companyNamePlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(i,{label:l(o)("logo")},{default:r(()=>[n(u,{modelValue:a.logo,"onUpdate:modelValue":e[1]||(e[1]=t=>a.logo=t)},null,8,["modelValue"])]),_:1},8,["label"]),n(i,{label:l(o)("url")},{default:r(()=>[n(s,{modelValue:a.url,"onUpdate:modelValue":e[2]||(e[2]=t=>a.url=t),clearable:"",placeholder:l(o)("urlPlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(i,{label:l(o)("expressNo")},{default:r(()=>[_("div",null,[n(s,{modelValue:a.express_no,"onUpdate:modelValue":e[3]||(e[3]=t=>a.express_no=t),clearable:"",placeholder:l(o)("expressNoPlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"]),_("p",z,f(l(o)("expressNoTips")),1)])]),_:1},8,["label"])]),_:1},8,["model","rules"])),[[F,m.value]])]),_:1},8,["modelValue","title"])}}});export{se as _};
