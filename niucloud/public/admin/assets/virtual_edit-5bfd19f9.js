/* empty css             *//* empty css                *//* empty css                    */import{_ as He}from"./index.vue_vue_type_script_setup_true_lang-ae8f9ae6.js";/* empty css                  *//* empty css                  */import"./index-1bbcede8.js";import{a as Ke,E as Je}from"./el-form-item-144bc604.js";/* empty css                       *//* empty css                 *//* empty css                          *//* empty css                    *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                  *//* empty css                          */import{_ as Qe}from"./index-2de2d5e5.js";import{v as ae}from"./event-3e082a4a.js";import{t as l}from"./index-3862e13d.js";import{aC as We,E as Xe}from"./index-9ef6974e.js";import{S as Ye}from"./sortable.esm-be94e56d.js";import{e as ye}from"./common-a45d855f.js";import{u as el,a as ll}from"./vue-router-9f815af7.js";import{a as ol,Z as sl,g as tl,J as al,K as rl,R as il,S as dl,_ as nl,$ as pl}from"./goods-fd566118.js";import{r as cl}from"./range-2f27c02f.js";import{c as re}from"./cloneDeep-028669bf.js";import{a as Z}from"./index-a6ffcea0.js";import{E as ul}from"./index-5f2625ed.js";import{E as _l}from"./index-22ce9a15.js";import{a as ml,E as fl}from"./index-b7b91fcb.js";import{E as gl,a as hl}from"./index-784d7581.js";import{E as bl,b as kl}from"./index-6ff31475.js";import{a as vl,E as yl}from"./index-6982a78b.js";import{E as Vl}from"./index-6f670765.js";import{E as wl}from"./index-1b611f36.js";import{E as xl}from"./index-c5af06c2.js";import{d as El,r as D,M as C,A as Ve,c as Sl,V as Nl,b as f,e as h,f as i,u as d,x as m,q as n,p as c,m as I,F as v,t as N,n as ie,C as L,v as w,L as de,at as Cl,au as Tl}from"./runtime-core.esm-bundler-c17ab5bc.js";import{_ as Ul}from"./_plugin-vue_export-helper-c27b6911.js";import"./index.vue_vue_type_style_index_0_lang-027a5d0f.js";import"./el-overlay-380df695.js";import"./index-93efb1b5.js";import"./plugin-vue_export-helper-c018272e.js";import"./focus-trap-c0148071.js";import"./index-4b62c73a.js";import"./index-332680c2.js";import"./attachment-92033b47.js";/* empty css                   *//* empty css                        *//* empty css                      *//* empty css                 */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                    *//* empty css                   */import"./index-a62384b2.js";import"./index-138bfa06.js";import"./index-b74135ff.js";import"./aria-adfa05c5.js";import"./validator-f5e079db.js";import"./index-72bf6cb5.js";import"./index-4ea26b0e.js";import"./index-d6b4c236.js";import"./index-6701860e.js";import"./index-f6eed9e8.js";import"./debounce-196ce6a6.js";import"./position-0d02b322.js";import"./index-d64b2f0e.js";import"./index-cefc0b67.js";import"./isEqual-ca98cf0c.js";import"./directive-d226d53f.js";import"./index-0d36ccbf.js";import"./el-main-03d12282.js";import"./index-e42600b8.js";import"./_baseClone-37ba2e68.js";import"./_isIterateeCall-797defa1.js";import"./rand-14326ce1.js";import"./strings-e72e60f7.js";import"./arrays-e667dc24.js";import"./index-5c20ff8f.js";import"./index-bfecf17f.js";const $=j=>(Cl("data-v-9b16f549"),j=j(),Tl(),j),Pl={class:"main-container"},Gl={class:"detail-head"},Il=$(()=>i("span",{class:"iconfont iconxiangzuojiantou !text-xs"},null,-1)),Ol={class:"ml-[1px]"},Dl=$(()=>i("span",{class:"adorn"},"|",-1)),Ll={class:"right"},$l={class:"goods-type-name"},Rl={class:"goods-type-desc"},Fl=$(()=>i("div",{class:"triangle"},null,-1)),Bl=$(()=>i("div",{class:"selected"},"✓",-1)),Zl=["onClick"],jl={class:"goods-type-name"},ql={class:"goods-type-desc"},Ml=$(()=>i("div",{class:"triangle"},null,-1)),zl=$(()=>i("div",{class:"selected"},"✓",-1)),Al={class:"ml-[10px]"},Hl={class:"ml-[10px]"},Kl={class:"ml-[10px]"},Jl={class:"ml-[10px]"},Ql={class:"ml-[10px]"},Wl={class:"el-form-item asterisk-left"},Xl={class:"el-form-item__label w-[120px]"},Yl={class:"spec-wrap"},eo={class:"spec-edit-list"},lo={class:"spec-name-wrap"},oo={class:"spec-value-wrap"},so=["onClick"],to=$(()=>i("div",{class:"box"},null,-1)),ao={class:"add-spec"},ro={class:"batch-operation-sku"},io={class:"sku-table"},no={class:"el-table--fit el-table--default el-table",style:{width:"100%"}},po={class:"el-table__inner-wrapper"},co={class:"el-table__header-wrapper"},uo={class:"el-table__header",border:"0",cellpadding:"0",cellspacing:"0",style:{width:"100%"}},_o={key:0,class:"el-table__cell"},mo={class:"cell"},fo={class:"el-table__cell"},go={class:"cell"},ho={class:"el-table__cell"},bo={class:"cell"},ko={class:"el-table__cell"},vo={class:"cell"},yo={class:"el-table__cell"},Vo={class:"cell"},wo={class:"el-table__cell"},xo={class:"cell"},Eo={class:"el-table__cell"},So={class:"cell"},No={class:"el-table__cell"},Co={class:"cell"},To={class:"el-table__body-wrapper"},Uo={class:"el-scrollbar"},Po={class:"el-scrollbar__wrap el-scrollbar__wrap--hidden-default"},Go={class:"el-scrollbar__view",style:{display:"inline-block","vertical-align":"middle"}},Io={class:"el-table__body",cellspacing:"0",cellpadding:"0",border:"0",style:{"table-layout":"fixed",width:"100%"}},Oo={tabindex:"-1"},Do=["rowspan"],Lo={class:"cell"},$o={class:"el-table__cell"},Ro={class:"cell"},Fo={class:"el-table__cell"},Bo={class:"cell"},Zo={class:"el-table__cell"},jo={class:"cell"},qo={class:"el-table__cell"},Mo={class:"cell"},zo={class:"el-table__cell"},Ao={class:"cell"},Ho={class:"el-table__cell"},Ko={class:"cell"},Jo={class:"el-table__cell"},Qo={class:"cell"},Wo={class:"fixed-footer-wrap"},Xo={class:"fixed-footer"},Yo=El({__name:"virtual_edit",setup(j){const ne=el(),U=ll();ne.meta.title;const q=D(!1),a=C({...{goods_type:"virtual",goods_id:"",goods_name:"",sub_title:"",goods_image:"",goods_category:"",brand_id:"",label_ids:[],service_ids:[],supplier_id:"",status:"1",sort:"",addon_shop_supplier:[],spec_type:"single",price:"",market_price:"",cost_price:"",stock:"",sku_no:"",unit:"",virtual_sale_num:"",goods_desc:""}});a.goods_id=D(ne.query.goods_id);const pe=D(),ce=D(),ue=D(),H=D("basic"),we=(p,e)=>{},K=C([]),xe=p=>{U.push(p.path)},J=C([]),Ee={multiple:!0},Se=p=>{},Q=C([]),W=C([]),X=C([]),Y=C([]),b=C([]),_=C({}),ee=C([]);ol().then(p=>{let e=p.data;if(e)for(let r in e)K.push(e[r])});const Ne=()=>{let p=U.resolve({path:"/shop/goods/category"});window.open(p.href)},_e=()=>{tl().then(p=>{let e=p.data;if(e){let r=[];e.forEach(t=>{let s=[];t.child_list&&t.child_list.forEach(g=>{s.push({value:g.category_id,label:g.category_name})}),r.push({value:t.category_id,label:t.category_name,children:s})}),J.splice(0,J.length,...r)}})};_e();const Ce=()=>{let p=U.resolve({path:"/shop/goods/brand"});window.open(p.href)},me=()=>{al({}).then(p=>{let e=p.data;e&&Q.splice(0,Q.length,...e)})};me();const Te=()=>{let p=U.resolve({path:"/shop/goods/label"});window.open(p.href)},fe=()=>{rl({}).then(p=>{let e=p.data;e&&W.splice(0,W.length,...e)})};fe();const Ue=()=>{let p=U.resolve({path:"/shop/goods/service"});window.open(p.href)},ge=()=>{il({}).then(p=>{let e=p.data;e&&X.splice(0,X.length,...e)})};ge();const Pe=()=>{let p=U.resolve({path:"/shop_supplier/supplier"});window.open(p.href)},he=()=>{dl({}).then(p=>{let e=p.data;e&&Y.splice(0,Y.length,...e)})};sl({goods_id:a.goods_id}).then(p=>{let e=p.data;if(e&&(a.addon_shop_supplier=e.addon_shop_supplier,a.addon_shop_supplier&&a.addon_shop_supplier.status==1&&he(),a.goods_id&&e.goods_info)){if(a.goods_name=e.goods_info.goods_name,a.sub_title=e.goods_info.sub_title,a.goods_type=e.goods_info.goods_type,a.goods_image=e.goods_info.goods_image,a.goods_category=e.goods_info.goods_category,a.brand_id=e.goods_info.brand_id,a.label_ids=e.goods_info.label_ids,a.service_ids=e.goods_info.service_ids,a.supplier_id=e.goods_info.supplier_id,a.status=e.goods_info.status,a.sort=e.goods_info.sort,a.spec_type=e.goods_info.spec_type,a.stock=e.goods_info.stock,a.spec_type=="single"){let r=e.goods_info.sku_list[0];a.price=r.price,a.market_price=r.market_price,a.cost_price=r.cost_price,a.sku_no=r.sku_no}else a.spec_type=="multi"&&(e.goods_info.spec_list.forEach(s=>{let g=[];s.spec_values=s.spec_values.split(","),s.spec_values.forEach(V=>{g.push({id:P(),spec_value_name:V})}),b.push({id:P(),spec_id:s.spec_id,goods_id:s.goods_id,spec_name:s.spec_name,values:g})}),e.goods_info.sku_list.forEach(s=>{let g=[];b.forEach((V,O)=>{V.values.forEach(G=>{G.spec_value_name==s.sku_spec_format.split(",")[O]&&g.push({id:G.id,spec_value_name:G.spec_value_name})})}),_[P()]={sku_id:s.sku_id,spec_name:s.sku_spec_format.replace(/,/g," "),sku_spec:g,sku_image:s.sku_image,price:s.price,market_price:s.market_price,cost_price:s.cost_price,stock:s.stock,sku_no:s.sku_no,is_default:s.is_default}}),Ve(()=>{R(),be()}));a.unit=e.goods_info.unit,a.virtual_sale_num=e.goods_info.virtual_sale_num,a.goods_desc=e.goods_info.goods_desc}});const M=D(),be=()=>{if(M.value)for(let p=0;p<M.value.length;p++){let e=M.value[p];const r=Ye.create(e,{group:"draggable-element-"+p,animation:200,onEnd:t=>{let s=b[p].values[t.oldIndex];b[p].values.splice(t.oldIndex,1),b[p].values.splice(t.newIndex,0,s),Ve(()=>{r.sort(cl(b[p].values.length).map(g=>g.toString())),z(),R()})}})}},P=(p=5)=>Number(Math.random().toString().substr(3,p)+Date.now()).toString(36),Ge=()=>{if(b.length>4){Z({type:"warning",message:`${l("maxAddSpecTips")}`});return}b.push({id:P(),spec_name:"",values:[{id:P(),spec_value_name:""}]})},Ie=p=>{b.splice(p,1),z(),R(),le()},Oe=p=>{b[p].values.push({id:P(),spec_value_name:""}),be()},De=ye(p=>{z(),R()}),Le=(p,e)=>{b[p].values.splice(e,1),z(),R(),le()},$e=(p,e)=>{for(let r in _)r==e?_[r].is_default=p:_[r].is_default=0},le=ye(()=>{let p=0;for(let e in _)_[e].stock&&(p+=parseInt(_[e].stock));a.stock=p}),z=()=>{var p=b,e=re(_);let r={};for(let y of p){var t={};if(Object.keys(r).length>0)for(var s in r)for(var g of y.values){var V=re(r[s].sku_spec);V.push(g),t[P()]={spec_name:`${r[s].spec_name} ${g.spec_value_name}`,sku_spec:V,sku_image:"",price:"",market_price:"",cost_price:"",stock:"",sku_no:"",is_default:0}}else for(let E of y.values){let B=E.spec_value_name;t[P()]={spec_name:B,sku_spec:[E],sku_image:"",price:"",market_price:"",cost_price:"",stock:"",sku_no:"",is_default:0}}r=Object.keys(t).length>0?t:r}for(let y in e)for(let E in r){var O=Re(e[y].sku_spec,r[E].sku_spec);if(O===r[E].sku_spec.length){var G=r[E].spec_name,V=r[E].sku_spec;Object.assign(r[E],e[y]),r[E].spec_name=G,r[E].sku_spec=V;break}}for(let y in _)delete _[y];let F="";for(let y in r)F==""&&(F=y,r[y].is_default=1),_[y]=r[y]},Re=(p,e)=>{for(var r=0,t=0;t<p.length;t++)for(var s=0;s<e.length;s++)if(p[t].id===e[s].id){r++;break}return r},R=()=>{for(var p=0,e=0;e<b.length;e++)b[e].spec_name!=""&&b[e].values.length>0&&p++;for(var r=1,t=[],e=p-1;e>=0;e--){for(var s=0;s<Object.keys(_).length;)if(b[e].values.length>0)for(let V of b[e].values)t.push({index:s,colSpan:e,rowSpan:r,spec_value_name:V.spec_value_name}),s=s+r;else s++;r=r*b[e].values.length}t.reverse(),ee.splice(0,ee.length,...t)},u=C({spec:"",price:"",market_price:"",cost_price:"",stock:"",sku_no:""}),Fe=()=>{if(u.price&&(isNaN(u.price)||!x.digit.test(u.price))){Z({type:"warning",message:`${l("priceTips")}`});return}if(u.market_price&&(isNaN(u.market_price)||!x.digit.test(u.market_price))){Z({type:"warning",message:`${l("marketPriceTips")}`});return}if(u.cost_price&&(isNaN(u.cost_price)||!x.digit.test(u.cost_price))){Z({type:"warning",message:`${l("costPriceTips")}`});return}if(u.stock&&(isNaN(u.stock)||!x.number.test(u.stock))){Z({type:"warning",message:`${l("stockTips")}`});return}if(u.spec)u.price&&(_[u.spec].price=u.price),u.market_price&&(_[u.spec].market_price=u.market_price),u.cost_price&&(_[u.spec].cost_price=u.cost_price),u.stock&&(_[u.spec].stock=u.stock),u.sku_no&&(_[u.spec].sku_no=u.sku_no);else for(let p in _)u.price&&(_[p].price=u.price),u.market_price&&(_[p].market_price=u.market_price),u.cost_price&&(_[p].cost_price=u.cost_price),u.stock&&(_[p].stock=u.stock),u.sku_no&&(_[p].sku_no=u.sku_no);u.price="",u.market_price="",u.cost_price="",u.stock="",u.sku_no=""},x={required:/[\S]+/,number:/^\d{0,10}$/,digit:/^\d{0,10}(.?\d{0,2})$/},oe=Sl(()=>{let p={goods_name:[{required:!0,trigger:"blur",validator:(r,t,s)=>{t===""&&s(new Error(l("goodsNamePlaceholder"))),t.length>60?s(new Error(l("goodsNameMaxLengthTips"))):s()}}],sub_title:[{trigger:"blur",validator:(r,t,s)=>{t.length>80?s(new Error(l("subTitleMaxLengthTips"))):s()}}],goods_image:[{required:!0,message:l("goodsImagePlaceholder"),trigger:"blur"}],goods_category:[{required:!0,message:l("goodsCategoryPlaceholder"),trigger:"blur"}],sort:[{trigger:"blur",validator:(r,t,s)=>{isNaN(t)||!x.number.test(t)?s(new Error(l("sortTips"))):s()}}],price:[{trigger:"blur",validator:(r,t,s)=>{a.spec_type=="single"?t===""?s(new Error(l("pricePlaceholder"))):isNaN(t)||!x.digit.test(t)?s(new Error(l("priceTips"))):t<0?s(new Error(l("priceNotZeroTips"))):s():s()}}],market_price:[{trigger:"blur",validator:(r,t,s)=>{a.spec_type=="single"?isNaN(t)||!x.digit.test(t)?s(new Error(l("marketPriceTips"))):t<0?s(new Error(l("marketPriceNotZeroTips"))):s():s()}}],cost_price:[{trigger:"blur",validator:(r,t,s)=>{a.spec_type=="single"?isNaN(t)||!x.digit.test(t)?s(new Error(l("costPriceTips"))):t<0?s(new Error(l("costPriceNotZeroTips"))):s():s()}}],stock:[{trigger:"blur",validator:(r,t,s)=>{a.spec_type=="single"?t===""?s(new Error(l("stockPlaceholder"))):isNaN(t)||!x.number.test(t)?s(new Error(l("stockTips"))):t<0?s(new Error(l("stockNotZeroTips"))):s():s()}}],virtual_sale_num:[{trigger:"blur",validator:(r,t,s)=>{a.spec_type=="single"?isNaN(t)||!x.number.test(t)?s(new Error(l("virtualSaleNumTips"))):t<0?s(new Error(l("virtualSaleNumNotZeroTips"))):s():s()}}],spec_type:[{trigger:"blur",validator:(r,t,s)=>{a.spec_type=="multi"&&Object.keys(_).length==0&&s(new Error(l("pleaseEditSpecPlaceholder"))),s()}}],goods_desc:[{trigger:"blur",validator:(r,t,s)=>{if(t==="")s(new Error(l("goodsDescPlaceholder")));else{if(t.length<5||t.length>5e4)return s(new Error(l("goodsDescMaxTips"))),!1;s()}}}]};return Object.assign(p,{sku_price:[{trigger:"blur",validator:(r,t,s)=>{if(a.spec_type=="multi"){for(let g in _)if(_[g].price.length==0){s(new Error(l("pricePlaceholder")));break}else if(isNaN(_[g].price)||!x.digit.test(_[g].price)){s(new Error(l("priceTips")));break}else if(_[g].price<0){s(new Error(l("priceNotZeroTips")));break}s()}}}],sku_market_price:[{trigger:"blur",validator:(r,t,s)=>{if(a.spec_type=="multi"){for(let g in _)if(isNaN(_[g].market_price)||!x.digit.test(_[g].market_price)){s(new Error(l("marketPriceTips")));break}else if(_[g].market_price<0){s(new Error(l("marketPriceNotZeroTips")));break}s()}}}],sku_cost_price:[{trigger:"blur",validator:(r,t,s)=>{if(a.spec_type=="multi"){for(let g in _)if(isNaN(_[g].cost_price)||!x.digit.test(_[g].cost_price)){s(new Error(l("costPriceTips")));break}else if(_[g].cost_price<0){s(new Error(l("costPriceNotZeroTips")));break}s()}}}],sku_stock:[{trigger:"blur",validator:(r,t,s)=>{if(a.spec_type=="multi"){for(let g in _)if(_[g].stock.length==0){s(new Error(l("stockPlaceholder")));break}else if(isNaN(_[g].stock)||!x.number.test(_[g].stock)){s(new Error(l("stockTips")));break}else if(_[g].stock<0){s(new Error(l("stockNotZeroTips")));break}s()}}}]}),p}),Be=p=>{var e=[{key:"basic",verify:!1,ref:pe.value},{key:"price_stock",verify:!1,ref:ce.value},{key:"detail",verify:!1,ref:ue.value}];e.forEach((r,t)=>{r.ref.validate(s=>{r.verify=s})}),setTimeout(()=>{var r=!0;for(let t=0;t<e.length;t++)if(e[t].verify==!1){H.value=e[t].key,r=!1;break}r&&p&&p()},10)},Ze=()=>{Be(()=>{if(q.value)return;q.value=!0;let p=a.goods_id?nl:pl,e=re(a),r=[];e.goods_category.forEach(t=>{typeof t=="object"?t.forEach(s=>{r.indexOf(s)==-1&&r.push(s)}):r.indexOf(t)==-1&&r.push(t)}),e.goods_category=r,e.goods_sku_data=_,e.goods_spec_format=b,p(e).then(t=>{q.value=!1,U.push("/shop/goods/list")}).catch(t=>{q.value=!1})})},je=()=>{U.push("/shop/goods/list")};return(p,e)=>{const r=Ke,t=ul,s=Qe,g=_l,V=ml,O=fl,G=gl,F=hl,y=bl,E=kl,B=Je,se=vl,ke=Nl("CircleCloseFilled"),ve=Xe,A=Vl,qe=wl,Me=He,ze=yl,Ae=xl;return f(),h("div",Pl,[i("div",Gl,[i("div",{class:"left",onClick:e[0]||(e[0]=o=>d(U).push("/shop/goods/list"))},[Il,i("span",Ol,m(d(l)("returnToPreviousPage")),1)]),Dl,i("span",Ll,m(a.goods_id?d(l)("updateGoods"):d(l)("addGoods")),1)]),n(Ae,{class:"box-card !border-none",shadow:"never"},{default:c(()=>[n(ze,{modelValue:H.value,"onUpdate:modelValue":e[26]||(e[26]=o=>H.value=o),class:"",onTabClick:we},{default:c(()=>[n(se,{label:d(l)("basicInfoTab"),name:"basic"},{default:c(()=>[n(B,{model:a,"label-width":"120px",ref_key:"basicFormRef",ref:pe,rules:d(oe),class:"page-form"},{default:c(()=>[a.goods_id?(f(),I(r,{key:0,label:d(l)("goodsType")},{default:c(()=>[(f(!0),h(v,null,N(K,(o,S)=>(f(),h("div",{key:o.type,class:ie(["goods-type-wrap",[a.goods_type==o.type?"selected":"disabled"]])},[i("div",$l,m(o.name),1),i("div",Rl,"("+m(o.desc)+")",1),a.goods_type==o.type?(f(),h(v,{key:0},[Fl,Bl],64)):L("",!0)],2))),128))]),_:1},8,["label"])):(f(),I(r,{key:1,label:d(l)("goodsType")},{default:c(()=>[(f(!0),h(v,null,N(K,(o,S)=>(f(),h("div",{class:ie(["goods-type-wrap",{selected:a.goods_type==o.type}]),key:o.type,onClick:T=>xe(o)},[i("div",jl,m(o.name),1),i("div",ql,"("+m(o.desc)+")",1),a.goods_type==o.type?(f(),h(v,{key:0},[Ml,zl],64)):L("",!0)],10,Zl))),128))]),_:1},8,["label"])),n(r,{label:d(l)("goodsName"),prop:"goods_name"},{default:c(()=>[n(t,{modelValue:a.goods_name,"onUpdate:modelValue":e[1]||(e[1]=o=>a.goods_name=o),clearable:"",placeholder:d(l)("goodsNamePlaceholder"),class:"input-width",maxlength:"60","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(r,{label:d(l)("subTitle"),prop:"sub_title"},{default:c(()=>[n(t,{modelValue:a.sub_title,"onUpdate:modelValue":e[2]||(e[2]=o=>a.sub_title=o),clearable:"",placeholder:d(l)("subTitlePlaceholder"),class:"input-width",maxlength:"80","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(r,{label:d(l)("goodsImage"),prop:"goods_image"},{default:c(()=>[n(s,{modelValue:a.goods_image,"onUpdate:modelValue":e[3]||(e[3]=o=>a.goods_image=o),limit:10},null,8,["modelValue"])]),_:1},8,["label"]),n(r,{label:d(l)("goodsCategory"),prop:"goods_category"},{default:c(()=>[n(g,{modelValue:a.goods_category,"onUpdate:modelValue":e[4]||(e[4]=o=>a.goods_category=o),options:J,props:Ee,clearable:"",filterable:"",onChange:Se},null,8,["modelValue","options"]),i("div",Al,[i("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:_e},m(d(l)("refresh")),1),i("span",{class:"cursor-pointer text-primary",onClick:Ne},m(d(l)("addGoodsCategory")),1)])]),_:1},8,["label"]),n(r,{label:d(l)("brand")},{default:c(()=>[n(O,{modelValue:a.brand_id,"onUpdate:modelValue":e[5]||(e[5]=o=>a.brand_id=o),placeholder:d(l)("brandPlaceholder"),clearable:""},{default:c(()=>[(f(!0),h(v,null,N(Q,o=>(f(),I(V,{key:o.brand_id,label:o.brand_name,value:o.brand_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),i("div",Hl,[i("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:me},m(d(l)("refresh")),1),i("span",{class:"cursor-pointer text-primary",onClick:Ce},m(d(l)("addGoodsBrand")),1)])]),_:1},8,["label"]),n(r,{label:d(l)("label")},{default:c(()=>[n(F,{modelValue:a.label_ids,"onUpdate:modelValue":e[6]||(e[6]=o=>a.label_ids=o)},{default:c(()=>[(f(!0),h(v,null,N(W,o=>(f(),I(G,{label:o.label_id},{default:c(()=>[w(m(o.label_name),1)]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"]),i("div",Kl,[i("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:fe},m(d(l)("refresh")),1),i("span",{class:"cursor-pointer text-primary",onClick:Te},m(d(l)("addGoodsLabel")),1)])]),_:1},8,["label"]),n(r,{label:d(l)("goodsService")},{default:c(()=>[n(F,{modelValue:a.service_ids,"onUpdate:modelValue":e[7]||(e[7]=o=>a.service_ids=o)},{default:c(()=>[(f(!0),h(v,null,N(X,o=>(f(),I(G,{label:o.service_id},{default:c(()=>[w(m(o.service_name),1)]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"]),i("div",Jl,[i("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:ge},m(d(l)("refresh")),1),i("span",{class:"cursor-pointer text-primary",onClick:Ue},m(d(l)("addGoodsService")),1)])]),_:1},8,["label"]),a.addon_shop_supplier&&a.addon_shop_supplier.status==1?(f(),I(r,{key:2,label:d(l)("supplier")},{default:c(()=>[n(O,{modelValue:a.supplier_id,"onUpdate:modelValue":e[8]||(e[8]=o=>a.supplier_id=o),placeholder:d(l)("supplierPlaceholder"),clearable:""},{default:c(()=>[(f(!0),h(v,null,N(Y,o=>(f(),I(V,{key:o.supplier_id,label:o.supplier_name,value:o.supplier_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),i("div",Ql,[i("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:he},m(d(l)("refresh")),1),i("span",{class:"cursor-pointer text-primary",onClick:Pe},m(d(l)("addSupplier")),1)])]),_:1},8,["label"])):L("",!0),n(r,{label:d(l)("status")},{default:c(()=>[n(E,{modelValue:a.status,"onUpdate:modelValue":e[9]||(e[9]=o=>a.status=o)},{default:c(()=>[n(y,{label:"1"},{default:c(()=>[w(m(d(l)("statusOn")),1)]),_:1}),n(y,{label:"0"},{default:c(()=>[w(m(d(l)("statusOff")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),n(r,{label:d(l)("unit"),prop:"unit"},{default:c(()=>[n(t,{modelValue:a.unit,"onUpdate:modelValue":e[10]||(e[10]=o=>a.unit=o),clearable:"",placeholder:d(l)("unitPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"6"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(r,{label:d(l)("virtualSaleNum"),prop:"virtual_sale_num"},{default:c(()=>[n(t,{modelValue:a.virtual_sale_num,"onUpdate:modelValue":e[11]||(e[11]=o=>a.virtual_sale_num=o),clearable:"",placeholder:d(l)("virtualSaleNumPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"10"},{append:c(()=>[w(m(a.unit?a.unit:"件"),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),n(r,{label:d(l)("sort"),prop:"sort"},{default:c(()=>[n(t,{modelValue:a.sort,"onUpdate:modelValue":e[12]||(e[12]=o=>a.sort=o),clearable:"",placeholder:d(l)("sortPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"10"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"]),n(se,{label:d(l)("priceStockTab"),name:"price_stock"},{default:c(()=>[n(B,{model:a,"label-width":"120px",ref_key:"priceStockFormRef",ref:ce,rules:d(oe),class:"page-form"},{default:c(()=>[n(r,{label:d(l)("specType"),prop:"spec_type"},{default:c(()=>[n(E,{modelValue:a.spec_type,"onUpdate:modelValue":e[13]||(e[13]=o=>a.spec_type=o)},{default:c(()=>[n(y,{label:"single"},{default:c(()=>[w(m(d(l)("singleSpec")),1)]),_:1}),n(y,{label:"multi"},{default:c(()=>[w(m(d(l)("multiSpec")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),a.spec_type=="single"?(f(),h(v,{key:0},[n(r,{label:d(l)("price"),prop:"price"},{default:c(()=>[n(t,{modelValue:a.price,"onUpdate:modelValue":e[14]||(e[14]=o=>a.price=o),clearable:"",placeholder:"0.00",class:"input-width",type:"number",maxlength:"10"},{append:c(()=>[w(m(d(l)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),n(r,{label:d(l)("marketPrice"),prop:"market_price"},{default:c(()=>[n(t,{modelValue:a.market_price,"onUpdate:modelValue":e[15]||(e[15]=o=>a.market_price=o),clearable:"",placeholder:"0.00",class:"input-width",type:"number",maxlength:"10"},{append:c(()=>[w(m(d(l)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),n(r,{label:d(l)("costPrice"),prop:"cost_price"},{default:c(()=>[n(t,{modelValue:a.cost_price,"onUpdate:modelValue":e[16]||(e[16]=o=>a.cost_price=o),clearable:"",placeholder:"0.00",class:"input-width",type:"number",maxlength:"10"},{append:c(()=>[w(m(d(l)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),n(r,{label:d(l)("goodsStock"),prop:"stock"},{default:c(()=>[n(t,{modelValue:a.stock,"onUpdate:modelValue":e[17]||(e[17]=o=>a.stock=o),clearable:"",placeholder:d(l)("goodsStockPlaceholder"),class:"input-width",type:"number",maxlength:"10"},{append:c(()=>[w(m(a.unit?a.unit:d(l)("defaultUnit")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),n(r,{label:d(l)("skuNo")},{default:c(()=>[n(t,{modelValue:a.sku_no,"onUpdate:modelValue":e[18]||(e[18]=o=>a.sku_no=o),clearable:"",placeholder:d(l)("skuNoPlaceholder"),class:"input-width",maxlength:"50"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])],64)):L("",!0),de(i("div",Wl,[i("div",Xl,m(d(l)("goodsSku")),1),i("div",Yl,[i("div",eo,[(f(!0),h(v,null,N(b,(o,S)=>(f(),h("div",{class:"spec-item",key:o.id},[i("div",lo,[n(t,{modelValue:o.spec_name,"onUpdate:modelValue":T=>o.spec_name=T,clearable:"",placeholder:d(l)("specNamePlaceholder"),class:"input-width",maxlength:"20"},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),i("div",oo,[i("ul",{ref_for:!0,ref_key:"specValueRef",ref:M},[(f(!0),h(v,null,N(o.values,(T,k)=>(f(),h("li",{class:ie("draggable-element"+S),key:T.id},[n(t,{modelValue:T.spec_value_name,"onUpdate:modelValue":te=>T.spec_value_name=te,clearable:"",placeholder:d(l)("specValueNamePlaceholder"),class:"input-width","suffix-icon":d(We),maxlength:"20",onInput:d(De)},null,8,["modelValue","onUpdate:modelValue","placeholder","suffix-icon","onInput"]),n(ve,{class:"icon",size:20,color:"#7b7b7b",onClick:te=>Le(S,k)},{default:c(()=>[n(ke)]),_:2},1032,["onClick"])],2))),128))],512),i("span",{class:"text-color text-[14px] add-spec-value",onClick:T=>Oe(S)},m(d(l)("addSpecValue")),9,so),to]),n(ve,{class:"del-spec",size:20,color:"#7b7b7b",onClick:T=>Ie(S)},{default:c(()=>[n(ke)]),_:2},1032,["onClick"])]))),128))]),i("div",ao,[n(A,{type:"primary",onClick:Ge},{default:c(()=>[w(m(d(l)("addSpec")),1)]),_:1})]),de(i("div",ro,[i("label",null,m(d(l)("batchOperationSku")),1),n(O,{modelValue:u.spec,"onUpdate:modelValue":e[19]||(e[19]=o=>u.spec=o),class:"set-spec-select"},{default:c(()=>[n(V,{label:d(l)("all"),value:""},null,8,["label"]),(f(!0),h(v,null,N(_,(o,S)=>(f(),h(v,{key:S},[o.spec_name?(f(),I(V,{key:0,label:o.spec_name,value:S},null,8,["label","value"])):L("",!0)],64))),128))]),_:1},8,["modelValue"]),n(t,{modelValue:u.price,"onUpdate:modelValue":e[20]||(e[20]=o=>u.price=o),clearable:"",placeholder:d(l)("price"),class:"set-input",type:"number",maxlength:"10"},null,8,["modelValue","placeholder"]),n(t,{modelValue:u.market_price,"onUpdate:modelValue":e[21]||(e[21]=o=>u.market_price=o),clearable:"",placeholder:d(l)("marketPrice"),class:"set-input",type:"number",maxlength:"10"},null,8,["modelValue","placeholder"]),n(t,{modelValue:u.cost_price,"onUpdate:modelValue":e[22]||(e[22]=o=>u.cost_price=o),clearable:"",placeholder:d(l)("costPrice"),class:"set-input",type:"number",maxlength:"10"},null,8,["modelValue","placeholder"]),n(t,{modelValue:u.stock,"onUpdate:modelValue":e[23]||(e[23]=o=>u.stock=o),clearable:"",placeholder:d(l)("stock"),class:"set-input",type:"number",maxlength:"10"},null,8,["modelValue","placeholder"]),n(t,{modelValue:u.sku_no,"onUpdate:modelValue":e[24]||(e[24]=o=>u.sku_no=o),clearable:"",maxlength:"50",placeholder:d(l)("skuNo"),class:"set-input"},null,8,["modelValue","placeholder"]),n(A,{type:"primary",onClick:Fe},{default:c(()=>[w(m(d(l)("confirm")),1)]),_:1})],512),[[ae,Object.keys(_).length]]),de(i("div",io,[i("div",no,[i("div",po,[i("div",co,[i("table",uo,[i("thead",null,[i("tr",null,[(f(!0),h(v,null,N(b,(o,S)=>(f(),h(v,null,[o.spec_name?(f(),h("th",_o,[i("div",mo,m(o.spec_name),1)])):L("",!0)],64))),256)),i("th",fo,[i("div",go,m(d(l)("image")),1)]),i("th",ho,[i("div",bo,m(d(l)("price")),1)]),i("th",ko,[i("div",vo,m(d(l)("marketPrice")),1)]),i("th",yo,[i("div",Vo,m(d(l)("costPrice")),1)]),i("th",wo,[i("div",xo,m(d(l)("stock")),1)]),i("th",Eo,[i("div",So,m(d(l)("skuNo")),1)]),i("th",No,[i("div",Co,m(d(l)("defaultSku")),1)])])])])]),i("div",To,[i("div",Uo,[i("div",Po,[i("div",Go,[i("table",Io,[i("tbody",Oo,[(f(!0),h(v,null,N(_,(o,S,T)=>(f(),h("tr",{class:"el-table__row",key:S},[(f(!0),h(v,null,N(ee,(k,te)=>(f(),h(v,null,[k.index==T?(f(),h("td",{key:0,class:"el-table__cell",rowspan:k.rowSpan},[i("div",Lo,m(k.spec_value_name),1)],8,Do)):L("",!0)],64))),256)),i("td",$o,[i("div",Ro,[n(s,{modelValue:o.sku_image,"onUpdate:modelValue":k=>o.sku_image=k,limit:1,width:"50px",height:"50px"},null,8,["modelValue","onUpdate:modelValue"])])]),i("td",Fo,[i("div",Bo,[n(r,{prop:"sku_price",class:"sku-form-item-wrap"},{default:c(()=>[n(t,{modelValue:o.price,"onUpdate:modelValue":k=>o.price=k,clearable:"",placeholder:"0.00",maxlength:"10",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]),i("td",Zo,[i("div",jo,[n(r,{prop:"sku_market_price",class:"sku-form-item-wrap"},{default:c(()=>[n(t,{modelValue:o.market_price,"onUpdate:modelValue":k=>o.market_price=k,clearable:"",placeholder:"0.00",maxlength:"10",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]),i("td",qo,[i("div",Mo,[n(r,{prop:"'sku_cost_price",class:"sku-form-item-wrap"},{default:c(()=>[n(t,{modelValue:o.cost_price,"onUpdate:modelValue":k=>o.cost_price=k,clearable:"",placeholder:"0.00",maxlength:"10",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]),i("td",zo,[i("div",Ao,[n(r,{prop:"sku_stock",class:"sku-form-item-wrap"},{default:c(()=>[n(t,{modelValue:o.stock,"onUpdate:modelValue":k=>o.stock=k,clearable:"",placeholder:"0",onInput:d(le),maxlength:"10",type:"number"},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:2},1024)])]),i("td",Ho,[i("div",Ko,[n(t,{modelValue:o.sku_no,"onUpdate:modelValue":k=>o.sku_no=k,clearable:"",maxlength:"50"},null,8,["modelValue","onUpdate:modelValue"])])]),i("td",Jo,[i("div",Qo,[n(qe,{modelValue:o.is_default,"onUpdate:modelValue":k=>o.is_default=k,"active-value":1,"inactive-value":0,onChange:k=>$e(k,S)},null,8,["modelValue","onUpdate:modelValue","onChange"])])])]))),128))])])])])])])])])],512),[[ae,Object.keys(_).length]])])],512),[[ae,a.spec_type=="multi"]])]),_:1},8,["model","rules"])]),_:1},8,["label"]),n(se,{label:d(l)("goodsDesc"),name:"detail"},{default:c(()=>[n(B,{model:a,"label-width":"120px",ref_key:"detailFormRef",ref:ue,rules:d(oe),class:"page-form"},{default:c(()=>[n(r,{label:d(l)("goodsDesc"),prop:"goods_desc"},{default:c(()=>[n(Me,{modelValue:a.goods_desc,"onUpdate:modelValue":e[25]||(e[25]=o=>a.goods_desc=o),height:"600px",class:"editor-width"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1}),i("div",Wo,[i("div",Xo,[n(A,{type:"primary",onClick:e[27]||(e[27]=o=>Ze())},{default:c(()=>[w(m(d(l)("save")),1)]),_:1}),n(A,{onClick:e[28]||(e[28]=o=>je())},{default:c(()=>[w(m(d(l)("back")),1)]),_:1})])])])}}});const Ut=Ul(Yo,[["__scopeId","data-v-9b16f549"]]);export{Ut as default};
