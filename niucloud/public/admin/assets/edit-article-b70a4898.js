/* empty css             *//* empty css                   *//* empty css                  */import"./el-overlay-f7f710bd.js";/* empty css                  *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  */import"./index-aae906bf.js";/* empty css                   *//* empty css                 *//* empty css                        *//* empty css                    *//* empty css                     *//* empty css                  *//* empty css                        */import{E as j,b as F}from"./el-radio-c9a1047c.js";import{v as y}from"./error-492b6a5b.js";import{t as l}from"./index-5f4ce139.js";import{u as L}from"./diy-89488517.js";import{i as R}from"./common-465e36b3.js";import{i as M}from"./article-a302dda6.js";import{E as O,a as $}from"./index-a9458a49.js";import{a as q,E as G}from"./index-624573cc.js";import{E as Q}from"./index-96ef7065.js";import{E as H}from"./index-868cd458.js";import{E as J}from"./index-f97852b4.js";import{E as K}from"./index-800b62de.js";import{E as W}from"./index-4862d1b3.js";import{E as X}from"./index-4683bff4.js";import{v as Y}from"./directive-a07a10ed.js";import{d as Z,r as E,M as ee,Q as te,b as g,e as oe,f as p,x as m,u as e,q as o,p as n,v as u,L as v,n as le,m as w,C as ae,F as ie}from"./runtime-core.esm-bundler-7c3fd514.js";const ne={class:"edit-article"},re={class:"mb-[10px]"},se={class:"mt-[16px] flex justify-end"},me={class:"dialog-footer"},pe=Z({__name:"edit-article",setup(ce,{expose:S}){const r=L();r.editComponent.verify=s=>{var t={code:!0,message:""};return r.value[s].sources==="diy"&&r.value[s].articleIds.length===0&&(t.code=!1,t.message=l("selectArticleTip")),t};const d=E(!1),x=()=>{d.value=!0},a=ee({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{title:"",category_id:"",is_show:1}}),_=(s=1)=>{a.loading=!0,a.page=s,M({page:a.page,limit:a.limit,...a.searchParam}).then(t=>{a.loading=!1,a.data=t.data.data,a.total=t.data.total}).catch(()=>{a.loading=!1})};_();const b=E([]),V=s=>{b.value=s},I=()=>{r.editComponent.articleIds=[],b.value.forEach(s=>{r.editComponent.articleIds.push(s.id)}),d.value=!1};return S({}),(s,t)=>{const h=j,z=F,f=q,T=Q,k=te("ArrowRight"),A=H,D=G,c=$,N=J,P=K,C=W,B=X,U=Y;return g(),oe(ie,null,[p("div",ne,[p("h3",re,m(e(l)("articleData")),1),o(D,{"label-width":"80px",class:"px-[10px]"},{default:n(()=>[o(f,{label:e(l)("dataSources")},{default:n(()=>[o(z,{modelValue:e(r).editComponent.sources,"onUpdate:modelValue":t[0]||(t[0]=i=>e(r).editComponent.sources=i)},{default:n(()=>[o(h,{label:"initial"},{default:n(()=>[u(m(e(l)("defaultSources")),1)]),_:1}),o(h,{label:"diy"},{default:n(()=>[u(m(e(l)("manualSelectionSources")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),v(o(f,{label:e(l)("articleNum")},{default:n(()=>[o(T,{modelValue:e(r).editComponent.count,"onUpdate:modelValue":t[1]||(t[1]=i=>e(r).editComponent.count=i),"show-input":"",size:"small",class:"ml-[10px] article-slider",min:1,max:30},null,8,["modelValue"])]),_:1},8,["label"]),[[y,e(r).editComponent.sources=="initial"]]),v(o(f,{label:e(l)("manualSelectionSources"),class:"flex"},{default:n(()=>[p("span",{onClick:x,class:le(["cursor-pointer flex-1",{"text-primary":e(r).editComponent.articleIds.length>0}])},m(e(r).editComponent.articleIds.length>0?e(l)("selected")+e(r).editComponent.articleIds.length+e(l)("piece"):e(l)("selectPlaceholder")),3),o(A,null,{default:n(()=>[o(k)]),_:1})]),_:1},8,["label"]),[[y,e(r).editComponent.sources=="diy"]])]),_:1})]),o(B,{modelValue:d.value,"onUpdate:modelValue":t[6]||(t[6]=i=>d.value=i),title:e(l)("selectArticleTips"),width:"60%","close-on-press-escape":!1,"close-on-click-modal":!1},{footer:n(()=>[p("span",me,[o(C,{onClick:t[5]||(t[5]=i=>d.value=!1)},{default:n(()=>[u(m(e(l)("cancel")),1)]),_:1}),o(C,{type:"primary",onClick:I},{default:n(()=>[u(m(e(l)("confirm")),1)]),_:1})])]),default:n(()=>[p("div",null,[v((g(),w(e(O),{data:a.data,size:"large",onSelectionChange:V},{empty:n(()=>[p("span",null,m(a.loading?"":e(l)("emptyData")),1)]),default:n(()=>[o(c,{type:"selection",width:"55"}),o(c,{prop:"title","show-overflow-tooltip":!0,label:e(l)("articleTitle"),width:"140"},null,8,["label"]),o(c,{label:e(l)("articleImage"),"min-width":"120",align:"center"},{default:n(({row:i})=>[i.image?(g(),w(N,{key:0,class:"w-12 h-12",src:e(R)(i.image),fit:"contain"},null,8,["src"])):ae("",!0)]),_:1},8,["label"]),o(c,{prop:"category_name",label:e(l)("articleCategoryName"),align:"center","min-width":"140"},null,8,["label"]),o(c,{prop:"summary",label:e(l)("articleSummary"),width:"180","show-overflow-tooltip":!0},null,8,["label"]),o(c,{label:e(l)("createTime"),"min-width":"180",align:"center"},{default:n(({row:i})=>[u(m(i.create_time||""),1)]),_:1},8,["label"])]),_:1},8,["data"])),[[U,a.loading]]),p("div",se,[o(P,{"current-page":a.page,"onUpdate:currentPage":t[2]||(t[2]=i=>a.page=i),"page-size":a.limit,"onUpdate:pageSize":t[3]||(t[3]=i=>a.limit=i),layout:"total, sizes, prev, pager, next, jumper",total:a.total,onSizeChange:t[4]||(t[4]=i=>_()),onCurrentChange:_},null,8,["current-page","page-size","total"])])])]),_:1},8,["modelValue","title"])],64)}}});const Qe=Object.freeze(Object.defineProperty({__proto__:null,default:pe},Symbol.toStringTag,{value:"Module"}));export{Qe as _};
