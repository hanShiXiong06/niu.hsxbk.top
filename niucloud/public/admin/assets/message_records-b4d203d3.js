/* empty css             *//* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  */import"./index-aae906bf.js";/* empty css                   *//* empty css                 *//* empty css                    *//* empty css                        *//* empty css                *//* empty css                     *//* empty css                  *//* empty css                       */import{t}from"./index-5f4ce139.js";import{c as j,d as I}from"./message-aca08575.js";import{_ as O}from"./message-records-info.vue_vue_type_script_setup_true_lang-d945015b.js";import{E as R}from"./index-95693143.js";import{a as H,E as K}from"./index-624573cc.js";import{a as q,b as G,E as A}from"./index-9fbce820.js";import{E as J}from"./index-7175b959.js";import{E as Q}from"./index-4862d1b3.js";import{E as W}from"./index-acd12562.js";import{a as X,E as Z}from"./index-a9458a49.js";import{E as ee}from"./index-800b62de.js";import{v as te}from"./directive-a07a10ed.js";import{d as ae,M as D,r as V,b as m,e as c,q as o,p as i,u as r,F as L,t as T,m as v,v as y,x as p,f as k,L as oe,C as E}from"./runtime-core.esm-bundler-7c3fd514.js";import"./vue-router-b5675730.js";import"./el-overlay-f7f710bd.js";import"./plugin-vue_export-helper-edbdb6f8.js";import"./index-f02197a7.js";import"./index-868cd458.js";import"./index-a3cf5375.js";import"./event-9519ab40.js";import"./focus-trap-bb1e8c7a.js";import"./index-7b0897f9.js";import"./error-492b6a5b.js";import"./el-switch-3d36d31d.js";import"./index-cf47f151.js";import"./index-2083be2e.js";import"./index-47617222.js";import"./validator-62f68fe3.js";import"./el-radio-c9a1047c.js";import"./common-465e36b3.js";import"./index-2f0b1bf3.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./el-avatar-7d17482e.js";import"./index-be5dc120.js";import"./common-cc37bda4.js";import"./common-2cf17469.js";/* empty css                  */import"./index-4683bff4.js";import"./index-c656f08b.js";import"./_baseClone-cf40e5b2.js";import"./_Uint8Array-de4f83bb.js";import"./_initCloneObject-bc5ed9bb.js";import"./index-2804b007.js";import"./isEqual-f40f939e.js";import"./flatten-b3585bb8.js";import"./index-6ed8f3b9.js";import"./index-470ade69.js";import"./_isIterateeCall-7a6fae02.js";const le={class:"main-container"},re={class:"mt-[16px]"},ie={key:0},me={key:1},se={key:2},ne={class:"mt-[16px] flex justify-end"},Et=ae({__name:"message_records",setup(pe){const e=D({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{key:"",receiver:"",create_time:[]}}),g=D({buyer:{label:t("buyerMessage"),list:[]},seller:{label:t("sellerMessage"),list:[]}});(async()=>{await j().then(s=>{Object.keys(s.data).forEach(a=>{const f=s.data[a],n={value:a,name:f.name};f.receiver_type==1?g.buyer.list.push(n):g.seller.list.push(n)})}).catch(()=>{})})();const w=V(),u=(s=1)=>{e.loading=!0,e.page=s,I({page:e.page,limit:e.limit,...e.searchParam}).then(a=>{e.loading=!1,e.data=a.data.data,e.total=a.data.total}).catch(()=>{e.loading=!1})};u();const b=V(null),F=s=>{b.value.setFormData(s),b.value.showDialog=!0};return(s,a)=>{const f=R,n=H,P=q,M=G,z=A,B=J,h=Q,U=K,C=W,d=X,$=Z,N=ee,S=te;return m(),c("div",le,[o(C,{class:"box-card !border-none",shadow:"never"},{default:i(()=>[o(C,{class:"box-card !border-none my-[16px] table-search-wrap",shadow:"never"},{default:i(()=>[o(U,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:w},{default:i(()=>[o(n,{label:r(t)("searchReceiver"),prop:"receiver"},{default:i(()=>[o(f,{modelValue:e.searchParam.receiver,"onUpdate:modelValue":a[0]||(a[0]=l=>e.searchParam.receiver=l),placeholder:r(t)("receiverPlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(n,{label:r(t)("messageKey"),prop:"key"},{default:i(()=>[o(z,{modelValue:e.searchParam.key,"onUpdate:modelValue":a[1]||(a[1]=l=>e.searchParam.key=l),clearable:"",placeholder:r(t)("groupIdPlaceholder"),class:"input-width"},{default:i(()=>[o(P,{label:r(t)("selectPlaceholder"),value:""},null,8,["label"]),(m(!0),c(L,null,T(g,(l,_)=>(m(),v(M,{key:_,label:l.label},{default:i(()=>[(m(!0),c(L,null,T(l.list,(x,Y)=>(m(),v(P,{label:x.name,value:x.value,key:Y},null,8,["label","value"]))),128))]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),o(n,{label:r(t)("createTime"),prop:"create_time"},{default:i(()=>[o(B,{modelValue:e.searchParam.create_time,"onUpdate:modelValue":a[2]||(a[2]=l=>e.searchParam.create_time=l),type:"datetimerange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":r(t)("startDate"),"end-placeholder":r(t)("endDate")},null,8,["modelValue","start-placeholder","end-placeholder"])]),_:1},8,["label"]),o(n,null,{default:i(()=>[o(h,{type:"primary",onClick:a[3]||(a[3]=l=>u())},{default:i(()=>[y(p(r(t)("search")),1)]),_:1}),o(h,{onClick:a[4]||(a[4]=l=>{var _;return(_=w.value)==null?void 0:_.resetFields()})},{default:i(()=>[y(p(r(t)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),k("div",re,[oe((m(),v($,{data:e.data,size:"large"},{empty:i(()=>[k("span",null,p(e.loading?"":r(t)("emptyData")),1)]),default:i(()=>[o(d,{prop:"name",label:r(t)("messageKey"),"min-width":"120"},null,8,["label"]),o(d,{prop:"message_type",label:r(t)("messageType"),"min-width":"120"},{default:i(({row:l})=>[l.message_type=="sms"?(m(),c("div",ie,p(r(t)("sms")),1)):E("",!0),l.message_type=="wechat"?(m(),c("div",me,p(r(t)("wechat")),1)):E("",!0),l.message_type=="weapp"?(m(),c("div",se,p(r(t)("weapp")),1)):E("",!0)]),_:1},8,["label"]),o(d,{prop:"nickname",label:r(t)("nickname"),"min-width":"120"},null,8,["label"]),o(d,{prop:"receiver",label:r(t)("receiver"),"min-width":"120"},null,8,["label"]),o(d,{prop:"create_time",label:r(t)("createTime"),"min-width":"140"},null,8,["label"]),o(d,{label:r(t)("operation"),fixed:"right",width:"100"},{default:i(({row:l})=>[o(h,{type:"primary",link:"",onClick:_=>F(l)},{default:i(()=>[y(p(r(t)("info")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[S,e.loading]]),k("div",ne,[o(N,{"current-page":e.page,"onUpdate:currentPage":a[5]||(a[5]=l=>e.page=l),"page-size":e.limit,"onUpdate:pageSize":a[6]||(a[6]=l=>e.limit=l),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:a[7]||(a[7]=l=>u()),onCurrentChange:u},null,8,["current-page","page-size","total"])])]),o(O,{ref_key:"recordsDialog",ref:b,onComplete:u},null,512)]),_:1})])}}});export{Et as default};
