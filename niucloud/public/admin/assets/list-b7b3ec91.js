/* empty css             *//* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  */import"./index-1bbcede8.js";/* empty css                  *//* empty css                 *//* empty css                        *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                    *//* empty css                */import{a as re,E as se}from"./el-form-item-144bc604.js";/* empty css                  *//* empty css                       */import{t as a}from"./index-3862e13d.js";import{k as ne,l as ie,m as de,n as me,h as pe,i as ce}from"./order-09a5ee1d.js";import{_ as _e}from"./delivery-action.vue_vue_type_style_index_0_lang-e14444d6.js";import{_ as ue}from"./order-notes.vue_vue_type_style_index_0_lang-b920eca9.js";import{c as fe}from"./common-a45d855f.js";import{u as he,a as be}from"./vue-router-9f815af7.js";import{E as O}from"./index-b74135ff.js";import{a as ye,E as ge}from"./index-b7b91fcb.js";import{E as xe}from"./index-5f2625ed.js";import{E as ve}from"./index-70d29087.js";import{E as ke}from"./index-6f670765.js";import{E as we}from"./index-c5af06c2.js";import{a as Ce,E as Ee}from"./index-6982a78b.js";import{a as De,E as Te}from"./index-6191b0b4.js";import{E as Ve}from"./index-d64b2f0e.js";import{E as Pe}from"./index-cefc0b67.js";import{v as Fe}from"./directive-d226d53f.js";import{d as Ne,r as b,M as Be,b as c,e as _,q as e,p as s,f as d,x as i,u as o,F as P,t as F,m as C,v as g,L as Se,C as x}from"./runtime-core.esm-bundler-c17ab5bc.js";import{_ as $e}from"./_plugin-vue_export-helper-c27b6911.js";import"./event-3e082a4a.js";import"./plugin-vue_export-helper-c018272e.js";import"./index-9ef6974e.js";import"./index-0d36ccbf.js";import"./el-main-03d12282.js";import"./index-e42600b8.js";import"./el-overlay-380df695.js";import"./index-93efb1b5.js";import"./focus-trap-c0148071.js";import"./index-4b62c73a.js";import"./index-332680c2.js";import"./index-a6ffcea0.js";import"./index-138bfa06.js";import"./index-72bf6cb5.js";import"./_baseClone-37ba2e68.js";/* empty css                       *//* empty css                 */import"./delivery-3b5821cf.js";/* empty css                   */import"./cloneDeep-028669bf.js";import"./index-6ff31475.js";import"./aria-adfa05c5.js";import"./validator-f5e079db.js";import"./index-5c20ff8f.js";import"./strings-e72e60f7.js";import"./isEqual-ca98cf0c.js";import"./debounce-196ce6a6.js";import"./index-bfecf17f.js";import"./arrays-e667dc24.js";import"./index-784d7581.js";import"./index-43e913f7.js";import"./_isIterateeCall-797defa1.js";const Ue={class:"main-container"},Me={class:"flex justify-between items-center"},Ye={class:"text-[20px]"},ze={class:"table-body min-h-[150px]"},Oe={key:0},je={class:"flex items-center justify-between bg-[#f7f8fa] mt-[10px] border-[#e4e7ed] border-solid border-b-[1px] px-3 h-[35px] text-[12px] text-[#666]"},Ae={class:""},Le={class:"ml-5"},Re={key:0,class:"ml-5"},He={class:"flex cursor-pointer"},qe={class:"flex items-center min-w-[50px] mr-[10px]"},Ge=["src"],Ie={key:1,class:"w-[50px] h-[50px]",src:"",alt:""},Je={class:"flex flex-col"},Ke={class:"multi-hidden text-[14px]"},Qe={class:"text-[12px] text-[#999]"},We={class:"flex flex-col"},Xe={class:"text-[13px]"},Ze={class:"text-[13px] mt-[5px]"},et={class:"flex flex-col"},tt={key:0},at={class:"text-[14px]"},ot={class:"flex flex-col"},lt=["onClick"],rt={class:"text-[12px] mt-[5px]"},st={class:"text-[12px] mt-[5px]"},nt={class:"text-[14px]"},it={class:"text-[14px]"},dt={key:0,class:"text-[14px] h-[30px] leading-[30px] px-3 bg-[#fff0e5] text-[#ff7f5b]"},mt={class:"mr-[5px]"},pt={class:"mt-[16px] flex justify-end"},ct=Ne({__name:"list",setup(_t){const j=he(),N=be(),A=j.meta.title,B=b(""),L=b([]),S=b([]),$=b([]);(async()=>{L.value=await(await ne()).data,S.value=await(await ie()).data,$.value=await(await de()).data})();const E=b(null),D=b(!1),R=()=>{if(D.value==!1){D.value=!0;for(const n in l.data)for(const r in l.data[n].order_goods)E.value[n].toggleRowSelection(l.data[n].order_goods[r],!0)}else{D.value=!1;for(const n in l.data)for(const r in l.data[n].order_goods)E.value[n].clearSelection()}},l=Be({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{search_type:"order_no",search_name:"",pay_type:"",order_from:"",status:"",create_time:[],pay_time:[]}}),U=b();b([]);const u=(n=1)=>{l.loading=!0,l.page=n,me({page:l.page,limit:l.limit,...l.searchParam}).then(r=>{l.loading=!1,l.data=r.data.data.map(f=>(f.order_goods.forEach(h=>{h.rowNum=f.order_goods.length}),f)),l.total=r.data.total}).catch(()=>{l.loading=!1})};u();const H=n=>{l.searchParam.status=n,u()},q=({row:n,column:r,rowIndex:f,columnIndex:h})=>f===0?h===0?[n.rowNum,1]:h>3?[n.rowNum,1]:[1,1]:h===0?[0,0]:h>3?[0,0]:[1,1],G=n=>{N.push("/shop/order/detail?order_id="+n.order_id)},I=n=>{const r=N.resolve({path:"/member/detail",query:{id:n}});window.open(r.href,"_blank")},J=n=>{O.confirm(a("orderCloseTips"),a("warning"),{confirmButtonText:a("confirm"),cancelButtonText:a("cancel"),type:"warning"}).then(()=>{pe(n.order_id).then(()=>{u()})})},T=b(null),K=n=>{T.value.setFormData(n),T.value.showDialog=!0},V=b(null),Q=n=>{V.value.setFormData(n),V.value.showDialog=!0},W=n=>{O.confirm(a("orderFinishTips"),a("warning"),{confirmButtonText:a("confirm"),cancelButtonText:a("cancel"),type:"warning"}).then(()=>{ce(n.order_id).then(()=>{u()})})},X=n=>{n&&(n.resetFields(),u())};return(n,r)=>{const f=ye,h=ge,Z=xe,v=re,M=ve,y=ke,ee=se,Y=we,k=Ce,te=Ee,p=De,z=Te,ae=Ve,oe=Pe,le=Fe;return c(),_("div",Ue,[e(Y,{class:"box-card !border-none",shadow:"never"},{default:s(()=>[d("div",Me,[d("span",Ye,i(o(A)),1)]),e(Y,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:s(()=>[e(ee,{inline:!0,model:l.searchParam,ref_key:"searchFormRef",ref:U},{default:s(()=>[e(v,{label:o(a)("orderInfo"),prop:"search_name"},{default:s(()=>[e(h,{modelValue:l.searchParam.search_type,"onUpdate:modelValue":r[0]||(r[0]=t=>l.searchParam.search_type=t),clearable:"",class:"input-item"},{default:s(()=>[e(f,{label:o(a)("orderNo"),value:"order_no"},null,8,["label"]),e(f,{label:o(a)("orderTradoNo"),value:"order_trado_no"},null,8,["label"])]),_:1},8,["modelValue"]),e(Z,{class:"input-item ml-3",modelValue:l.searchParam.search_name,"onUpdate:modelValue":r[1]||(r[1]=t=>l.searchParam.search_name=t)},null,8,["modelValue"])]),_:1},8,["label"]),e(v,{label:o(a)("payType"),prop:"pay_type"},{default:s(()=>[e(h,{modelValue:l.searchParam.pay_type,"onUpdate:modelValue":r[2]||(r[2]=t=>l.searchParam.pay_type=t),clearable:"",class:"input-item"},{default:s(()=>[(c(!0),_(P,null,F(S.value,(t,w)=>(c(),C(f,{key:w,label:t.name,value:t.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(v,{label:o(a)("fromType"),prop:"from_type"},{default:s(()=>[e(h,{modelValue:l.searchParam.order_from,"onUpdate:modelValue":r[3]||(r[3]=t=>l.searchParam.order_from=t),clearable:"",class:"input-item"},{default:s(()=>[(c(!0),_(P,null,F($.value,(t,w)=>(c(),C(f,{key:w,label:t,value:w},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(v,{label:o(a)("createTime"),prop:"create_time"},{default:s(()=>[e(M,{modelValue:l.searchParam.create_time,"onUpdate:modelValue":r[4]||(r[4]=t=>l.searchParam.create_time=t),type:"datetimerange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":o(a)("startDate"),"end-placeholder":o(a)("endDate")},null,8,["modelValue","start-placeholder","end-placeholder"])]),_:1},8,["label"]),e(v,{label:o(a)("payTime"),prop:"pay_time"},{default:s(()=>[e(M,{modelValue:l.searchParam.pay_time,"onUpdate:modelValue":r[5]||(r[5]=t=>l.searchParam.pay_time=t),type:"datetimerange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":o(a)("startDate"),"end-placeholder":o(a)("endDate")},null,8,["modelValue","start-placeholder","end-placeholder"])]),_:1},8,["label"]),e(v,null,{default:s(()=>[e(y,{type:"primary",onClick:r[6]||(r[6]=t=>u())},{default:s(()=>[g(i(o(a)("search")),1)]),_:1}),e(y,{onClick:r[7]||(r[7]=t=>X(U.value))},{default:s(()=>[g(i(o(a)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(te,{modelValue:B.value,"onUpdate:modelValue":r[8]||(r[8]=t=>B.value=t),class:"demo-tabs",onTabChange:H},{default:s(()=>[e(k,{label:o(a)("all"),name:""},null,8,["label"]),e(k,{label:o(a)("toBePaid"),name:"1"},null,8,["label"]),e(k,{label:o(a)("toBeShipped"),name:"2"},null,8,["label"]),e(k,{label:o(a)("shipped"),name:"3"},null,8,["label"]),e(k,{label:o(a)("completed"),name:"5"},null,8,["label"]),e(k,{label:o(a)("closed"),name:"-1"},null,8,["label"])]),_:1},8,["modelValue"]),d("div",null,[e(z,{data:l.data,size:"large",class:"table-top",onSelectAll:R},{default:s(()=>[e(p,{type:"selection",width:"40"}),e(p,{label:o(a)("orderGoods"),"min-width":"200"},null,8,["label"]),e(p,{label:o(a)("goodsPriceNumber"),"min-width":"120"},null,8,["label"]),e(p,{label:o(a)("rightsProtection"),"min-width":"120"},null,8,["label"]),e(p,{label:o(a)("orderMoney"),"min-width":"120"},null,8,["label"]),e(p,{label:o(a)("buyInfo"),"min-width":"120"},null,8,["label"]),e(p,{label:o(a)("deliveryType"),"min-width":"100"},null,8,["label"]),e(p,{label:o(a)("orderStatus"),"min-width":"100"},null,8,["label"]),e(p,{label:o(a)("operation"),fixed:"right",align:"right","min-width":"120"},null,8,["label"])]),_:1},8,["data"]),Se((c(),_("div",ze,[l.loading?x("",!0):(c(),_("div",Oe,[l.data.length?(c(!0),_(P,{key:0},F(l.data,(t,w)=>(c(),_("div",{key:w},[d("div",je,[d("div",null,[d("span",Ae,i(o(a)("orderNo"))+"："+i(t.order_no),1),d("span",Le,i(o(a)("createTime"))+"："+i(t.create_time),1),t.pay?(c(),_("span",Re,i(o(a)("payType"))+"："+i(t.pay.type_name),1)):x("",!0)]),d("div",null,[e(y,{type:"primary",link:"",onClick:m=>G(t)},{default:s(()=>[g(i(o(a)("info")),1)]),_:2},1032,["onClick"]),e(y,{type:"primary",link:"",onClick:m=>Q(t)},{default:s(()=>[g(i(o(a)("notes")),1)]),_:2},1032,["onClick"])])]),e(z,{data:t.order_goods,size:"large","show-header":!1,"span-method":q,ref_for:!0,ref_key:"multipleTable",ref:E},{default:s(()=>[e(p,{type:"selection",width:"40"}),e(p,{align:"left","min-width":"200"},{default:s(({row:m})=>[d("div",He,[d("div",qe,[m.goods_image?(c(),_("img",{key:0,class:"w-[50px] h-[50px]",src:o(fe)(m.goods_image),alt:""},null,8,Ge)):(c(),_("img",Ie))]),d("div",Je,[d("p",Ke,i(m.goods_name),1),d("span",Qe,i(m.sku_name),1)])])]),_:1}),e(p,{"min-width":"120"},{default:s(({row:m})=>[d("div",We,[d("span",Xe,"￥"+i(m.goods_money),1),d("span",Ze,i(m.num)+i(o(a)("piece")),1)])]),_:1}),e(p,{"min-width":"120"},{default:s(({row:m})=>[d("div",et,[m.status!=1?(c(),_("span",tt,i(m.status_name),1)):x("",!0)])]),_:1}),e(p,{"min-width":"120","class-name":"border-0 border-l-[1px] border-solid border-[var(--el-table-border-color)]"},{default:s(({row:m})=>[d("span",at,"￥"+i(t.order_money),1)]),_:2},1024),e(p,{"min-width":"120"},{default:s(({row:m})=>[d("div",ot,[d("span",{class:"text-[12px] text-primary cursor-pointer",onClick:ft=>I(t.member.member_id)},i(t.member.nickname),9,lt),d("span",rt,i(t.taker_name)+" "+i(t.taker_mobile),1),d("span",st,i(t.taker_full_address),1)])]),_:2},1024),e(p,{"min-width":"100"},{default:s(({row:m})=>[d("span",nt,i(t.delivery_type_name),1)]),_:2},1024),e(p,{"min-width":"100"},{default:s(({row:m})=>[d("span",it,i(t.status_name.name),1)]),_:2},1024),e(p,{align:"right","min-width":"120"},{default:s(()=>[t.status==1?(c(),C(y,{key:0,type:"primary",link:"",onClick:m=>J(t)},{default:s(()=>[g(i(o(a)("orderClose")),1)]),_:2},1032,["onClick"])):x("",!0),t.status==2?(c(),C(y,{key:1,type:"primary",link:"",onClick:m=>K(t)},{default:s(()=>[g(i(o(a)("sendOutGoods")),1)]),_:2},1032,["onClick"])):x("",!0),t.status==3?(c(),C(y,{key:2,type:"primary",link:"",onClick:m=>W(t)},{default:s(()=>[g(i(o(a)("confirmTakeDelivery")),1)]),_:2},1032,["onClick"])):x("",!0)]),_:2},1024)]),_:2},1032,["data"]),t.shop_remark?(c(),_("div",dt,[d("span",mt,i(o(a)("notes"))+"：",1),d("span",null,i(t.shop_remark),1)])):x("",!0)]))),128)):(c(),C(ae,{key:1,description:o(a)("emptyData")},null,8,["description"]))]))])),[[le,l.loading]]),d("div",pt,[e(oe,{"current-page":l.page,"onUpdate:currentPage":r[9]||(r[9]=t=>l.page=t),"page-size":l.limit,"onUpdate:pageSize":r[10]||(r[10]=t=>l.limit=t),layout:"total, sizes, prev, pager, next, jumper",total:l.total,onSizeChange:r[11]||(r[11]=t=>u()),onCurrentChange:u},null,8,["current-page","page-size","total"])])])]),_:1}),e(_e,{ref_key:"deliveryActionDialog",ref:T,onComplete:u},null,512),e(ue,{ref_key:"orderNotesDialog",ref:V,onComplete:u},null,512)])}}});const Na=$e(ct,[["__scopeId","data-v-065125d1"]]);export{Na as default};
