/* empty css             *//* empty css                   *//* empty css                        *//* empty css                 *//* empty css                  */import{E as L}from"./el-overlay-380df695.js";/* empty css                      *//* empty css               *//* empty css                  *//* empty css                  */import"./index-d5447f06.js";/* empty css                  *//* empty css                        *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css                        */import{a as j,E as $}from"./el-form-item-144bc604.js";/* empty css                  *//* empty css                        *//* empty css                       *//* empty css                 */import{v as g}from"./event-3e082a4a.js";import{t as a}from"./index-ebefdd26.js";import{u as q}from"./diy-34d61d47.js";import{c as G}from"./common-a45d855f.js";import{j as M}from"./article-72a680f9.js";import{E as H,b as J}from"./index-6ff31475.js";import{E as K}from"./index-8c9fa2a9.js";import{E as O}from"./index-9ef6974e.js";import{a as Q,E as W}from"./index-6191b0b4.js";import{E as X}from"./index-6701860e.js";import{E as Y}from"./index-cefc0b67.js";import{E as Z}from"./index-6f670765.js";import{E as ee}from"./index-3c4f5fae.js";import{v as te}from"./directive-d226d53f.js";import{d as oe,r as x,M as le,V as ae,b as v,e as ie,L as _,u as e,f as m,x as p,q as o,p as n,v as f,n as ne,m as V,C as re,g as me,F as se}from"./runtime-core.esm-bundler-c17ab5bc.js";import"./index-93efb1b5.js";import"./plugin-vue_export-helper-c018272e.js";import"./focus-trap-c0148071.js";import"./index-4b62c73a.js";import"./index-332680c2.js";import"./vue-router-9f815af7.js";import"./index-0d36ccbf.js";import"./el-main-03d12282.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-e42600b8.js";import"./index-a6ffcea0.js";import"./index-5f2625ed.js";import"./index-138bfa06.js";import"./index-72bf6cb5.js";import"./_baseClone-37ba2e68.js";import"./cloneDeep-028669bf.js";import"./index-b74135ff.js";import"./aria-adfa05c5.js";import"./validator-f5e079db.js";import"./index-2f9c8f6b.js";import"./index-43e913f7.js";import"./debounce-196ce6a6.js";import"./index-784d7581.js";import"./isEqual-ca98cf0c.js";import"./_isIterateeCall-797defa1.js";import"./index-bfecf17f.js";import"./index-f6eed9e8.js";import"./position-0d02b322.js";import"./index-b7b91fcb.js";import"./index-5c20ff8f.js";import"./strings-e72e60f7.js";const pe={class:"content-wrap"},de={class:"edit-attr-item-wrap"},ce={class:"mb-[10px]"},ue={class:"mt-[16px] flex justify-end"},_e={class:"dialog-footer"},fe={class:"style-wrap"},ge={class:"edit-attr-item-wrap"},be={class:"mb-[10px]"},Bt=oe({__name:"edit-article",setup(Ce,{expose:S}){const l=q();l.editComponent.ignore=[],l.editComponent.verify=s=>{var t={code:!0,message:""};return l.value[s].sources==="diy"&&l.value[s].articleIds.length===0&&(t.code=!1,t.message=a("selectArticleTip")),t};const u=x(!1),k=()=>{u.value=!0},r=le({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{title:"",category_id:"",is_show:1}}),b=(s=1)=>{r.loading=!0,r.page=s,M({page:r.page,limit:r.limit,...r.searchParam}).then(t=>{r.loading=!1,r.data=t.data.data,r.total=t.data.total}).catch(()=>{r.loading=!1})};b();const h=x([]),z=s=>{h.value=s},I=()=>{l.editComponent.articleIds=[],h.value.forEach(s=>{l.editComponent.articleIds.push(s.id)}),u.value=!1};return S({}),(s,t)=>{const w=H,R=J,d=j,C=K,T=ae("ArrowRight"),A=O,E=$,c=Q,B=X,D=W,U=Y,y=Z,N=L,P=ee,F=te;return v(),ie(se,null,[_(m("div",pe,[m("div",de,[m("h3",ce,p(e(a)("articleData")),1),o(E,{"label-width":"80px",class:"px-[10px]"},{default:n(()=>[o(d,{label:e(a)("dataSources")},{default:n(()=>[o(R,{modelValue:e(l).editComponent.sources,"onUpdate:modelValue":t[0]||(t[0]=i=>e(l).editComponent.sources=i)},{default:n(()=>[o(w,{label:"initial"},{default:n(()=>[f(p(e(a)("defaultSources")),1)]),_:1}),o(w,{label:"diy"},{default:n(()=>[f(p(e(a)("manualSelectionSources")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),_(o(d,{label:e(a)("articleNum")},{default:n(()=>[o(C,{modelValue:e(l).editComponent.count,"onUpdate:modelValue":t[1]||(t[1]=i=>e(l).editComponent.count=i),"show-input":"",size:"small",class:"ml-[10px] article-slider",min:1,max:30},null,8,["modelValue"])]),_:1},8,["label"]),[[g,e(l).editComponent.sources=="initial"]]),_(o(d,{label:e(a)("manualSelectionSources"),class:"flex"},{default:n(()=>[m("span",{onClick:k,class:ne(["cursor-pointer flex-1",{"text-primary":e(l).editComponent.articleIds.length>0}])},p(e(l).editComponent.articleIds.length>0?e(a)("selected")+e(l).editComponent.articleIds.length+e(a)("piece"):e(a)("selectPlaceholder")),3),o(A,null,{default:n(()=>[o(T)]),_:1})]),_:1},8,["label"]),[[g,e(l).editComponent.sources=="diy"]])]),_:1})]),o(N,{modelValue:u.value,"onUpdate:modelValue":t[6]||(t[6]=i=>u.value=i),title:e(a)("selectArticleTips"),width:"60%","close-on-press-escape":!1,"close-on-click-modal":!1},{footer:n(()=>[m("span",_e,[o(y,{onClick:t[5]||(t[5]=i=>u.value=!1)},{default:n(()=>[f(p(e(a)("cancel")),1)]),_:1}),o(y,{type:"primary",onClick:I},{default:n(()=>[f(p(e(a)("confirm")),1)]),_:1})])]),default:n(()=>[m("div",null,[_((v(),V(D,{data:r.data,size:"large",onSelectionChange:z},{empty:n(()=>[m("span",null,p(r.loading?"":e(a)("emptyData")),1)]),default:n(()=>[o(c,{type:"selection",width:"55"}),o(c,{prop:"title","show-overflow-tooltip":!0,label:e(a)("articleTitle"),width:"140"},null,8,["label"]),o(c,{label:e(a)("articleImage"),"min-width":"120",align:"center"},{default:n(({row:i})=>[i.image?(v(),V(B,{key:0,class:"w-12 h-12",src:e(G)(i.image),fit:"contain"},null,8,["src"])):re("",!0)]),_:1},8,["label"]),o(c,{prop:"category_name",label:e(a)("articleCategoryName"),align:"center","min-width":"140"},null,8,["label"]),o(c,{prop:"summary",label:e(a)("articleSummary"),width:"180","show-overflow-tooltip":!0},null,8,["label"]),o(c,{label:e(a)("createTime"),"min-width":"180",align:"center"},{default:n(({row:i})=>[f(p(i.create_time||""),1)]),_:1},8,["label"])]),_:1},8,["data"])),[[F,r.loading]]),m("div",ue,[o(U,{"current-page":r.page,"onUpdate:currentPage":t[2]||(t[2]=i=>r.page=i),"page-size":r.limit,"onUpdate:pageSize":t[3]||(t[3]=i=>r.limit=i),layout:"total, sizes, prev, pager, next, jumper",total:r.total,onSizeChange:t[4]||(t[4]=i=>b()),onCurrentChange:b},null,8,["current-page","page-size","total"])])])]),_:1},8,["modelValue","title"])],512),[[g,e(l).editTab=="content"]]),_(m("div",fe,[m("div",ge,[m("h3",be,p(e(a)("articleStyle")),1),o(E,{"label-width":"80px",class:"px-[10px]"},{default:n(()=>[o(d,{label:e(a)("articleBgColor")},{default:n(()=>[o(P,{modelValue:e(l).editComponent.elementBgColor,"onUpdate:modelValue":t[7]||(t[7]=i=>e(l).editComponent.elementBgColor=i),"show-alpha":"",predefine:e(l).predefineColors},null,8,["modelValue","predefine"])]),_:1},8,["label"]),o(d,{label:e(a)("topRounded")},{default:n(()=>[o(C,{modelValue:e(l).editComponent.topElementRounded,"onUpdate:modelValue":t[8]||(t[8]=i=>e(l).editComponent.topElementRounded=i),"show-input":"",size:"small",class:"ml-[10px] graphic-nav-slider",max:50},null,8,["modelValue"])]),_:1},8,["label"]),o(d,{label:e(a)("bottomRounded")},{default:n(()=>[o(C,{modelValue:e(l).editComponent.bottomElementRounded,"onUpdate:modelValue":t[9]||(t[9]=i=>e(l).editComponent.bottomElementRounded=i),"show-input":"",size:"small",class:"ml-[10px] graphic-nav-slider",max:50},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),me(s.$slots,"style")],512),[[g,e(l).editTab=="style"]])],64)}}});export{Bt as default};
