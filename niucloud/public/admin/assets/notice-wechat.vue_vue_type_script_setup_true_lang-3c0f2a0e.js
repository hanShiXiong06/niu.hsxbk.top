import"./base-0e92f4db.js";/* empty css                   */import{E as R}from"./el-overlay-3eff2fc5.js";/* empty css                  */import{a as j,E as C}from"./el-form-item-c2dd2ffe.js";/* empty css                 */import{t as s}from"./index-8f29cb04.js";import{a as L}from"./notice-dd4c412e.js";import{E as U,b as O}from"./index-9aa10ae4.js";import{E as S}from"./index-e09a20f5.js";import{v as $}from"./directive-c6f70b8e.js";import{d as q,r as v,M as G,c as I,b as f,m as y,p as a,f as _,q as n,v as p,x as r,u as o,L as K,e as E,F as M,t as T}from"./runtime-core.esm-bundler-67034826.js";const z={class:"input-width"},A={class:"input-width"},H={class:"input-width"},J={class:"input-width"},P={class:"dialog-footer"},de=q({__name:"notice-wechat",emits:["complete"],setup(Q,{expose:k,emit:D}){const c=v(!1),i=v(!0),b={is_wechat:0,key:"",name:"",title:"",type:"",content:[],temp_key:"",keyword_name_list:""},t=G({...b}),h=v(),V=I(()=>({})),x=async l=>{i.value||!l||await l.validate(async e=>{if(e){i.value=!0;const d=t;d.status=d.is_wechat,L(d).then(w=>{i.value=!1,c.value=!1,D("complete")}).catch(()=>{i.value=!1})}})};return k({showDialog:c,setFormData:async(l=null)=>{i.value=!0,Object.assign(t,b),l&&Object.keys(t).forEach(e=>{l[e]!=null&&(t[e]=l[e]),l.wechat&&l.wechat[e]!=null&&(t[e]=l.wechat[e])}),i.value=!1}}),(l,e)=>{const d=U,w=O,u=j,F=C,g=S,B=R,N=$;return f(),y(B,{modelValue:c.value,"onUpdate:modelValue":e[3]||(e[3]=m=>c.value=m),title:o(s)("noticeSetting"),width:"550px","destroy-on-close":!0},{footer:a(()=>[_("span",P,[n(g,{onClick:e[1]||(e[1]=m=>c.value=!1)},{default:a(()=>[p(r(o(s)("cancel")),1)]),_:1}),n(g,{type:"primary",loading:i.value,onClick:e[2]||(e[2]=m=>x(h.value))},{default:a(()=>[p(r(o(s)("confirm")),1)]),_:1},8,["loading"])])]),default:a(()=>[K((f(),y(F,{model:t,"label-width":"110px",ref_key:"formRef",ref:h,rules:o(V),class:"page-form"},{default:a(()=>[n(u,{label:o(s)("status")},{default:a(()=>[n(w,{modelValue:t.is_wechat,"onUpdate:modelValue":e[0]||(e[0]=m=>t.is_wechat=m)},{default:a(()=>[n(d,{label:1},{default:a(()=>[p(r(o(s)("startUsing")),1)]),_:1}),n(d,{label:0},{default:a(()=>[p(r(o(s)("statusDeactivate")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),n(u,{label:o(s)("name")},{default:a(()=>[_("div",z,r(t.name),1)]),_:1},8,["label"]),n(u,{label:o(s)("tempKey")},{default:a(()=>[_("div",A,r(t.temp_key),1)]),_:1},8,["label"]),n(u,{label:o(s)("keywordNameList")},{default:a(()=>[_("div",H,r(t.keyword_name_list?t.keyword_name_list.join("，"):""),1)]),_:1},8,["label"]),n(u,{label:o(s)("content")},{default:a(()=>[_("div",J,[(f(!0),E(M,null,T(t.content,(m,X)=>(f(),E("div",null,r(m.join("：")),1))),256))])]),_:1},8,["label"])]),_:1},8,["model","rules"])),[[N,i.value]])]),_:1},8,["modelValue","title"])}}});export{de as _};
