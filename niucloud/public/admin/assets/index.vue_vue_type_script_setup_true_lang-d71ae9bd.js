import{d as Y,c as q,r as _,V as E,e as d,f as c,g as p,h as G,y as t,x as a,u as s,v as N,A as I,B as h,F as y,z as U,n as B}from"./base-06478700.js";import{E as H}from"./el-overlay-42a687c6.js";/* empty css                  */import{a as J}from"./el-form-item-314d006d.js";import"./index-6b4020a9.js";/* empty css                 */import{d as Q}from"./event-10eba222.js";import{t as i}from"./index-7ea27073.js";import{g as W}from"./diy-7e1819c5.js";import{c as b}from"./cloneDeep-9cc74b12.js";import{a as D}from"./index-b52d0f2a.js";import{E as X}from"./index-2fcd1254.js";import{E as Z}from"./index-b68e8463.js";import{E as ee}from"./index-e4abfaa5.js";import{E as le}from"./index-c2f001d3.js";const te=["onClick"],ae={class:"flex items-start"},oe=["onClick"],se={class:"mb-[16px]"},ne={class:"mb-[16px]"},re=p("div",{class:"text-sm text-gray-400 select-text"},"路径必须以“/”开头，例：/app/pages/index/index",-1),ie=p("div",{class:"text-sm text-gray-400 select-text"},"跳转外部链接“/”开头，例：http://www.niucloud.com",-1),ue={key:1,class:"flex flex-wrap"},de=["onClick"],pe={class:"dialog-footer"},Ee=Y({__name:"index",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(P,{expose:S,emit:$}){const j=P,u=q({get(){return j.modelValue},set(o){$("update:modelValue",o)}}),m=_(!1),v=_([]),n=_(""),x=_([]),e=_([]);W({}).then(o=>{v.value=o.data,x.value=Object.values(v.value)[0].child_list,u.value.name!=""?e.value=b(u.value):e.value={parent:Object.values(v.value)[0].name},n.value=e.value.parent});const A=()=>{u.value.name!=""&&(e.value=b(u.value),n.value=e.value.parent,n.value&&V(v.value[n.value])),m.value=!0},V=o=>{x.value=o.child_list,n.value=o.name},F=o=>{delete o.is_share,Object.assign(e.value,o)},O=()=>{u.value={name:"",parent:"",title:"",url:""}},z=()=>{if(n.value==="DIY_LINK"){if(e.value.parent=n.value,e.value.name=n.value,!e.value.title){D({message:i("diyLinkNameNotEmpty"),type:"warning"});return}if(!e.value.url){D({message:i("diyLinkUrlNotEmpty"),type:"warning"});return}}u.value=b(e.value),m.value=!1};return S({showDialog:m}),(o,r)=>{const K=E("Close"),w=X,M=E("ArrowRight"),g=Z,C=ee,f=J,L=le,R=H;return d(),c("div",null,[p("div",{onClick:A},[G(o.$slots,"default",{},()=>[t(g,{modelValue:s(u).title,"onUpdate:modelValue":r[0]||(r[0]=l=>s(u).title=l),placeholder:s(i)("linkPlaceholder"),readonly:""},{suffix:a(()=>[p("div",{onClick:Q(O,["stop"])},[s(u).name?(d(),N(w,{key:0},{default:a(()=>[t(K)]),_:1})):(d(),N(w,{key:1},{default:a(()=>[t(M)]),_:1}))],8,te)]),_:1},8,["modelValue","placeholder"])])]),t(R,{modelValue:m.value,"onUpdate:modelValue":r[4]||(r[4]=l=>m.value=l),title:s(i)("selectLinkTips"),width:"40%","close-on-press-escape":!1,"destroy-on-close":!0,"close-on-click-modal":!1},{footer:a(()=>[p("span",pe,[t(L,{onClick:r[3]||(r[3]=l=>m.value=!1)},{default:a(()=>[I(h(s(i)("cancel")),1)]),_:1}),t(L,{type:"primary",onClick:z},{default:a(()=>[I(h(s(i)("confirm")),1)]),_:1})])]),default:a(()=>[p("div",ae,[t(C,{class:"w-[140px] border-r",height:"360px"},{default:a(()=>[(d(!0),c(y,null,U(v.value,(l,k)=>(d(),c("div",{key:k,class:B(["h-[40px] leading-[40px] cursor-pointer hover:bg-primary-light-9 px-[10px] hover:text-primary",[l.name==n.value?"bg-primary-light-9 text-primary":""]]),onClick:T=>V(l)},h(l.title),11,oe))),128))]),_:1}),t(C,{class:"pl-4 h-[350px] flex-1"},{default:a(()=>[n.value=="DIY_LINK"?(d(),c(y,{key:0},[p("div",se,[t(f,{label:s(i)("diyLinkName")},{default:a(()=>[t(g,{modelValue:e.value.title,"onUpdate:modelValue":r[1]||(r[1]=l=>e.value.title=l),placeholder:s(i)("diyLinkNamePlaceholder"),class:"w-6/12"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),p("div",ne,[t(f,{label:s(i)("diyLinkUrl")},{default:a(()=>[t(g,{modelValue:e.value.url,"onUpdate:modelValue":r[2]||(r[2]=l=>e.value.url=l),placeholder:s(i)("diyLinkUrlPlaceholder"),class:"w-6/12"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),t(f,{label:" "},{default:a(()=>[re]),_:1}),t(f,{label:" "},{default:a(()=>[ie]),_:1})],64)):(d(),c("div",ue,[(d(!0),c(y,null,U(x.value,(l,k)=>(d(),c("div",{key:k,class:B(["border border-br rounded-[3px] mr-[10px] mb-[10px] px-4 h-[32px] leading-[32px] cursor-pointer hover:bg-primary-light-9 px-[10px] hover:text-primary",[l.name==e.value.name?"border-primary text-primary":""]]),onClick:T=>F(l)},h(l.title),11,de))),128))]))]),_:1})])]),_:1},8,["modelValue","title"])])}}});export{Ee as _};
