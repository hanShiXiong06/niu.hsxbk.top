/* empty css             *//* empty css                     *//* empty css                  */import{_ as V}from"./index.vue_vue_type_script_setup_true_lang-7ed1b508.js";import{v as E}from"./index-aae906bf.js";import{_ as I}from"./index-82132406.js";import{v as f}from"./error-492b6a5b.js";import{t as s}from"./index-5f4ce139.js";import{S,r as U}from"./sortable.esm-47728b3c.js";import{i as A}from"./common-465e36b3.js";import{u as B}from"./diy-89488517.js";import{a as F,E as T}from"./index-624573cc.js";import{E as R}from"./index-4862d1b3.js";import{d as z,w as D,r as N,o as $,A as j,b as _,e as c,f as d,x as u,u as n,q as l,p,F as H,t as L,L as h,v as M}from"./runtime-core.esm-bundler-7c3fd514.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";const W={class:"edit-image-ads"},q={class:"mb-[10px]"},P={class:"text-sm text-gray-400 mb-[10px]"},G=["onClick"],J=z({__name:"edit-image-ads",setup(Q,{expose:x}){const e=B();e.editComponent.verify=i=>{var t={code:!0,message:""};return e.value[i].list.forEach(o=>{if(o.imageUrl==="")return t.code=!1,t.message=s("imageUrlTip"),t}),t},e.editComponent.list.forEach(i=>{i.id||(i.id=e.generateRandom())}),D(()=>e.editComponent.list,(i,t)=>{e.editComponent.list.forEach(o=>{let a=new Image;a.src=A(o.imageUrl),a.onload=async()=>{o.imgWidth=a.width,o.imgHeight=a.height}})},{deep:!0});const b=()=>{e.editComponent.list.push({id:e.generateRandom(),imageUrl:"",imgWidth:0,imgHeight:0,link:{name:""}})},g=N();return $(()=>{const i=S.create(g.value,{group:"item-wrap",animation:200,onEnd:t=>{const o=e.editComponent.list[t.oldIndex];e.editComponent.list.splice(t.oldIndex,1),e.editComponent.list.splice(t.newIndex,0,o),j(()=>{i.sort(U(e.editComponent.list.length).map(a=>a.toString()))})}})}),x({}),(i,t)=>{const o=I,a=F,C=E,v=V,y=R,k=T;return _(),c("div",W,[d("h3",q,u(n(s)("imageSet")),1),l(k,{"label-width":"80px",class:"px-[10px]"},{default:p(()=>[d("p",P,u(n(s)("imageAdsTips")),1),d("div",{ref_key:"imageBoxRef",ref:g},[(_(!0),c(H,null,L(n(e).editComponent.list,(r,w)=>(_(),c("div",{key:r.id,class:"item-wrap p-[10px] pb-0 relative border border-dashed border-gray-300 mb-[16px]"},[l(a,{label:n(s)("image")},{default:p(()=>[l(o,{modelValue:r.imageUrl,"onUpdate:modelValue":m=>r.imageUrl=m,limit:1},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),h(d("div",{class:"del absolute cursor-pointer z-[2] top-[-8px] right-[-8px]",onClick:m=>n(e).editComponent.list.splice(w,1)},[l(C,{name:"element-CircleCloseFilled",color:"#bbb",size:"20px"})],8,G),[[f,n(e).editComponent.list.length>1]]),l(a,{label:n(s)("link")},{default:p(()=>[l(v,{modelValue:r.link,"onUpdate:modelValue":m=>r.link=m},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])]))),128))],512),h(l(y,{class:"w-full",onClick:b},{default:p(()=>[M(u(n(s)("addImageAd")),1)]),_:1},512),[[f,n(e).editComponent.list.length<10]])]),_:1})])}}});const K=O(J,[["__scopeId","data-v-8f8319a8"]]),_e=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"}));export{_e as _};
