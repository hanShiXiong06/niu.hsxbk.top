import"./base-0e92f4db.js";/* empty css                   */import{E as J}from"./el-overlay-3eff2fc5.js";import{a as M,E as O}from"./el-form-item-c2dd2ffe.js";/* empty css                *//* empty css                 *//* empty css                  *//* empty css                   */import{w as T}from"./index-95d7b9b8.js";/* empty css                  */import{t as p}from"./index-bf9b1162.js";import{g as Q,s as G}from"./module-4c4ca033.js";import{u as K}from"./vue-router-8b032575.js";import{E as W}from"./index-e09a20f5.js";import{E as X}from"./index-72686045.js";import{E as Y}from"./index-7723eac0.js";import{E as Z}from"./index-8cefa3ab.js";import{E as ee}from"./index-2668a8ea.js";import{v as te}from"./directive-c6f70b8e.js";import{d as oe,r,M as z,Q as D,L as se,b as w,e as ae,m as y,p as o,f as e,q as s,v as i,x as c,u as h,C as le,au as ne,av as re}from"./runtime-core.esm-bundler-67034826.js";import{_ as ie}from"./_plugin-vue_export-helper-c27b6911.js";import"./event-a537c4cb.js";import"./index-defed8ff.js";import"./focus-trap-83769a43.js";import"./index-6cae7119.js";import"./index-d87ae4a2.js";import"./common-46715e7e.js";import"./index-81f2aa1e.js";import"./el-main-7a89c415.js";import"./index-ebd2990f.js";import"./index-e9d9b1a1.js";import"./index-ef31373f.js";import"./index-de22cd40.js";const m=v=>(ne("data-v-fe75598c"),v=v(),re(),v),pe={class:"main main-container min-w-[1000px] min-h-[650px]"},ce={class:"flex"},de={class:"bg-[#F3F6FF] mr-[14px] w-[402px] pt-[30px] pl-[32px] pr-[46px] pb-[60px]"},ue={class:"flex items-center justify-between"},_e=m(()=>e("span",{class:"text-[20px] text-[#333333]"},"版本信息",-1)),me={class:"mt-[30px] flex items-center text-[14px] text-[#797979]"},xe=m(()=>e("span",null,"当前版本",-1)),fe={class:"text-[26px] ml-[15px] mr-[10px] text-[#656668]"},he=m(()=>e("em",{class:"text-[12px]"},"(当前已是最新版本)",-1)),ve={class:"flex-1 flex justify-between items-center bg-[#F3F6FF] pt-[34px] pl-[30px] pr-[60px] pb-[62px]"},ge={class:"flex flex-col"},we={class:"flex flex-wrap items-center"},ye=m(()=>e("p",{class:"text-[20px] text-[#333] mr-[20px]"},"授权信息",-1)),Ce={class:"text-[14px] text-[#666]"},be={class:"mt-[46px] ml-[40px] flex flex-wrap"},ke={class:"text-[14px] text-[#797979] mr-[84px]"},Ve={class:"ml-[12px] text-[12px] text-[#222222]"},Ee={class:"text-[14px] flex items-center text-[#797979]"},Fe=m(()=>e("span",null,"授权码",-1)),Ie={class:"ml-[12px] mr-[10px] text-[12px] text-[#222222]"},Ae={class:"flex flex-1 flex-wrap justify-end relative"},Se={class:"px-[18px] py-[8px]"},ze=m(()=>e("p",{class:"leading-[32px] text-[14px]"},"您在官方应用市场购买任意一款应用，即可获得授权码。输入正确授权码认证通过后，即可支持在线升级和其它相关服务 ",-1)),De={class:"flex justify-end mt-[36px]"},Ne={class:"mt-[20px]"},Be={class:"text-sm mt-[10px] text-info"},Pe={class:"mt-[20px]"},je={class:"mt-[10px] text-right"},Re=oe({__name:"authorize",setup(v){K().meta.title;const C=r(null),x=r(!1),d=r(!1),N=a=>{const t=JSON.parse(JSON.stringify(a));return t.slice(0,t.length/2)+t.slice(t.length/2,t.length-1).replace(/./g,"*")},B=()=>{x.value=!0},u=r(""),g=r(!0),f=r(!1),b=()=>{Q().then(a=>{g.value=!1,a.data.data&&a.data.data.length!=0&&(u.value=a.data.data,x.value=!1)}).catch(()=>{g.value=!1,x.value=!1})};b();const _=z({auth_code:"",auth_secret:""}),k=r(),P=z({auth_code:[{required:!0,message:p("authCodePlaceholder"),trigger:"blur"}],auth_secret:[{required:!0,message:p("authSecretPlaceholder"),trigger:"blur"}]}),j=async a=>{f.value||!a||await a.validate(async t=>{t&&(f.value=!0,G(_).then(()=>{f.value=!1,b()}).catch(()=>{f.value=!1}))})},V=()=>{window.open("https://www.niucloud.com/product")},E=r("");return(()=>{T().then(a=>{E.value=a.data.version.version})})(),(a,t)=>{const n=W,R=D("View"),F=X,$=D("Hide"),q=Y,I=Z,A=M,S=ee,H=O,L=J,U=te;return se((w(),ae("div",pe,[g.value?le("",!0):(w(),y(S,{key:0,class:"box-card !border-none",shadow:"never"},{default:o(()=>[e("div",ce,[e("div",de,[e("div",ue,[_e,s(n,{class:"text-[#4C4C4C] w-[78px] h-[32px] !bg-transparent"},{default:o(()=>[i("检测更新")]),_:1})]),e("div",me,[xe,e("span",fe,c(E.value),1),he])]),e("div",ve,[e("div",ge,[e("div",we,[ye,e("span",Ce,c(u.value.company_name||"--"),1)]),e("div",be,[e("span",ke,[i("授权域名"),e("em",Ve,c(u.value.site_address||"--"),1)]),e("span",Ee,[Fe,e("em",Ie,c(u.value.auth_code?d.value?u.value.auth_code:N(u.value.auth_code):"--"),1),d.value?(w(),y(F,{key:1,onClick:t[1]||(t[1]=l=>d.value=!d.value),class:"text-[12px] cursor-pointer"},{default:o(()=>[s($)]),_:1})):(w(),y(F,{key:0,onClick:t[0]||(t[0]=l=>d.value=!d.value),class:"text-[12px] cursor-pointer"},{default:o(()=>[s(R)]),_:1}))])])]),e("div",Ae,[s(n,{class:"w-[154px] !h-[48px] mt-[8px]",type:"primary",onClick:B},{default:o(()=>[i("授权码认证")]),_:1}),s(q,{ref_key:"getAuthCodeDialog",ref:C,placement:"bottom-start",width:478,trigger:"click",class:"mt-[8px]"},{reference:o(()=>[s(n,{class:"w-[154px] !h-[48px] mt-[8px] !text-[var(--el-color-primary)] hover:!text-[var(--el-color-primary)] !bg-transparent",plain:"",type:"primary"},{default:o(()=>[i("如何获取授权码?")]),_:1})]),default:o(()=>[e("div",Se,[ze,e("div",De,[s(n,{class:"w-[182px] !h-[48px]",plain:"",onClick:V},{default:o(()=>[i("去应用市场逛逛")]),_:1}),s(n,{class:"w-[100px] !h-[48px]",plain:"",onClick:t[2]||(t[2]=l=>C.value.hide())},{default:o(()=>[i("关闭")]),_:1})])])]),_:1},512)]),s(L,{modelValue:x.value,"onUpdate:modelValue":t[6]||(t[6]=l=>x.value=l),title:"授权码认证",width:"400px"},{default:o(()=>[s(H,{model:_,"label-width":"0",ref_key:"formRef",ref:k,rules:P,class:"page-form"},{default:o(()=>[s(S,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[s(A,{prop:"auth_code"},{default:o(()=>[s(I,{modelValue:_.auth_code,"onUpdate:modelValue":t[3]||(t[3]=l=>_.auth_code=l),placeholder:h(p)("authCodePlaceholder"),class:"input-width",clearable:"",size:"large"},null,8,["modelValue","placeholder"])]),_:1}),e("div",Ne,[s(A,{prop:"auth_secret"},{default:o(()=>[s(I,{modelValue:_.auth_secret,"onUpdate:modelValue":t[4]||(t[4]=l=>_.auth_secret=l),clearable:"",placeholder:h(p)("authSecretPlaceholder"),class:"input-width",size:"large"},null,8,["modelValue","placeholder"])]),_:1})]),e("div",Be,c(h(p)("authInfoTips")),1),e("div",Pe,[s(n,{type:"primary",class:"w-full",size:"large",loading:f.value,onClick:t[5]||(t[5]=l=>j(k.value))},{default:o(()=>[i(c(h(p)("confirm")),1)]),_:1},8,["loading"])]),e("div",je,[s(n,{type:"primary",link:"",onClick:V},{default:o(()=>[i(c(h(p)("notHaveAuth")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])])]),_:1}))])),[[U,g.value]])}}});const gt=ie(Re,[["__scopeId","data-v-fe75598c"]]);export{gt as default};
