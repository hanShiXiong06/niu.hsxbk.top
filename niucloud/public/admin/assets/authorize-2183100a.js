import{d as L,r as d,R as z,V as D,Q as O,e as w,f as T,v as y,x as o,g as e,y as a,A as c,B as x,u as s,i as b,H as M,bl as Q,bm as G}from"./base-d77b0726.js";/* empty css                   *//* empty css                   *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                  *//* empty css                   *//* empty css                *//* empty css                  */import{t as m}from"./index-c7fb4804.js";import{g as K,s as W}from"./module-996a0b18.js";import{u as X}from"./vue-router-57155f94.js";import{E as Y}from"./index-91bdda63.js";import{E as Z}from"./index-e37943c3.js";import{E as ee}from"./index-6a46ef13.js";import{E as te}from"./index-c1eb81db.js";import{a as oe,E as ae}from"./index-68c5ad54.js";import{E as se}from"./index-2cf73bf7.js";import{E as le}from"./index-6a54cf26.js";import{v as re}from"./directive-08cd03ab.js";import{_ as pe}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-a477ea57.js";import"./common-56ee0a80.js";import"./index-331c6de1.js";import"./index-704f0685.js";import"./index-9e51ba8b.js";import"./typescript-defaf979.js";import"./aria-60e0cdc6.js";import"./index-de9bede2.js";import"./index-f2dc9b9f.js";import"./index-6245131d.js";import"./index-45cca80f.js";import"./focus-trap-98fda164.js";import"./dropdown-2ff49e9b.js";import"./event-e06a23af.js";import"./index-d1e433eb.js";import"./_Uint8Array-2fd72219.js";import"./_initCloneObject-22d1caee.js";import"./index-b3418ddc.js";import"./scroll-59301fd6.js";import"./vnode-5920e7a9.js";import"./index-a20d1a31.js";const h=v=>(Q("data-v-cbc1746a"),v=v(),G(),v),ie={class:"main main-container min-w-[1000px] min-h-[650px]"},ne={class:"flex"},ce={class:"bg-[#F3F6FF] mr-[14px] w-[402px] pt-[30px] pl-[32px] pr-[46px] pb-[60px]"},de={class:"flex items-center justify-between"},me=h(()=>e("span",{class:"text-[20px] text-[#333333]"},"版本信息",-1)),ue=h(()=>e("div",{class:"mt-[30px] flex items-center text-[14px] text-[#797979]"},[e("span",null,"当前版本"),e("span",{class:"text-[26px] ml-[15px] mr-[10px] text-[#656668]"},"1.0.35"),e("em",{class:"text-[12px]"},"(当前已是最新版本)")],-1)),_e={class:"flex-1 flex justify-between items-center bg-[#F3F6FF] pt-[34px] pl-[30px] pr-[60px] pb-[62px]"},xe={class:"flex flex-col"},fe={class:"flex flex-wrap items-center"},he=h(()=>e("p",{class:"text-[20px] text-[#333] mr-[20px]"},"授权信息",-1)),ve={class:"text-[14px] text-[#666]"},ge={class:"mt-[46px] ml-[40px] flex flex-wrap"},we={class:"text-[14px] text-[#797979] mr-[84px]"},ye={class:"ml-[12px] text-[12px] text-[#222222]"},be={class:"text-[14px] flex items-center text-[#797979]"},Ce=h(()=>e("span",null,"授权码",-1)),ke={class:"ml-[12px] mr-[10px] text-[12px] text-[#222222]"},Ve={class:"flex flex-1 flex-wrap justify-end relative"},Ee={class:"px-[18px] py-[8px]"},Fe=h(()=>e("p",{class:"leading-[32px] text-[14px]"},"您在官方应用市场购买任意一款应用，即可获得授权码。输入正确授权码认证通过后，即可支持在线升级和其它相关服务",-1)),Ae={class:"flex justify-end mt-[36px]"},Ie={class:"mt-[20px]"},Se={class:"text-sm mt-[10px] text-info"},ze={class:"mt-[20px]"},De={class:"mt-[10px] text-right"},Be=L({__name:"authorize",setup(v){X().meta.title;let C=d(null),i=d(!1),l=d(!1);const B=p=>{let t=JSON.parse(JSON.stringify(p));return t.slice(0,t.length/2)+t.slice(t.length/2,t.length-1).replace(/./g,"*")},N=()=>{i.value=!0},u=d(""),g=d(!0),f=d(!1),k=()=>{K().then(p=>{g.value=!1,p.data.data&&p.data.data.length!=0&&(u.value=p.data.data,i.value=!1)}).catch(()=>{g.value=!1,i.value=!1})};k();const _=z({auth_code:"",auth_secret:""}),V=d(),R=z({auth_code:[{required:!0,message:m("authCodePlaceholder"),trigger:"blur"}],auth_secret:[{required:!0,message:m("authSecretPlaceholder"),trigger:"blur"}]}),P=async p=>{f.value||!p||await p.validate(async t=>{t&&(f.value=!0,W(_).then(()=>{f.value=!1,k()}).catch(()=>{f.value=!1,i.value=!1}))})},E=()=>{window.open("https://www.niucloud.com/product")};return(p,t)=>{const n=Y,j=D("View"),F=Z,H=D("Hide"),U=ee,A=te,I=oe,S=se,$=ae,q=le,J=re;return O((w(),T("div",ie,[g.value?M("",!0):(w(),y(S,{key:0,class:"box-card !border-none",shadow:"never"},{default:o(()=>[e("div",ne,[e("div",ce,[e("div",de,[me,a(n,{class:"text-[#4C4C4C] w-[78px] h-[32px] !bg-transparent"},{default:o(()=>[c("检测更新")]),_:1})]),ue]),e("div",_e,[e("div",xe,[e("div",fe,[he,e("span",ve,x(u.value.company_name||"--"),1)]),e("div",ge,[e("span",we,[c("授权域名"),e("em",ye,x(u.value.site_address||"--"),1)]),e("span",be,[Ce,e("em",ke,x(u.value.auth_code?s(l)?u.value.auth_code:B(u.value.auth_code):"--"),1),s(l)?(w(),y(F,{key:1,onClick:t[1]||(t[1]=r=>b(l)?l.value=!s(l):l=!s(l)),class:"text-[12px] cursor-pointer"},{default:o(()=>[a(H)]),_:1})):(w(),y(F,{key:0,onClick:t[0]||(t[0]=r=>b(l)?l.value=!s(l):l=!s(l)),class:"text-[12px] cursor-pointer"},{default:o(()=>[a(j)]),_:1}))])])]),e("div",Ve,[a(n,{class:"w-[154px] !h-[48px] mt-[8px]",type:"primary",onClick:N},{default:o(()=>[c("授权码认证")]),_:1}),a(U,{ref_key:"getAuthCodeDialog",ref:C,placement:"bottom",width:478,trigger:"click",class:"mt-[8px]"},{reference:o(()=>[a(n,{class:"w-[154px] !h-[48px] mt-[8px] !text-[var(--el-color-primary)] hover:!text-[var(--el-color-primary)] !bg-transparent",plain:"",type:"primary"},{default:o(()=>[c("如何获取授权码?")]),_:1})]),default:o(()=>[e("div",Ee,[Fe,e("div",Ae,[a(n,{class:"w-[182px] !h-[48px]",plain:"",onClick:E},{default:o(()=>[c("去应用市场逛逛")]),_:1}),a(n,{class:"w-[100px] !h-[48px]",plain:"",onClick:t[2]||(t[2]=r=>s(C).hide())},{default:o(()=>[c("关闭")]),_:1})])])]),_:1},512)]),a(q,{modelValue:s(i),"onUpdate:modelValue":t[6]||(t[6]=r=>b(i)?i.value=r:i=r),title:"授权码认证",width:"400px"},{default:o(()=>[a($,{model:_,"label-width":"0",ref_key:"formRef",ref:V,rules:R,class:"page-form"},{default:o(()=>[a(S,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[a(I,{prop:"auth_code"},{default:o(()=>[a(A,{modelValue:_.auth_code,"onUpdate:modelValue":t[3]||(t[3]=r=>_.auth_code=r),placeholder:s(m)("authCodePlaceholder"),class:"input-width",clearable:"",size:"large"},null,8,["modelValue","placeholder"])]),_:1}),e("div",Ie,[a(I,{prop:"auth_secret"},{default:o(()=>[a(A,{modelValue:_.auth_secret,"onUpdate:modelValue":t[4]||(t[4]=r=>_.auth_secret=r),clearable:"",placeholder:s(m)("authSecretPlaceholder"),class:"input-width",size:"large"},null,8,["modelValue","placeholder"])]),_:1})]),e("div",Se,x(s(m)("authInfoTips")),1),e("div",ze,[a(n,{type:"primary",class:"w-full",size:"large",loading:f.value,onClick:t[5]||(t[5]=r=>P(V.value))},{default:o(()=>[c(x(s(m)("confirm")),1)]),_:1},8,["loading"])]),e("div",De,[a(n,{type:"primary",link:"",onClick:E},{default:o(()=>[c(x(s(m)("notHaveAuth")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])])]),_:1}))])),[[J,g.value]])}}});const Vt=pe(Be,[["__scopeId","data-v-cbc1746a"]]);export{Vt as default};
