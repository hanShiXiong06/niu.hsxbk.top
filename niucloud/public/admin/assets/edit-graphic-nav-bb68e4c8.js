/* empty css             *//* empty css                  */import{_ as F}from"./index.vue_vue_type_script_setup_true_lang-7ed1b508.js";import{v as k}from"./index-aae906bf.js";import{_ as z}from"./index-82132406.js";/* empty css                  *//* empty css                        *//* empty css                 *//* empty css                   *//* empty css                     */import{E as I,b as M}from"./el-radio-c9a1047c.js";import{v as _}from"./error-492b6a5b.js";import{t as a}from"./index-5f4ce139.js";import{S as R,r as G}from"./sortable.esm-47728b3c.js";import{i as P}from"./common-465e36b3.js";import{u as B}from"./diy-89488517.js";import{a as D,E as H}from"./index-624573cc.js";import{E as L}from"./index-95693143.js";import{E as $}from"./index-96ef7065.js";import{E as j}from"./index-4862d1b3.js";import{d as A,w as O,r as W,o as q,A as J,b as h,e as v,f as c,x as r,u as e,q as o,p as t,v as p,L as g,F as K,t as Q}from"./runtime-core.esm-bundler-7c3fd514.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";const Y={class:"edit-graphic-nav"},Z={class:"border-solid border-b-4 border-gray-200 mb-[20px]"},ee={class:"mb-[10px]"},le={class:"border-solid border-b-4 border-gray-200 mb-[20px]"},oe={class:"mb-[10px]"},ae={class:"mb-[10px]"},te={class:"text-sm text-gray-400 mb-[10px]"},ie=["onClick"],de=A({__name:"edit-graphic-nav",setup(re,{expose:y}){const l=B();l.editComponent.verify=m=>{var i={code:!0,message:""};return l.value[m].layout=="vertical"&&l.value[m].navTitle==""?(i.code=!1,i.message=a("graphicNavTitlePlaceholder"),i):(l.value[m].list.forEach(n=>{if((l.value[m].mode==="graphic"||l.value[m].mode==="img")&&n.imageUrl==="")return i.code=!1,i.message=a("imageUrlTip"),i;if((l.value[m].mode==="graphic"||l.value[m].mode==="text")&&n.title==="")return i.code=!1,i.message=a("graphicNavTitlePlaceholder"),i}),i)},l.editComponent.list.forEach(m=>{m.id||(m.id=l.generateRandom())}),O(()=>l.editComponent.list,(m,i)=>{l.editComponent.list.forEach(n=>{let s=new Image;s.src=P(n.imageUrl),s.onload=async()=>{n.imgWidth=s.width,n.imgHeight=s.height}})},{deep:!0});const N=()=>{l.editComponent.list.push({id:l.generateRandom(),title:"",imageUrl:"",imgWidth:0,imgHeight:0,link:{name:""},label:{control:!1,text:"热门",textColor:"#FFFFFF",bgColorStart:"#F83287",bgColorEnd:"#FE3423"}})},C=W();return q(()=>{const m=R.create(C.value,{group:"item-wrap",animation:200,onEnd:i=>{const n=l.editComponent.list[i.oldIndex];l.editComponent.list.splice(i.oldIndex,1),l.editComponent.list.splice(i.newIndex,0,n),J(()=>{m.sort(G(l.editComponent.list.length).map(s=>s.toString()))})}})}),y({}),(m,i)=>{const n=I,s=M,u=D,x=L,b=H,V=$,S=z,w=k,U=F,E=j;return h(),v("div",Y,[c("div",Z,[c("h3",ee,r(e(a)("graphicNavModeTitle")),1),o(b,{"label-width":"80px",class:"px-[10px]"},{default:t(()=>[o(u,{label:e(a)("layoutMode")},{default:t(()=>[o(s,{modelValue:e(l).editComponent.layout,"onUpdate:modelValue":i[0]||(i[0]=d=>e(l).editComponent.layout=d)},{default:t(()=>[o(n,{label:"horizontal"},{default:t(()=>[p(r(e(a)("layoutModeHorizontal")),1)]),_:1}),o(n,{label:"vertical"},{default:t(()=>[p(r(e(a)("layoutModeVertical")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),g(o(u,{label:e(a)("graphicNavTitle")},{default:t(()=>[o(x,{modelValue:e(l).editComponent.navTitle,"onUpdate:modelValue":i[1]||(i[1]=d=>e(l).editComponent.navTitle=d),placeholder:e(a)("graphicNavTitlePlaceholder"),clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),[[_,e(l).editComponent.layout=="vertical"]]),o(u,{label:e(a)("graphicNavSelectMode")},{default:t(()=>[o(s,{modelValue:e(l).editComponent.mode,"onUpdate:modelValue":i[2]||(i[2]=d=>e(l).editComponent.mode=d)},{default:t(()=>[o(n,{label:"graphic"},{default:t(()=>[p(r(e(a)("graphicNavModeGraphic")),1)]),_:1}),o(n,{label:"img"},{default:t(()=>[p(r(e(a)("graphicNavModeImg")),1)]),_:1}),o(n,{label:"text"},{default:t(()=>[p(r(e(a)("graphicNavModeText")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),g(c("template",null,[o(u,{label:e(a)("graphicNavShowStyle")},{default:t(()=>[o(s,{modelValue:e(l).editComponent.showStyle,"onUpdate:modelValue":i[3]||(i[3]=d=>e(l).editComponent.showStyle=d)},{default:t(()=>[o(n,{label:"fixed"},{default:t(()=>[p(r(e(a)("graphicNavStyleFixed")),1)]),_:1}),o(n,{label:"singleSlide"},{default:t(()=>[p(r(e(a)("graphicNavStyleSingleSlide")),1)]),_:1}),o(n,{label:"pageSlide"},{default:t(()=>[p(r(e(a)("graphicNavStylePageSlide")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),o(u,{label:e(a)("graphicNavRowCount")},{default:t(()=>[o(s,{modelValue:e(l).editComponent.rowCount,"onUpdate:modelValue":i[4]||(i[4]=d=>e(l).editComponent.rowCount=d)},{default:t(()=>[o(n,{label:3},{default:t(()=>[p("3"+r(e(a)("piece")),1)]),_:1}),o(n,{label:4},{default:t(()=>[p("4"+r(e(a)("piece")),1)]),_:1}),o(n,{label:5},{default:t(()=>[p("5"+r(e(a)("piece")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),o(u,{label:e(a)("graphicNavPageCount")},{default:t(()=>[o(s,{modelValue:e(l).editComponent.pageCount,"onUpdate:modelValue":i[5]||(i[5]=d=>e(l).editComponent.pageCount=d)},{default:t(()=>[o(n,{label:1},{default:t(()=>[p("1"+r(e(a)("line")),1)]),_:1}),o(n,{label:2},{default:t(()=>[p("2"+r(e(a)("line")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])],512),[[_,e(l).editComponent.layout=="horizontal"]])]),_:1})]),g(c("div",le,[c("h3",oe,r(e(a)("graphicNavImageSet")),1),o(b,{"label-width":"80px",class:"px-[10px]"},{default:t(()=>[o(u,{label:e(a)("graphicNavImageSize")},{default:t(()=>[o(V,{modelValue:e(l).editComponent.imageSize,"onUpdate:modelValue":i[6]||(i[6]=d=>e(l).editComponent.imageSize=d),"show-input":"",size:"small",class:"ml-[10px] graphic-nav-slider",min:30,max:60},null,8,["modelValue"])]),_:1},8,["label"]),o(u,{label:e(a)("graphicNavAroundRadius")},{default:t(()=>[o(V,{modelValue:e(l).editComponent.aroundRadius,"onUpdate:modelValue":i[7]||(i[7]=d=>e(l).editComponent.aroundRadius=d),"show-input":"",size:"small",class:"ml-[10px] graphic-nav-slider",max:50},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})],512),[[_,["graphic","img"].includes(e(l).editComponent.mode)]]),c("div",null,[c("h3",ae,r(e(a)("graphicNavSetLabel")),1),o(b,{"label-width":"80px",class:"px-[10px]"},{default:t(()=>[c("p",te,r(e(a)("graphicNavTips")),1),c("div",{ref_key:"imageBoxRef",ref:C},[(h(!0),v(K,null,Q(e(l).editComponent.list,(d,T)=>(h(),v("div",{key:d.id,class:"item-wrap p-[10px] pb-0 relative border border-dashed border-gray-300 mb-[16px]"},[g(o(u,{label:e(a)("image")},{default:t(()=>[o(S,{modelValue:d.imageUrl,"onUpdate:modelValue":f=>d.imageUrl=f,limit:1},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),[[_,e(l).editComponent.mode==="graphic"||e(l).editComponent.mode==="img"]]),g(o(u,{label:e(a)("graphicNavTitle")},{default:t(()=>[o(x,{modelValue:d.title,"onUpdate:modelValue":f=>d.title=f,placeholder:e(a)("graphicNavTitlePlaceholder"),clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label"]),[[_,e(l).editComponent.mode==="graphic"||e(l).editComponent.mode==="text"]]),g(c("div",{class:"del absolute cursor-pointer z-[2] top-[-8px] right-[-8px]",onClick:f=>e(l).editComponent.list.splice(T,1)},[o(w,{name:"element-CircleCloseFilled",color:"#bbb",size:"20px"})],8,ie),[[_,e(l).editComponent.list.length>1]]),o(u,{label:e(a)("link")},{default:t(()=>[o(U,{modelValue:d.link,"onUpdate:modelValue":f=>d.link=f},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])]))),128))],512),g(o(E,{class:"w-full",onClick:N},{default:t(()=>[p(r(e(a)("addGraphicNav")),1)]),_:1},512),[[_,e(l).editComponent.list.length<10]])]),_:1})])])}}});const ne=X(de,[["__scopeId","data-v-293158c7"]]),ke=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"}));export{ke as _};
