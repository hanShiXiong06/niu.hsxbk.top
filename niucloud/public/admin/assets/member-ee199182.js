/* empty css             *//* empty css                   *//* empty css                  */import{a as C,E as F}from"./el-form-item-144bc604.js";/* empty css                *//* empty css                 */import{t as a}from"./index-6b4cbbe4.js";import{K as N,L as B}from"./member-0a9176f1.js";import{E as D}from"./index-5f2625ed.js";import{E as I}from"./index-c5af06c2.js";import{E as M}from"./index-6f670765.js";import{v as R}from"./directive-d226d53f.js";import{d as $,r as g,M as h,b as x,e as L,L as P,m as k,p as s,q as i,f,x as _,u as l,v as q}from"./runtime-core.esm-bundler-c17ab5bc.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-9ef6974e.js";import"./plugin-vue_export-helper-c018272e.js";import"./event-3e082a4a.js";import"./_baseClone-37ba2e68.js";import"./index-596de8a9.js";import"./vue-router-9f815af7.js";import"./common-a45d855f.js";import"./index-0d36ccbf.js";import"./el-main-03d12282.js";import"./index-e42600b8.js";import"./el-overlay-380df695.js";import"./index-93efb1b5.js";import"./focus-trap-c0148071.js";import"./index-4b62c73a.js";import"./index-332680c2.js";/* empty css                  */import"./index-a6ffcea0.js";import"./index-138bfa06.js";import"./index-72bf6cb5.js";const S={class:"main-container"},T={class:"panel-title"},U={class:"form-tip"},j={class:"text-lg"},z={class:"fixed-footer-wrap"},A={class:"fixed-footer"},K=$({__name:"member",setup(O){const m=g(!0),p=g({});let v=g("");const b=h({prefix:[{validator:(o,e,r)=>{e&&!/^[a-zA-Z]*$/g.test(e)?r(new Error(a("prefixHint"))):r()},trigger:"blur"}],length:[{required:!0,message:a("lengthPlaceholder"),trigger:"blur"},{validator:(o,e,r)=>{parseInt(e)>30||parseInt(e)-t.prefix.length<4?r(new Error(a("lengthHint"))):r()},trigger:"blur"}]}),t=h({prefix:"",length:10});(async()=>{const o=await(await N()).data;Object.keys(t).forEach(e=>{o[e]!=null&&(t[e]=o[e])}),c(p.value),m.value=!1})();const c=async o=>{await o.validate(e=>{if(e){let r="",d=t.length-t.prefix.length-1;for(let u=1;u<=d;u++)r+="0";v.value=t.prefix+r+"1"}})},w=async o=>{m.value||!o||await o.validate(e=>{e&&B(t).then(()=>{m.value=!1,c(o)}).catch(()=>{m.value=!1})})};return(o,e)=>{const r=D,d=C,u=I,y=F,E=M,V=R;return x(),L("div",S,[P((x(),k(y,{model:t,"label-width":"150px",ref_key:"ruleFormRef",ref:p,rules:b,class:"page-form"},{default:s(()=>[i(u,{class:"box-card !border-none",shadow:"never"},{default:s(()=>[f("h3",T,_(l(a)("memberNoRule")),1),i(d,{label:l(a)("prefix"),prop:"prefix"},{default:s(()=>[i(r,{modelValue:t.prefix,"onUpdate:modelValue":e[0]||(e[0]=n=>t.prefix=n),placeholder:l(a)("prefixPlaceholder"),class:"input-width",clearable:"",maxlength:"20",onChange:e[1]||(e[1]=n=>c(p.value))},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(d,{label:l(a)("length"),prop:"length"},{default:s(()=>[i(r,{modelValue:t.length,"onUpdate:modelValue":e[2]||(e[2]=n=>t.length=n),placeholder:l(a)("lengthPlaceholder"),class:"input-width",clearable:"",type:"number",onChange:e[3]||(e[3]=n=>c(p.value))},null,8,["modelValue","placeholder"]),f("div",U,_(l(a)("lengthTips")),1)]),_:1},8,["label"]),i(d,null,{default:s(()=>[f("div",j,_(l(v)),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[V,m.value]]),f("div",z,[f("div",A,[i(E,{type:"primary",onClick:e[4]||(e[4]=n=>w(p.value))},{default:s(()=>[q(_(l(a)("save")),1)]),_:1})])])])}}});const Be=H(K,[["__scopeId","data-v-c666f154"]]);export{Be as default};
