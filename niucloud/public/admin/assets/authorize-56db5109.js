import{d as L,r as d,R as z,V as D,Q as O,e as w,f as Q,v as y,x as o,g as e,y as a,A as c,B as x,u as s,i as C,H as T,aP as M,aQ as G}from"./base-06478700.js";/* empty css                   */import{E as K}from"./el-overlay-42a687c6.js";import{a as W,E as X}from"./el-form-item-314d006d.js";/* empty css                *//* empty css                 */import"./el-tooltip-58212670.js";/* empty css                   */import"./index-0d58768e.js";/* empty css                  */import{t as m}from"./index-e5b4f072.js";import{g as Y,s as Z}from"./module-424cce89.js";import{u as ee}from"./vue-router-d09a2c28.js";import{E as te}from"./index-c2f001d3.js";import{E as oe}from"./index-2fcd1254.js";import{E as ae}from"./index-a0c6fc63.js";import{E as se}from"./index-b68e8463.js";import{E as le}from"./index-e10fccde.js";import{v as re}from"./directive-cb2d3366.js";import{_ as pe}from"./_plugin-vue_export-helper-c27b6911.js";import"./event-10eba222.js";import"./index-9fe5de95.js";import"./focus-trap-3e826cdc.js";import"./index-f27d6ce0.js";import"./index-818c0ce2.js";import"./common-92a35870.js";import"./index-adb89d14.js";import"./el-main-9a0960e7.js";import"./index-6b67c4ac.js";import"./index-b52d0f2a.js";import"./index-2a269c7c.js";import"./index-e4abfaa5.js";import"./index-9ee9102c.js";const h=v=>(M("data-v-cbc1746a"),v=v(),G(),v),ie={class:"main main-container min-w-[1000px] min-h-[650px]"},ne={class:"flex"},ce={class:"bg-[#F3F6FF] mr-[14px] w-[402px] pt-[30px] pl-[32px] pr-[46px] pb-[60px]"},de={class:"flex items-center justify-between"},me=h(()=>e("span",{class:"text-[20px] text-[#333333]"},"版本信息",-1)),ue=h(()=>e("div",{class:"mt-[30px] flex items-center text-[14px] text-[#797979]"},[e("span",null,"当前版本"),e("span",{class:"text-[26px] ml-[15px] mr-[10px] text-[#656668]"},"1.0.35"),e("em",{class:"text-[12px]"},"(当前已是最新版本)")],-1)),_e={class:"flex-1 flex justify-between items-center bg-[#F3F6FF] pt-[34px] pl-[30px] pr-[60px] pb-[62px]"},xe={class:"flex flex-col"},fe={class:"flex flex-wrap items-center"},he=h(()=>e("p",{class:"text-[20px] text-[#333] mr-[20px]"},"授权信息",-1)),ve={class:"text-[14px] text-[#666]"},ge={class:"mt-[46px] ml-[40px] flex flex-wrap"},we={class:"text-[14px] text-[#797979] mr-[84px]"},ye={class:"ml-[12px] text-[12px] text-[#222222]"},Ce={class:"text-[14px] flex items-center text-[#797979]"},be=h(()=>e("span",null,"授权码",-1)),ke={class:"ml-[12px] mr-[10px] text-[12px] text-[#222222]"},Ve={class:"flex flex-1 flex-wrap justify-end relative"},Ee={class:"px-[18px] py-[8px]"},Fe=h(()=>e("p",{class:"leading-[32px] text-[14px]"},"您在官方应用市场购买任意一款应用，即可获得授权码。输入正确授权码认证通过后，即可支持在线升级和其它相关服务",-1)),Ae={class:"flex justify-end mt-[36px]"},Ie={class:"mt-[20px]"},Se={class:"text-sm mt-[10px] text-info"},ze={class:"mt-[20px]"},De={class:"mt-[10px] text-right"},Be=L({__name:"authorize",setup(v){ee().meta.title;let b=d(null),i=d(!1),l=d(!1);const B=p=>{let t=JSON.parse(JSON.stringify(p));return t.slice(0,t.length/2)+t.slice(t.length/2,t.length-1).replace(/./g,"*")},N=()=>{i.value=!0},u=d(""),g=d(!0),f=d(!1),k=()=>{Y().then(p=>{g.value=!1,p.data.data&&p.data.data.length!=0&&(u.value=p.data.data,i.value=!1)}).catch(()=>{g.value=!1,i.value=!1})};k();const _=z({auth_code:"",auth_secret:""}),V=d(),P=z({auth_code:[{required:!0,message:m("authCodePlaceholder"),trigger:"blur"}],auth_secret:[{required:!0,message:m("authSecretPlaceholder"),trigger:"blur"}]}),R=async p=>{f.value||!p||await p.validate(async t=>{t&&(f.value=!0,Z(_).then(()=>{f.value=!1,k()}).catch(()=>{f.value=!1,i.value=!1}))})},E=()=>{window.open("https://www.niucloud.com/product")};return(p,t)=>{const n=te,j=D("View"),F=oe,H=D("Hide"),U=ae,A=se,I=W,S=le,$=X,q=K,J=re;return O((w(),Q("div",ie,[g.value?T("",!0):(w(),y(S,{key:0,class:"box-card !border-none",shadow:"never"},{default:o(()=>[e("div",ne,[e("div",ce,[e("div",de,[me,a(n,{class:"text-[#4C4C4C] w-[78px] h-[32px] !bg-transparent"},{default:o(()=>[c("检测更新")]),_:1})]),ue]),e("div",_e,[e("div",xe,[e("div",fe,[he,e("span",ve,x(u.value.company_name||"--"),1)]),e("div",ge,[e("span",we,[c("授权域名"),e("em",ye,x(u.value.site_address||"--"),1)]),e("span",Ce,[be,e("em",ke,x(u.value.auth_code?s(l)?u.value.auth_code:B(u.value.auth_code):"--"),1),s(l)?(w(),y(F,{key:1,onClick:t[1]||(t[1]=r=>C(l)?l.value=!s(l):l=!s(l)),class:"text-[12px] cursor-pointer"},{default:o(()=>[a(H)]),_:1})):(w(),y(F,{key:0,onClick:t[0]||(t[0]=r=>C(l)?l.value=!s(l):l=!s(l)),class:"text-[12px] cursor-pointer"},{default:o(()=>[a(j)]),_:1}))])])]),e("div",Ve,[a(n,{class:"w-[154px] !h-[48px] mt-[8px]",type:"primary",onClick:N},{default:o(()=>[c("授权码认证")]),_:1}),a(U,{ref_key:"getAuthCodeDialog",ref:b,placement:"bottom",width:478,trigger:"click",class:"mt-[8px]"},{reference:o(()=>[a(n,{class:"w-[154px] !h-[48px] mt-[8px] !text-[var(--el-color-primary)] hover:!text-[var(--el-color-primary)] !bg-transparent",plain:"",type:"primary"},{default:o(()=>[c("如何获取授权码?")]),_:1})]),default:o(()=>[e("div",Ee,[Fe,e("div",Ae,[a(n,{class:"w-[182px] !h-[48px]",plain:"",onClick:E},{default:o(()=>[c("去应用市场逛逛")]),_:1}),a(n,{class:"w-[100px] !h-[48px]",plain:"",onClick:t[2]||(t[2]=r=>s(b).hide())},{default:o(()=>[c("关闭")]),_:1})])])]),_:1},512)]),a(q,{modelValue:s(i),"onUpdate:modelValue":t[6]||(t[6]=r=>C(i)?i.value=r:i=r),title:"授权码认证",width:"400px"},{default:o(()=>[a($,{model:_,"label-width":"0",ref_key:"formRef",ref:V,rules:P,class:"page-form"},{default:o(()=>[a(S,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[a(I,{prop:"auth_code"},{default:o(()=>[a(A,{modelValue:_.auth_code,"onUpdate:modelValue":t[3]||(t[3]=r=>_.auth_code=r),placeholder:s(m)("authCodePlaceholder"),class:"input-width",clearable:"",size:"large"},null,8,["modelValue","placeholder"])]),_:1}),e("div",Ie,[a(I,{prop:"auth_secret"},{default:o(()=>[a(A,{modelValue:_.auth_secret,"onUpdate:modelValue":t[4]||(t[4]=r=>_.auth_secret=r),clearable:"",placeholder:s(m)("authSecretPlaceholder"),class:"input-width",size:"large"},null,8,["modelValue","placeholder"])]),_:1})]),e("div",Se,x(s(m)("authInfoTips")),1),e("div",ze,[a(n,{type:"primary",class:"w-full",size:"large",loading:f.value,onClick:t[5]||(t[5]=r=>R(V.value))},{default:o(()=>[c(x(s(m)("confirm")),1)]),_:1},8,["loading"])]),e("div",De,[a(n,{type:"primary",link:"",onClick:E},{default:o(()=>[c(x(s(m)("notHaveAuth")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])])]),_:1}))])),[[J,g.value]])}}});const _t=pe(Be,[["__scopeId","data-v-cbc1746a"]]);export{_t as default};
