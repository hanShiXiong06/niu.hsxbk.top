import{d as J,r as p,R as S,V as z,Q as L,e as w,f as O,v as y,x as o,g as e,y as a,A as n,B as _,u as f,H as Q,aP as T,aQ as M}from"./base-06478700.js";/* empty css                   */import{E as G}from"./el-overlay-42a687c6.js";import{a as K,E as W}from"./el-form-item-314d006d.js";/* empty css                *//* empty css                 */import"./el-tooltip-58212670.js";/* empty css                   */import"./index-54d728c0.js";/* empty css                  */import{t as i}from"./index-7ea27073.js";import{g as X,s as Y}from"./module-6f119c2c.js";import{u as Z}from"./vue-router-d09a2c28.js";import{E as ee}from"./index-c2f001d3.js";import{E as te}from"./index-2fcd1254.js";import{E as oe}from"./index-250775f2.js";import{E as ae}from"./index-b68e8463.js";import{E as se}from"./index-e10fccde.js";import{v as le}from"./directive-cb2d3366.js";import{_ as re}from"./_plugin-vue_export-helper-c27b6911.js";import"./event-10eba222.js";import"./index-9fe5de95.js";import"./focus-trap-3e826cdc.js";import"./index-f27d6ce0.js";import"./index-818c0ce2.js";import"./common-92a35870.js";import"./index-adb89d14.js";import"./el-main-9a0960e7.js";import"./index-6b67c4ac.js";import"./index-b52d0f2a.js";import"./index-2a269c7c.js";import"./index-e4abfaa5.js";import"./index-9ee9102c.js";const h=v=>(T("data-v-645810d3"),v=v(),M(),v),ne={class:"main main-container min-w-[1000px] min-h-[650px]"},pe={class:"flex"},ie={class:"bg-[#F3F6FF] mr-[14px] w-[402px] pt-[30px] pl-[32px] pr-[46px] pb-[60px]"},ce={class:"flex items-center justify-between"},de=h(()=>e("span",{class:"text-[20px] text-[#333333]"},"版本信息",-1)),ue=h(()=>e("div",{class:"mt-[30px] flex items-center text-[14px] text-[#797979]"},[e("span",null,"当前版本"),e("span",{class:"text-[26px] ml-[15px] mr-[10px] text-[#656668]"},"1.0.35"),e("em",{class:"text-[12px]"},"(当前已是最新版本)")],-1)),me={class:"flex-1 flex justify-between items-center bg-[#F3F6FF] pt-[34px] pl-[30px] pr-[60px] pb-[62px]"},_e={class:"flex flex-col"},xe={class:"flex flex-wrap items-center"},fe=h(()=>e("p",{class:"text-[20px] text-[#333] mr-[20px]"},"授权信息",-1)),he={class:"text-[14px] text-[#666]"},ve={class:"mt-[46px] ml-[40px] flex flex-wrap"},ge={class:"text-[14px] text-[#797979] mr-[84px]"},we={class:"ml-[12px] text-[12px] text-[#222222]"},ye={class:"text-[14px] flex items-center text-[#797979]"},Ce=h(()=>e("span",null,"授权码",-1)),ke={class:"ml-[12px] mr-[10px] text-[12px] text-[#222222]"},be={class:"flex flex-1 flex-wrap justify-end relative"},Ve={class:"px-[18px] py-[8px]"},Ee=h(()=>e("p",{class:"leading-[32px] text-[14px]"},"您在官方应用市场购买任意一款应用，即可获得授权码。输入正确授权码认证通过后，即可支持在线升级和其它相关服务 ",-1)),Fe={class:"flex justify-end mt-[36px]"},Ae={class:"mt-[20px]"},Ie={class:"text-sm mt-[10px] text-info"},Se={class:"mt-[20px]"},ze={class:"mt-[10px] text-right"},De=J({__name:"authorize",setup(v){Z().meta.title;const C=p(null),c=p(!1),d=p(!1),D=s=>{const t=JSON.parse(JSON.stringify(s));return t.slice(0,t.length/2)+t.slice(t.length/2,t.length-1).replace(/./g,"*")},B=()=>{c.value=!0},u=p(""),g=p(!0),x=p(!1),k=()=>{X().then(s=>{g.value=!1,s.data.data&&s.data.data.length!=0&&(u.value=s.data.data,c.value=!1)}).catch(()=>{g.value=!1,c.value=!1})};k();const m=S({auth_code:"",auth_secret:""}),b=p(),N=S({auth_code:[{required:!0,message:i("authCodePlaceholder"),trigger:"blur"}],auth_secret:[{required:!0,message:i("authSecretPlaceholder"),trigger:"blur"}]}),P=async s=>{x.value||!s||await s.validate(async t=>{t&&(x.value=!0,Y(m).then(()=>{x.value=!1,k()}).catch(()=>{x.value=!1,c.value=!1}))})},V=()=>{window.open("https://www.niucloud.com/product")};return(s,t)=>{const r=ee,R=z("View"),E=te,j=z("Hide"),H=oe,F=ae,A=K,I=se,$=W,U=G,q=le;return L((w(),O("div",ne,[g.value?Q("",!0):(w(),y(I,{key:0,class:"box-card !border-none",shadow:"never"},{default:o(()=>[e("div",pe,[e("div",ie,[e("div",ce,[de,a(r,{class:"text-[#4C4C4C] w-[78px] h-[32px] !bg-transparent"},{default:o(()=>[n("检测更新")]),_:1})]),ue]),e("div",me,[e("div",_e,[e("div",xe,[fe,e("span",he,_(u.value.company_name||"--"),1)]),e("div",ve,[e("span",ge,[n("授权域名"),e("em",we,_(u.value.site_address||"--"),1)]),e("span",ye,[Ce,e("em",ke,_(u.value.auth_code?d.value?u.value.auth_code:D(u.value.auth_code):"--"),1),d.value?(w(),y(E,{key:1,onClick:t[1]||(t[1]=l=>d.value=!d.value),class:"text-[12px] cursor-pointer"},{default:o(()=>[a(j)]),_:1})):(w(),y(E,{key:0,onClick:t[0]||(t[0]=l=>d.value=!d.value),class:"text-[12px] cursor-pointer"},{default:o(()=>[a(R)]),_:1}))])])]),e("div",be,[a(r,{class:"w-[154px] !h-[48px] mt-[8px]",type:"primary",onClick:B},{default:o(()=>[n("授权码认证")]),_:1}),a(H,{ref_key:"getAuthCodeDialog",ref:C,placement:"bottom",width:478,trigger:"click",class:"mt-[8px]"},{reference:o(()=>[a(r,{class:"w-[154px] !h-[48px] mt-[8px] !text-[var(--el-color-primary)] hover:!text-[var(--el-color-primary)] !bg-transparent",plain:"",type:"primary"},{default:o(()=>[n("如何获取授权码?")]),_:1})]),default:o(()=>[e("div",Ve,[Ee,e("div",Fe,[a(r,{class:"w-[182px] !h-[48px]",plain:"",onClick:V},{default:o(()=>[n("去应用市场逛逛")]),_:1}),a(r,{class:"w-[100px] !h-[48px]",plain:"",onClick:t[2]||(t[2]=l=>C.value.hide())},{default:o(()=>[n("关闭")]),_:1})])])]),_:1},512)]),a(U,{modelValue:c.value,"onUpdate:modelValue":t[6]||(t[6]=l=>c.value=l),title:"授权码认证",width:"400px"},{default:o(()=>[a($,{model:m,"label-width":"0",ref_key:"formRef",ref:b,rules:N,class:"page-form"},{default:o(()=>[a(I,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[a(A,{prop:"auth_code"},{default:o(()=>[a(F,{modelValue:m.auth_code,"onUpdate:modelValue":t[3]||(t[3]=l=>m.auth_code=l),placeholder:f(i)("authCodePlaceholder"),class:"input-width",clearable:"",size:"large"},null,8,["modelValue","placeholder"])]),_:1}),e("div",Ae,[a(A,{prop:"auth_secret"},{default:o(()=>[a(F,{modelValue:m.auth_secret,"onUpdate:modelValue":t[4]||(t[4]=l=>m.auth_secret=l),clearable:"",placeholder:f(i)("authSecretPlaceholder"),class:"input-width",size:"large"},null,8,["modelValue","placeholder"])]),_:1})]),e("div",Ie,_(f(i)("authInfoTips")),1),e("div",Se,[a(r,{type:"primary",class:"w-full",size:"large",loading:x.value,onClick:t[5]||(t[5]=l=>P(b.value))},{default:o(()=>[n(_(f(i)("confirm")),1)]),_:1},8,["loading"])]),e("div",ze,[a(r,{type:"primary",link:"",onClick:V},{default:o(()=>[n(_(f(i)("notHaveAuth")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])])]),_:1}))])),[[q,g.value]])}}});const mt=re(De,[["__scopeId","data-v-645810d3"]]);export{mt as default};
