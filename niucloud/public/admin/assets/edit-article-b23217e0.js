import{E as j}from"./base-962c0c23.js";/* empty css                   */import{d as F}from"./index-7525671c.js";/* empty css                 *//* empty css                  */import{E as L}from"./el-overlay-60700377.js";/* empty css                      *//* empty css               *//* empty css                  *//* empty css                  */import"./el-tooltip-58212670.js";/* empty css                        *//* empty css                        *//* empty css                    *//* empty css                     *//* empty css                *//* empty css                  *//* empty css                        */import{E as $,b as M}from"./el-radio-bfd4b1ad.js";import{v as g}from"./event-ff03ec12.js";import{t as a}from"./index-105fbad0.js";import{u as O}from"./diy-f6b4263e.js";import{d as q}from"./storage-abe718b1.js";import{j as G}from"./article-6bb0e548.js";import{E as Q,a as H}from"./index-92e1b5d5.js";import{a as J,E as K}from"./index-61c777fa.js";import{E as W}from"./index-3220fc45.js";import{E as X}from"./index-190f0dba.js";import{E as Y}from"./index-100b1469.js";import{E as Z}from"./index-bba9e58c.js";import{v as ee}from"./directive-c0c3e9a3.js";import{d as te,r as x,M as oe,Q as le,b as v,e as ae,L as _,u as e,f as r,x as d,q as o,p as i,v as f,n as ne,m as V,C as ie,g as se,F as re}from"./runtime-core.esm-bundler-dc7a07d7.js";const me={class:"content-wrap"},de={class:"edit-attr-item-wrap"},pe={class:"mb-[10px]"},ce={class:"mt-[16px] flex justify-end"},ue={class:"dialog-footer"},_e={class:"style-wrap"},fe={class:"edit-attr-item-wrap"},ge={class:"mb-[10px]"},be=te({__name:"edit-article",setup(Ce,{expose:S}){const l=O();l.editComponent.ignore=[],l.editComponent.verify=m=>{var t={code:!0,message:""};return l.value[m].sources==="diy"&&l.value[m].articleIds.length===0&&(t.code=!1,t.message=a("selectArticleTip")),t};const u=x(!1),z=()=>{u.value=!0},s=oe({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{title:"",category_id:"",is_show:1}}),b=(m=1)=>{s.loading=!0,s.page=m,G({page:s.page,limit:s.limit,...s.searchParam}).then(t=>{s.loading=!1,s.data=t.data.data,s.total=t.data.total}).catch(()=>{s.loading=!1})};b();const h=x([]),T=m=>{h.value=m},k=()=>{l.editComponent.articleIds=[],h.value.forEach(m=>{l.editComponent.articleIds.push(m.id)}),u.value=!1};return S({}),(m,t)=>{const w=$,I=M,p=J,C=W,R=le("ArrowRight"),A=j,y=K,c=H,B=X,D=Y,E=Z,U=L,P=F,N=ee;return v(),ae(re,null,[_(r("div",me,[r("div",de,[r("h3",pe,d(e(a)("articleData")),1),o(y,{"label-width":"80px",class:"px-[10px]"},{default:i(()=>[o(p,{label:e(a)("dataSources")},{default:i(()=>[o(I,{modelValue:e(l).editComponent.sources,"onUpdate:modelValue":t[0]||(t[0]=n=>e(l).editComponent.sources=n)},{default:i(()=>[o(w,{label:"initial"},{default:i(()=>[f(d(e(a)("defaultSources")),1)]),_:1}),o(w,{label:"diy"},{default:i(()=>[f(d(e(a)("manualSelectionSources")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),_(o(p,{label:e(a)("articleNum")},{default:i(()=>[o(C,{modelValue:e(l).editComponent.count,"onUpdate:modelValue":t[1]||(t[1]=n=>e(l).editComponent.count=n),"show-input":"",size:"small",class:"ml-[10px] article-slider",min:1,max:30},null,8,["modelValue"])]),_:1},8,["label"]),[[g,e(l).editComponent.sources=="initial"]]),_(o(p,{label:e(a)("manualSelectionSources"),class:"flex"},{default:i(()=>[r("span",{onClick:z,class:ne(["cursor-pointer flex-1",{"text-primary":e(l).editComponent.articleIds.length>0}])},d(e(l).editComponent.articleIds.length>0?e(a)("selected")+e(l).editComponent.articleIds.length+e(a)("piece"):e(a)("selectPlaceholder")),3),o(A,null,{default:i(()=>[o(R)]),_:1})]),_:1},8,["label"]),[[g,e(l).editComponent.sources=="diy"]])]),_:1})]),o(U,{modelValue:u.value,"onUpdate:modelValue":t[6]||(t[6]=n=>u.value=n),title:e(a)("selectArticleTips"),width:"60%","close-on-press-escape":!1,"close-on-click-modal":!1},{footer:i(()=>[r("span",ue,[o(E,{onClick:t[5]||(t[5]=n=>u.value=!1)},{default:i(()=>[f(d(e(a)("cancel")),1)]),_:1}),o(E,{type:"primary",onClick:k},{default:i(()=>[f(d(e(a)("confirm")),1)]),_:1})])]),default:i(()=>[r("div",null,[_((v(),V(e(Q),{data:s.data,size:"large",onSelectionChange:T},{empty:i(()=>[r("span",null,d(s.loading?"":e(a)("emptyData")),1)]),default:i(()=>[o(c,{type:"selection",width:"55"}),o(c,{prop:"title","show-overflow-tooltip":!0,label:e(a)("articleTitle"),width:"140"},null,8,["label"]),o(c,{label:e(a)("articleImage"),"min-width":"120",align:"center"},{default:i(({row:n})=>[n.image?(v(),V(B,{key:0,class:"w-12 h-12",src:e(q)(n.image),fit:"contain"},null,8,["src"])):ie("",!0)]),_:1},8,["label"]),o(c,{prop:"category_name",label:e(a)("articleCategoryName"),align:"center","min-width":"140"},null,8,["label"]),o(c,{prop:"summary",label:e(a)("articleSummary"),width:"180","show-overflow-tooltip":!0},null,8,["label"]),o(c,{label:e(a)("createTime"),"min-width":"180",align:"center"},{default:i(({row:n})=>[f(d(n.create_time||""),1)]),_:1},8,["label"])]),_:1},8,["data"])),[[N,s.loading]]),r("div",ce,[o(D,{"current-page":s.page,"onUpdate:currentPage":t[2]||(t[2]=n=>s.page=n),"page-size":s.limit,"onUpdate:pageSize":t[3]||(t[3]=n=>s.limit=n),layout:"total, sizes, prev, pager, next, jumper",total:s.total,onSizeChange:t[4]||(t[4]=n=>b()),onCurrentChange:b},null,8,["current-page","page-size","total"])])])]),_:1},8,["modelValue","title"])],512),[[g,e(l).editTab=="content"]]),_(r("div",_e,[r("div",fe,[r("h3",ge,d(e(a)("articleStyle")),1),o(y,{"label-width":"80px",class:"px-[10px]"},{default:i(()=>[o(p,{label:e(a)("articleBgColor")},{default:i(()=>[o(P,{modelValue:e(l).editComponent.elementBgColor,"onUpdate:modelValue":t[7]||(t[7]=n=>e(l).editComponent.elementBgColor=n),"show-alpha":"",predefine:e(l).predefineColors},null,8,["modelValue","predefine"])]),_:1},8,["label"]),o(p,{label:e(a)("topRounded")},{default:i(()=>[o(C,{modelValue:e(l).editComponent.topElementRounded,"onUpdate:modelValue":t[8]||(t[8]=n=>e(l).editComponent.topElementRounded=n),"show-input":"",size:"small",class:"ml-[10px] graphic-nav-slider",max:50},null,8,["modelValue"])]),_:1},8,["label"]),o(p,{label:e(a)("bottomRounded")},{default:i(()=>[o(C,{modelValue:e(l).editComponent.bottomElementRounded,"onUpdate:modelValue":t[9]||(t[9]=n=>e(l).editComponent.bottomElementRounded=n),"show-input":"",size:"small",class:"ml-[10px] graphic-nav-slider",max:50},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),se(m.$slots,"style")],512),[[g,e(l).editTab=="style"]])],64)}}});const Xe=Object.freeze(Object.defineProperty({__proto__:null,default:be},Symbol.toStringTag,{value:"Module"}));export{Xe as _};
