import{d as Ye,r as f,c as ie,w as Ze,R as we,V as be,Q as J,e as o,f as d,g as t,B as r,u as i,y as s,x as l,F as C,z as I,A as _,H as y,v,i as et,U as Ce,aP as tt,aQ as lt}from"./base-06478700.js";/* empty css                   *//* empty css                 */import{v as H,_ as ce,g as st,p as at,a as ot,i as nt,c as it,b as rt,u as ct}from"./el-message-43c379f3.js";import"./el-tooltip-58212670.js";import{k as dt,h as pt}from"./index-0d58768e.js";/* empty css               *//* empty css                *//* empty css                    */import{E as ut}from"./el-overlay-42a687c6.js";import{a as _t,E as ft}from"./el-form-item-314d006d.js";/* empty css                *//* empty css                 *//* empty css                   */import{_ as $e}from"./apply_empty-78684083.js";/* empty css                 *//* empty css                  */import{d as h,v as re}from"./event-10eba222.js";import{_ as de}from"./app_store_default-c4798c2d.js";import{t as a}from"./index-e5b4f072.js";import{g as Ee,d as mt,s as vt}from"./module-424cce89.js";import{d as Ae,a as xt}from"./common-92a35870.js";import{a as ht}from"./vue-router-d09a2c28.js";import{a as gt}from"./index-b52d0f2a.js";import{E as Ie}from"./index-01f6e375.js";import{E as yt}from"./index-c2f001d3.js";import{E as kt}from"./index-b56195b5.js";import{a as wt,E as bt}from"./index-0d66b73c.js";import{E as Ct}from"./index-8c476f28.js";import{E as Et}from"./index-a0c6fc63.js";import{E as At}from"./index-b68e8463.js";import{E as It}from"./index-e10fccde.js";import{a as $t,E as St}from"./index-da6a2951.js";import{E as Tt,a as Vt}from"./index-c17093ae.js";import{E as Lt}from"./index-2fcd1254.js";import{E as zt}from"./index-e4abfaa5.js";import{E as Bt}from"./index-2a269c7c.js";import{E as jt}from"./index-68053ed5.js";import{E as Dt}from"./index-37a46bd5.js";import{v as Rt}from"./directive-cb2d3366.js";import{_ as Pt}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-adb89d14.js";import"./el-main-9a0960e7.js";import"./index-6b67c4ac.js";import"./index-f27d6ce0.js";import"./focus-trap-3e826cdc.js";import"./index-9ee9102c.js";import"./index-9fe5de95.js";import"./index-818c0ce2.js";import"./validator-6e9db238.js";import"./strings-fe930bc4.js";const K=O=>(tt("data-v-0a738ff9"),O=O(),lt(),O),Ft={class:"main-container w-full p-5 bg-white"},Mt={class:"flex justify-between items-center h-[32px] mb-4"},Ut={class:"text-[20px]"},Nt={class:"relative"},Ht={class:"flex flex-wrap px-2 plug-list pb-10"},Ot=["onClick"],qt={class:"p-3"},Qt=["src"],Wt={key:1,class:"w-[44px] h-[44px] rounded-sm",src:ce,alt:""},Gt={class:"flex items-center w-[220px] border-b py-3 justify-between"},Jt={class:"flex flex-col"},Kt={class:"text-[14px] truncate w-[160px]"},Xt={class:"text-xs text-gray-400 truncate w-[160px] mt-[4px]"},Yt={key:1,class:"flex flex-wrap plug-list pb-10 plug-large"},Zt=["onClick"],el={class:"flex justify-center items-center"},tl=["src"],ll={key:1,class:"w-[240px] h-[120px]",src:de},sl={class:"flex w-[240px] h-[46px]"},al={class:"text-left mt-2 w-[190px]"},ol={class:"app-text text-[14px] text-[#222] pl-2"},nl={class:"app-text text-[12px] text-[#999] pl-2"},il={class:"flex items-center pr-2"},rl=K(()=>t("div",{class:"w-[230px] mx-auto"},[t("img",{src:$e,class:"max-w-full",alt:""})],-1)),cl={class:"flex items-center"},dl={class:"flex flex-wrap px-2 plug-list pb-10"},pl=["onClick"],ul={class:"p-3"},_l=["src"],fl={key:1,class:"w-[44px] h-[44px] rounded-sm",src:ce,alt:""},ml={class:"flex items-center w-[220px] border-b py-3 justify-between"},vl={class:"flex flex-col"},xl={class:"text-[14px] truncate w-[160px]"},hl={class:"text-xs text-gray-400 truncate w-[160px] mt-[4px]"},gl={key:1,class:"flex flex-wrap plug-list pb-10 plug-large"},yl=["onClick"],kl={class:"flex justify-center items-center"},wl=["src"],bl=["src"],Cl={key:2,class:"w-[240px] h-[120px]",src:de},El={class:"flex w-[240px] h-[46px]"},Al={class:"text-left mt-2 w-[190px]"},Il={class:"app-text text-[14px] text-[#222] pl-2"},$l={class:"app-text text-[12px] text-[#999] pl-2"},Sl={class:"flex items-center pr-2"},Tl=K(()=>t("div",{class:"w-[230px] mx-auto"},[t("img",{src:$e,class:"max-w-full",alt:""})],-1)),Vl={class:"flex items-center"},Ll={class:"flex flex-wrap px-2 plug-list pb-10"},zl=["onClick"],Bl={class:"p-3"},jl=["src"],Dl={key:1,class:"w-[44px] h-[44px] rounded-sm",src:ce,alt:""},Rl={class:"flex items-center w-[220px] border-b py-3 justify-between"},Pl={class:"flex flex-col"},Fl={class:"text-[14px] truncate w-[160px]"},Ml={class:"text-xs text-gray-400 truncate w-[160px] mt-[4px]"},Ul={key:1,class:"flex flex-wrap plug-list pb-10 plug-large"},Nl=["onClick"],Hl={class:"flex justify-center items-center"},Ol=["src"],ql=["src"],Ql={key:2,class:"w-[240px] h-[120px]",src:de},Wl={class:"flex w-[240px] h-[46px]"},Gl={class:"text-left mt-2 w-[190px]"},Jl={class:"app-text text-[14px] text-[#222] pl-2"},Kl={class:"app-text text-[12px] text-[#999] pl-2"},Xl={class:"flex items-center pr-2"},Yl={key:1,class:"mx-auto overview-empty flex flex-col items-center pt-14 pb-6"},Zl=K(()=>t("div",{class:"mb-[20px] text-sm text-[#888]"},"检测到当前账号尚未绑定授权，请先绑定授权！",-1)),es={class:"flex flex-1 flex-wrap justify-center relative"},ts={class:"px-[18px] py-[8px]"},ls=K(()=>t("p",{class:"leading-[32px] text-[14px]"},"您在官方应用市场购买任意一款应用，即可获得授权码。输入正确授权码认证通过后，即可支持在线升级和其它相关服务",-1)),ss={class:"flex justify-end mt-[36px]"},as={class:"mt-[20px]"},os={class:"text-sm mt-[10px] text-info"},ns={class:"mt-[20px]"},is={class:"mt-[10px] text-right"},rs={class:"input-width"},cs={class:"input-width"},ds={class:"input-width"},ps={class:"input-width"},us={class:"dialog-footer"},_s={class:"min-h-[150px]"},fs={key:0,class:"bg-[#fff] my-3"},ms={class:"pt-[20px] pl-[20px]"},vs={class:"px-[20px] pt-[10px] text-[14px]"},xs={key:0},hs={key:1},gs={key:0},ys={key:1},ks={class:"flex justify-end"},ws={class:"h-[50vh] mt-[20px]"},bs={class:"h-[50vh] mt-[20px] flex flex-col"},Cs={class:"mb-[10px]"},Es=Ye({__name:"store",setup(O){const Se=ht(),pe=f("installed"),E=f(!1),V=f("small"),x=f(""),X=f([]),Y=dt(),q=n=>{x.value||(x.value=n.key,mt({addon:n.key,version:n.version}).then(()=>{M(n.key),F(),x.value=""}).catch(()=>{x.value=""}))},Te=ie(()=>{let n=a("installLabel");return u.value.installed.length&&(n+=` (${u.value.installed.length})`),n}),Ve=ie(()=>{let n=a("uninstalledLabel");return u.value.uninstalled.length&&(n+=` (${u.value.uninstalled.length})`),n}),Le=ie(()=>{let n=a("buyLabel");return u.value.all.length&&(n+=` (${u.value.all.length})`),n}),ue=f("");Ee().then(n=>{n.data.data&&n.data.data.auth_code&&(ue.value=n.data.data.auth_code)}).catch(()=>{});const u=f({installed:[],uninstalled:[],all:[],error:""}),F=()=>{E.value=!0,st({}).then(n=>{var p;const c=n.data.list;u.value.error=n.data.error,u.value.installed=[],u.value.uninstalled=[],u.value.all=[];for(const b in c)c[b].is_local==!1&&u.value.all.push(c[b]),c[b].install_info&&((p=Object.keys(c[b].install_info))!=null&&p.length)?u.value.installed.push(c[b]):c[b].is_download==!0&&u.value.uninstalled.push(c[b]);E.value=!1}).catch(()=>{E.value=!1})};F();const ze=(n,c)=>{n.paneName=="buy"&&u.value.error!=""&&gt({message:u.value.error,grouping:!0,type:"error"})},$=f(""),L=f(!1),k=f(1),w=f({}),M=n=>{$.value=n,k.value=1,L.value=!0,X.value=[],at(n).then(c=>{w.value=c.data}).catch(()=>{})};let U=null;const Z=(n=!0)=>{ot().then(c=>{if(c.data){if(n&&(ee=[],$.value=c.data.addon,L.value||(U=pt.success({title:a("warning"),dangerouslyUseHTMLString:!0,message:Ce("div",{},[a("installingTips"),Ce("span",{class:"text-primary cursor-pointer",onClick:Be},[a("installPercent")])]),duration:0,showClose:!1}))),c.data.error)return;c.data.mode=="cloud"&&Pe(),setTimeout(()=>{Z(!1)},2e3)}else n||(k.value=3,F(),Y.getAppList(),U.close())})};Z();const Be=()=>{L.value=!0,k.value=2},z=f(!1),je=()=>{!w.value.is_pass||z.value||(z.value=!0,nt({addon:$.value}).then(n=>{k.value=3,F(),Y.getAppList(),z.value=!1,n.data.length&&(X.value=n.data)}).catch(n=>{z.value=!1}))},B=f(!1),De=()=>{if(!ue.value){Re();return}!w.value.is_pass||B.value||(B.value=!0,it({addon:$.value}).then(n=>{k.value=2,H.api.execute("my-terminal","clear"),H.api.pushMessage("my-terminal",{content:"开始安装插件",class:"info"}),Z(),B.value=!1}).catch(n=>{B.value=!1}))},Re=()=>{Ie.confirm(a("authTips"),a("warning"),{distinguishCancelAndClose:!0,confirmButtonText:a("toBind"),cancelButtonText:a("toNiucloud")}).then(()=>{Se.push({path:"/app/authorize"})}).catch(n=>{n==="cancel"&&window.open("https://www.niucloud.com/product")})};let ee=[];const Pe=()=>{rt($.value).then(n=>{const c=n.data.data??[];c[0]&&c[0].length&&L.value==!0&&c[0].forEach(p=>{ee.includes(p.action)||(H.api.pushMessage("my-terminal",{content:`正在执行：${p.action}`}),ee.push(p.action),p.code==0&&H.api.pushMessage("my-terminal",{content:p.msg,class:"error"}))})}).catch(()=>{U==null||U.close()})};Ze($,n=>{w.value={}});const Q=n=>{ct({addon:n}).then(c=>{xt.set({key:"menuAppStorage",data:""}),F(),Y.getAppList(),E.value=!1}).catch(()=>{E.value=!1})},_e=()=>{window.open("https://www.niucloud.com/product")},Fe=n=>{k.value==2?Ie.confirm(a("installShowDialogCloseTips"),a("warning"),{confirmButtonText:a("confirm"),cancelButtonText:a("cancel"),type:"warning"}).then(()=>{n()}).catch(()=>{}):n()},W=f(!1),j=f({}),D=n=>{W.value=!0,j.value=n};let S=f(!1);const te=f("");let fe=f(null);const N=f(!1),me=()=>{Ee().then(n=>{n.data.data&&n.data.data.length!=0&&(te.value=n.data.data)}).catch(()=>{S.value=!1})};me();const Me=()=>{S.value=!0},R=we({auth_code:"",auth_secret:""}),le=f(),Ue=we({auth_code:[{required:!0,message:a("authCodePlaceholder"),trigger:"blur"}],auth_secret:[{required:!0,message:a("authSecretPlaceholder"),trigger:"blur"}]}),Ne=async n=>{N.value||!n||await n.validate(async c=>{c&&(N.value=!0,vt(R).then(()=>{N.value=!1,me()}).catch(()=>{N.value=!1,S.value=!1}))})},He=()=>{window.open("https://www.niucloud.com/product")};return(n,c)=>{const p=yt,b=kt,se=wt,Oe=Ct,qe=Et,ve=At,P=_t,Qe=It,xe=ft,ae=ut,We=bt,oe=$t,Ge=St,A=Tt,ne=Vt,he=be("Select"),G=Lt,ge=be("CloseBold"),Je=zt,ye=Bt,Ke=jt,Xe=Dt,ke=Rt;return J((o(),d("div",Ft,[t("div",Mt,[t("span",Ut,r(i(a)("localAppText")),1)]),t("div",Nt,[s(We,{modelValue:pe.value,"onUpdate:modelValue":c[5]||(c[5]=e=>pe.value=e),class:"demo-tabs",onTabClick:ze},{default:l(()=>[s(se,{label:i(Te),name:"installed"},{default:l(()=>[t("div",Ht,[V.value=="small"?(o(!0),d(C,{key:0},I(u.value.installed,(e,g)=>(o(),d("div",{key:g+"a",class:"flex items-center cursor-pointer w-[295px] relative plug-item mr-4 mb-4",onClick:m=>D(e)},[t("div",qt,[e.icon?(o(),d("img",{key:0,class:"w-[44px] h-[44px] rounded-sm",src:e.icon,alt:""},null,8,Qt)):(o(),d("img",Wt))]),t("div",Gt,[t("div",Jt,[t("span",Kt,r(e.title),1),t("span",Xt,r(e.desc),1)]),s(p,{size:"small",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:h(m=>Q(e.key),["stop"])},{default:l(()=>[_(r(i(a)("unload")),1)]),_:2},1032,["onClick"])])],8,Ot))),128)):y("",!0),V.value=="large"?(o(),d("div",Yt,[(o(!0),d(C,null,I(u.value.installed,(e,g)=>(o(),d("div",{class:"app-item cursor-pointer mr-4 mt-[20px] pb-2 bg-[#f7f7f7]",key:g+"a",onClick:m=>D(e)},[t("div",el,[e.cover?(o(),d("img",{key:0,class:"w-[240px] h-[120px]",src:e.cover},null,8,tl)):(o(),d("img",ll))]),t("div",sl,[t("div",al,[t("p",ol,r(e.title),1),t("p",nl,r(e.desc),1)]),t("div",il,[s(p,{size:"small",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:h(m=>Q(e.key),["stop"])},{default:l(()=>[_(r(i(a)("unload")),1)]),_:2},1032,["onClick"])])])],8,Zt))),128))])):y("",!0),!u.value.installed.length&&!E.value?(o(),v(b,{key:2,class:"mx-auto overview-empty"},{image:l(()=>[rl]),description:l(()=>[t("p",cl,r(i(a)("installed-empty")),1)]),_:1})):y("",!0)])]),_:1},8,["label"]),s(se,{label:i(Ve),name:"uninstalled"},{default:l(()=>[t("div",dl,[V.value=="small"?(o(!0),d(C,{key:0},I(u.value.uninstalled,(e,g)=>(o(),d("div",{key:g+"a",class:"flex items-center cursor-pointer w-[295px] relative plug-item mr-4 mb-4",onClick:m=>D(e)},[t("div",ul,[e.icon?(o(),d("img",{key:0,class:"w-[44px] h-[44px] rounded-sm",src:e.icon,alt:""},null,8,_l)):(o(),d("img",fl))]),t("div",ml,[t("div",vl,[t("span",xl,r(e.title),1),t("span",hl,r(e.desc),1)]),e.is_download?(o(),v(p,{key:0,size:"small",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:h(m=>M(e.key),["stop"])},{default:l(()=>[_(r(i(a)("install")),1)]),_:2},1032,["onClick"])):(o(),v(p,{key:1,size:"small",loading:x.value==e.key,disabled:x.value!="",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:h(m=>q(e),["stop"])},{default:l(()=>[_(r(i(a)("down")),1)]),_:2},1032,["loading","disabled","onClick"]))])],8,pl))),128)):y("",!0),V.value=="large"?(o(),d("div",gl,[(o(!0),d(C,null,I(u.value.uninstalled,(e,g)=>(o(),d("div",{class:"app-item cursor-pointer mr-4 mt-[20px] pb-2 bg-[#f7f7f7]",key:g+"a",onClick:m=>D(e)},[t("div",kl,[e.cover&&!e.is_download?(o(),d("img",{key:0,class:"w-[240px] h-[120px]",src:i(Ae)(e.cover)},null,8,wl)):e.cover&&e.is_download?(o(),d("img",{key:1,class:"w-[240px] h-[120px]",src:e.cover},null,8,bl)):(o(),d("img",Cl))]),t("div",El,[t("div",Al,[t("p",Il,r(e.title),1),t("p",$l,r(e.desc),1)]),t("div",Sl,[e.is_download?(o(),v(p,{key:0,size:"small",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:h(m=>M(e.key),["stop"])},{default:l(()=>[_(r(i(a)("install")),1)]),_:2},1032,["onClick"])):(o(),v(p,{key:1,size:"small",loading:x.value==e.key,disabled:x.value!="",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:h(m=>q(e),["stop"])},{default:l(()=>[_(r(i(a)("down")),1)]),_:2},1032,["loading","disabled","onClick"]))])])],8,yl))),128))])):y("",!0),!u.value.uninstalled.length&&!E.value?(o(),v(b,{key:2,class:"mx-auto overview-empty"},{image:l(()=>[Tl]),description:l(()=>[t("p",Vl,[t("span",null,r(i(a)("descriptionLeft")),1),s(Oe,{type:"primary",onClick:He,class:"mx-[5px]"},{default:l(()=>[_(r(i(a)("link")),1)]),_:1}),t("span",null,r(i(a)("descriptionRight")),1)])]),_:1})):y("",!0)])]),_:1},8,["label"]),s(se,{label:i(Le),name:"buy"},{default:l(()=>[t("div",Ll,[te.value?(o(),d(C,{key:0},[V.value=="small"?(o(!0),d(C,{key:0},I(u.value.all,(e,g)=>{var m;return o(),d("div",{key:g+"a",class:"flex items-center cursor-pointer w-[295px] relative plug-item mr-4 mb-4",onClick:T=>D(e)},[t("div",Bl,[e.icon?(o(),d("img",{key:0,class:"w-[44px] h-[44px] rounded-sm",src:e.icon,alt:""},null,8,jl)):(o(),d("img",Dl))]),t("div",Rl,[t("div",Pl,[t("span",Fl,r(e.title),1),t("span",Ml,r(e.desc),1)]),e.install_info&&((m=Object.keys(e.install_info))!=null&&m.length)?(o(),v(p,{key:0,size:"small",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:h(T=>Q(e.key),["stop"])},{default:l(()=>[_(r(i(a)("unload")),1)]),_:2},1032,["onClick"])):e.is_download&&e.install_info<=0?(o(),v(p,{key:1,size:"small",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:h(T=>M(e.key),["stop"])},{default:l(()=>[_(r(i(a)("install")),1)]),_:2},1032,["onClick"])):(o(),v(p,{key:2,size:"small",loading:x.value==e.key,disabled:x.value!="",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:h(T=>q(e),["stop"])},{default:l(()=>[_(r(i(a)("down")),1)]),_:2},1032,["loading","disabled","onClick"]))])],8,zl)}),128)):y("",!0),V.value=="large"?(o(),d("div",Ul,[(o(!0),d(C,null,I(u.value.all,(e,g)=>{var m;return o(),d("div",{class:"app-item cursor-pointer mr-4 mt-[20px] pb-2 bg-[#f7f7f7]",key:g+"a",onClick:T=>D(e)},[t("div",Hl,[e.icon&&!e.is_download?(o(),d("img",{key:0,class:"w-[240px] h-[120px]",src:i(Ae)(e.icon)},null,8,Ol)):e.icon&&e.is_download?(o(),d("img",{key:1,class:"w-[240px] h-[120px]",src:e.icon},null,8,ql)):(o(),d("img",Ql))]),t("div",Wl,[t("div",Gl,[t("p",Jl,r(e.title),1),t("p",Kl,r(e.desc),1)]),t("div",Xl,[e.install_info&&((m=Object.keys(e.install_info))!=null&&m.length)?(o(),v(p,{key:0,size:"small",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:h(T=>Q(e.key),["stop"])},{default:l(()=>[_(r(i(a)("unload")),1)]),_:2},1032,["onClick"])):e.is_download&&e.install_info<=0?(o(),v(p,{key:1,size:"small",round:"",class:"!text-primary !border-primary !bg-transparent",onClick:h(T=>M(e.key),["stop"])},{default:l(()=>[_(r(i(a)("install")),1)]),_:2},1032,["onClick"])):(o(),v(p,{key:2,size:"small",round:"",loading:x.value==e.key,disabled:x.value!="",class:"!text-primary !border-primary !bg-transparent",onClick:h(T=>q(e),["stop"])},{default:l(()=>[_(r(i(a)("down")),1)]),_:2},1032,["loading","disabled","onClick"]))])])],8,Nl)}),128))])):y("",!0)],64)):y("",!0),!u.value.all.length&&!E.value&&!te.value?(o(),d("div",Yl,[Zl,t("div",es,[s(p,{class:"w-[154px] !h-[48px] mt-[8px]",type:"primary",onClick:Me},{default:l(()=>[_("授权码认证")]),_:1}),s(qe,{ref_key:"getAuthCodeDialog",ref:fe,placement:"bottom",width:478,trigger:"click",class:"mt-[8px]"},{reference:l(()=>[s(p,{class:"w-[154px] !h-[48px] mt-[8px] !text-[var(--el-color-primary)] hover:!text-[var(--el-color-primary)] !bg-transparent",plain:"",type:"primary"},{default:l(()=>[_("如何获取授权码?")]),_:1})]),default:l(()=>[t("div",ts,[ls,t("div",ss,[s(p,{class:"w-[182px] !h-[48px]",plain:"",onClick:_e},{default:l(()=>[_("去应用市场逛逛")]),_:1}),s(p,{class:"w-[100px] !h-[48px]",plain:"",onClick:c[0]||(c[0]=e=>i(fe).hide())},{default:l(()=>[_("关闭")]),_:1})])])]),_:1},512)])])):y("",!0),s(ae,{modelValue:i(S),"onUpdate:modelValue":c[4]||(c[4]=e=>et(S)?S.value=e:S=e),title:"授权码认证",width:"400px"},{default:l(()=>[s(xe,{model:R,"label-width":"0",ref_key:"formRef",ref:le,rules:Ue,class:"page-form"},{default:l(()=>[s(Qe,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[s(P,{prop:"auth_code"},{default:l(()=>[s(ve,{modelValue:R.auth_code,"onUpdate:modelValue":c[1]||(c[1]=e=>R.auth_code=e),placeholder:i(a)("authCodePlaceholder"),class:"input-width",clearable:"",size:"large"},null,8,["modelValue","placeholder"])]),_:1}),t("div",as,[s(P,{prop:"auth_secret"},{default:l(()=>[s(ve,{modelValue:R.auth_secret,"onUpdate:modelValue":c[2]||(c[2]=e=>R.auth_secret=e),clearable:"",placeholder:i(a)("authSecretPlaceholder"),class:"input-width",size:"large"},null,8,["modelValue","placeholder"])]),_:1})]),t("div",os,r(i(a)("authInfoTips")),1),t("div",ns,[s(p,{type:"primary",class:"w-full",size:"large",loading:N.value,onClick:c[3]||(c[3]=e=>Ne(le.value))},{default:l(()=>[_(r(i(a)("confirm")),1)]),_:1},8,["loading"])]),t("div",is,[s(p,{type:"primary",link:"",onClick:_e},{default:l(()=>[_(r(i(a)("notHaveAuth")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])]),_:1},8,["label"])]),_:1},8,["modelValue"])]),s(ae,{modelValue:W.value,"onUpdate:modelValue":c[7]||(c[7]=e=>W.value=e),title:i(a)("plugDetail"),width:"500px","destroy-on-close":!0},{footer:l(()=>[t("span",us,[s(p,{type:"primary",onClick:c[6]||(c[6]=e=>W.value=!1)},{default:l(()=>[_(r(i(a)("confirm")),1)]),_:1})])]),default:l(()=>[s(xe,{model:j.value,"label-width":"120px",ref_key:"formRef",ref:le,class:"page-form"},{default:l(()=>[s(P,{label:i(a)("title")},{default:l(()=>[t("div",rs,r(j.value.title),1)]),_:1},8,["label"]),s(P,{label:i(a)("desc")},{default:l(()=>[t("div",cs,r(j.value.desc),1)]),_:1},8,["label"]),s(P,{label:i(a)("author")},{default:l(()=>[t("div",ds,r(j.value.author),1)]),_:1},8,["label"]),s(P,{label:i(a)("version")},{default:l(()=>[t("div",ps,r(j.value.version),1)]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),s(ae,{modelValue:L.value,"onUpdate:modelValue":c[8]||(c[8]=e=>L.value=e),title:i(a)("addonInstall"),width:"850px","close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":Fe},{default:l(()=>[s(Ge,{space:200,active:k.value,"finish-status":"success","align-center":""},{default:l(()=>[s(oe,{title:i(a)("envCheck"),class:"flex-1"},null,8,["title"]),s(oe,{title:i(a)("installProgress"),class:"flex-1"},null,8,["title"]),s(oe,{title:i(a)("installComplete"),class:"flex-1"},null,8,["title"])]),_:1},8,["active"]),J((o(),d("div",null,[s(Je,{"max-height":"50vh"},{default:l(()=>[t("div",_s,[w.value.dir?(o(),d("div",fs,[t("p",ms,r(i(a)("dirPermission")),1),t("div",vs,[s(ne,{class:"py-[10px] items table-head-bg pl-[15px] mb-[10px]"},{default:l(()=>[s(A,{span:12},{default:l(()=>[t("span",null,r(i(a)("path")),1)]),_:1}),s(A,{span:6},{default:l(()=>[t("span",null,r(i(a)("demand")),1)]),_:1}),s(A,{span:6},{default:l(()=>[t("span",null,r(i(a)("status")),1)]),_:1})]),_:1}),(o(!0),d(C,null,I(w.value.dir.is_readable,e=>(o(),v(ne,{class:"pb-[10px] items pl-[15px]"},{default:l(()=>[s(A,{span:12},{default:l(()=>[t("span",null,r(e.dir),1)]),_:2},1024),s(A,{span:6},{default:l(()=>[t("span",null,r(i(a)("readable")),1)]),_:1}),s(A,{span:6},{default:l(()=>[e.status?(o(),d("span",xs,[s(G,{color:"green"},{default:l(()=>[s(he)]),_:1})])):(o(),d("span",hs,[s(G,{color:"red"},{default:l(()=>[s(ge)]),_:1})]))]),_:2},1024)]),_:2},1024))),256)),(o(!0),d(C,null,I(w.value.dir.is_write,e=>(o(),v(ne,{class:"pb-[10px] items pl-[15px]"},{default:l(()=>[s(A,{span:12},{default:l(()=>[t("span",null,r(e.dir),1)]),_:2},1024),s(A,{span:6},{default:l(()=>[t("span",null,r(i(a)("write")),1)]),_:1}),s(A,{span:6},{default:l(()=>[e.status?(o(),d("span",gs,[s(G,{color:"green"},{default:l(()=>[s(he)]),_:1})])):(o(),d("span",ys,[s(G,{color:"red"},{default:l(()=>[s(ge)]),_:1})]))]),_:2},1024)]),_:2},1024))),256))])])):y("",!0)])]),_:1}),t("div",ks,[s(ye,{effect:"dark",content:i(a)("installTips"),placement:"top"},{default:l(()=>[s(p,{type:"default",disabled:!w.value.is_pass||B.value,loading:z.value,onClick:je},{default:l(()=>[_(r(i(a)("localInstall")),1)]),_:1},8,["disabled","loading"])]),_:1},8,["content"]),s(ye,{effect:"dark",content:i(a)("cloudInstallTips"),placement:"top"},{default:l(()=>[s(p,{type:"primary",disabled:!w.value.is_pass||z.value,loading:B.value,onClick:De},{default:l(()=>[_(r(i(a)("cloudInstall")),1)]),_:1},8,["disabled","loading"])]),_:1},8,["content"])])])),[[re,k.value==1],[ke,!w.value.dir]]),J(t("div",ws,[s(i(H.Terminal),{name:"my-terminal",context:$.value,"init-log":null,"show-header":!1,"show-log-time":!0},null,8,["context"])],512),[[re,k.value==2]]),J(t("div",bs,[s(Ke,{icon:"success",title:i(a)("addonInstallSuccess")},null,8,["title"]),(o(!0),d(C,null,I(X.value,e=>(o(),d("div",Cs,[s(Xe,{title:e,type:"warning",closable:!1},null,8,["title"])]))),256))],512),[[re,k.value==3]])]),_:1},8,["modelValue","title"])])),[[ke,E.value]])}}});const ba=Pt(Es,[["__scopeId","data-v-0a738ff9"]]);export{ba as default};
