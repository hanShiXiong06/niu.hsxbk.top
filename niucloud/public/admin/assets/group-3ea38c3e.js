import{g as T,r as b,a4 as G,m as y,n as N,F as o,E as r,q as u,L as m,u as l,K as c,a1 as $,D as z}from"./base-d2ce4248.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  */import"./index-057b5f2c.js";import"./el-tooltip-58212670.js";/* empty css                 *//* empty css                    *//* empty css                        *//* empty css                *//* empty css                     *//* empty css                  */import{t as a}from"./index-578c83eb.js";import{r as V,s as L}from"./site-d8517686.js";import{_ as j}from"./edit-group.vue_vue_type_script_setup_true_async_true_lang-5eb08e17.js";import{u as R}from"./vue-router-d3dc2686.js";import{E as U}from"./index-faa3f8c5.js";import{E as I}from"./index-953c712f.js";import{E as q}from"./index-9997ff5d.js";import{a as K,E as M}from"./index-f579a83b.js";import{E as A}from"./index-32160c2f.js";import{a as H,E as J}from"./index-d4538bff.js";import{E as O}from"./index-aaab07eb.js";import{v as Q}from"./directive-3f066692.js";import"./el-overlay-7451f13b.js";import"./event-f83e96f5.js";import"./index-28969730.js";import"./focus-trap-b41dd321.js";import"./el-radio-b620ac73.js";import"./storage-e62e496d.js";import"./index-758a5fe7.js";import"./index-92c8bc76.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./el-avatar-4397f45a.js";import"./index-3118dac6.js";import"./common-dd6d00bb.js";import"./common-2cf17469.js";/* empty css                */import"./index-13c7facf.js";import"./isEqual-51ec1a47.js";import"./_Uint8Array-6ca580e8.js";import"./flatten-2fc24abf.js";import"./index-5f5a6fbd.js";import"./_initCloneObject-5fe9c070.js";import"./_isIterateeCall-9ac2a284.js";import"./index-83fe4dc1.js";import"./index-0ba64799.js";import"./strings-986fee93.js";const W={class:"main-container"},X={class:"flex justify-between items-center"},Y={class:"text-[24px]"},Z={class:"mt-[16px] flex justify-end"},Ze=T({__name:"group",setup(ee){const E=R().meta.title,f=b(),e=G({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{keywords:""}}),k=n=>{n&&(n.resetFields(),p())},p=(n=1)=>{e.loading=!0,e.page=n,V({page:e.page,limit:e.limit,...e.searchParam}).then(t=>{e.loading=!1,e.data=t.data.data,e.total=t.data.total}).catch(()=>{e.loading=!1})};p();const s=b(null),h=()=>{s.value.setFormData(),s.value.showDialog=!0},x=n=>{s.value.setFormData(n),s.value.showDialog=!0},w=n=>{U.confirm(a("groupDeleteTips"),a("warning"),{confirmButtonText:a("confirm"),cancelButtonText:a("cancel"),type:"warning"}).then(()=>{L(n).then(()=>{p()}).catch(()=>{})})};return(n,t)=>{const d=I,C=q,g=K,D=M,v=A,_=H,F=J,S=O,B=Q;return y(),N("div",W,[o(v,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[u("div",X,[u("span",Y,m(l(E)),1),o(d,{type:"primary",class:"w-[100px]",onClick:h},{default:r(()=>[c(m(l(a)("addSiteGroup")),1)]),_:1})]),o(v,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:r(()=>[o(D,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:f},{default:r(()=>[o(g,{label:l(a)("groupName"),prop:"keywords"},{default:r(()=>[o(C,{modelValue:e.searchParam.keywords,"onUpdate:modelValue":t[0]||(t[0]=i=>e.searchParam.keywords=i),placeholder:l(a)("groupNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(g,null,{default:r(()=>[o(d,{type:"primary",onClick:t[1]||(t[1]=i=>p())},{default:r(()=>[c(m(l(a)("search")),1)]),_:1}),o(d,{onClick:t[2]||(t[2]=i=>k(f.value))},{default:r(()=>[c(m(l(a)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),u("div",null,[$((y(),z(F,{data:e.data,size:"large"},{empty:r(()=>[u("span",null,m(e.loading?"":l(a)("emptyData")),1)]),default:r(()=>[o(_,{prop:"group_name",label:l(a)("groupName")},null,8,["label"]),o(_,{prop:"group_desc",label:l(a)("remark")},null,8,["label"]),o(_,{prop:"create_time",label:l(a)("createTime")},null,8,["label"]),o(_,{prop:"group_roles",label:l(a)("operation"),fixed:"right",width:"130"},{default:r(({row:i})=>[o(d,{type:"primary",link:"",onClick:P=>x(i)},{default:r(()=>[c(m(l(a)("edit")),1)]),_:2},1032,["onClick"]),o(d,{type:"danger",link:"",onClick:P=>w(i.group_id)},{default:r(()=>[c(m(l(a)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[B,e.loading]]),u("div",Z,[o(S,{"current-page":e.page,"onUpdate:currentPage":t[3]||(t[3]=i=>e.page=i),"page-size":e.limit,"onUpdate:pageSize":t[4]||(t[4]=i=>e.limit=i),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:t[5]||(t[5]=i=>p()),onCurrentChange:p},null,8,["current-page","page-size","total"])])]),o(j,{ref_key:"editSiteGroupDialog",ref:s,onComplete:t[6]||(t[6]=i=>p())},null,512)]),_:1})])}}});export{Ze as default};
