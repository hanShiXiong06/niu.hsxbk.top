/* empty css             *//* empty css                   */import{E as F}from"./el-overlay-380df695.js";/* empty css                  */import{a as N,E as B}from"./el-form-item-144bc604.js";/* empty css                 */import{t as n}from"./index-6b4cbbe4.js";import{b as C}from"./order-ccbb364d.js";import{E as R}from"./index-5f2625ed.js";import{E as q}from"./index-6f670765.js";import{v as I}from"./directive-d226d53f.js";import{d as L,r as d,M as S,c as U,b as v,m as g,p as r,f as $,q as m,v as y,x as k,u as i,L as j}from"./runtime-core.esm-bundler-c17ab5bc.js";const M={class:"dialog-footer"},ee=L({__name:"order-notes",emits:["complete"],setup(O,{expose:V,emit:x}){const s=d(!1),o=d(!1),p={order_id:0,shop_remark:""},t=S({...p}),c=d(),D=U(()=>({company_name:[{required:!0,message:n("companyNamePlaceholder"),trigger:"blur"}]})),E=async a=>{o.value||!a||await a.validate(async e=>{e&&(o.value=!0,C(t).then(u=>{o.value=!1,s.value=!1,x("complete")}).catch(u=>{o.value=!1}))})};return V({showDialog:s,setFormData:async(a=null)=>{Object.assign(t,p),o.value=!0,a&&(t.order_id=a.order_id,t.shop_remark=a.shop_remark),o.value=!1}}),(a,e)=>{const f=R,u=N,h=B,_=q,b=F,w=I;return v(),g(b,{modelValue:s.value,"onUpdate:modelValue":e[3]||(e[3]=l=>s.value=l),title:i(n)("notes"),width:"460px",class:"diy-dialog-wrap","destroy-on-close":!0},{footer:r(()=>[$("span",M,[m(_,{onClick:e[1]||(e[1]=l=>s.value=!1)},{default:r(()=>[y(k(i(n)("cancel")),1)]),_:1}),m(_,{type:"primary",loading:o.value,onClick:e[2]||(e[2]=l=>E(c.value))},{default:r(()=>[y(k(i(n)("confirm")),1)]),_:1},8,["loading"])])]),default:r(()=>[j((v(),g(h,{model:t,ref_key:"formRef",ref:c,rules:i(D),class:"page-form notes-form"},{default:r(()=>[m(u,{class:"mb-0"},{default:r(()=>[m(f,{modelValue:t.shop_remark,"onUpdate:modelValue":e[0]||(e[0]=l=>t.shop_remark=l),rows:5,type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[w,o.value]])]),_:1},8,["modelValue","title"])}}});export{ee as _};
