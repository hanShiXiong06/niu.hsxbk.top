import{d as L,r as u,R as S,V as z,Q as T,e as w,f as M,v as b,x as o,g as e,y as a,A as d,B as x,u as s,i as C,H as Q,bl as G,bm as K}from"./base-d77b0726.js";/* empty css                   *//* empty css                   *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                  *//* empty css                   *//* empty css                *//* empty css                  */import{t as _}from"./index-e064b265.js";import{g as W,a as X,s as Y}from"./module-5eb4d257.js";import{u as Z}from"./vue-router-57155f94.js";import{E as ee}from"./index-91bdda63.js";import{E as te}from"./index-e37943c3.js";import{E as oe}from"./index-6a46ef13.js";import{E as ae}from"./index-c1eb81db.js";import{a as se,E as le}from"./index-68c5ad54.js";import{E as re}from"./index-2cf73bf7.js";import{E as ie}from"./index-6a54cf26.js";import{v as pe}from"./directive-08cd03ab.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-24e005c6.js";import"./index-704f0685.js";import"./common-56ee0a80.js";import"./index-331c6de1.js";import"./index-9e51ba8b.js";import"./typescript-defaf979.js";import"./aria-60e0cdc6.js";import"./index-de9bede2.js";import"./index-f2dc9b9f.js";import"./index-6245131d.js";import"./index-45cca80f.js";import"./focus-trap-98fda164.js";import"./dropdown-2ff49e9b.js";import"./event-e06a23af.js";import"./index-d1e433eb.js";import"./_Uint8Array-2fd72219.js";import"./_initCloneObject-22d1caee.js";import"./index-b3418ddc.js";import"./scroll-59301fd6.js";import"./vnode-5920e7a9.js";import"./index-a20d1a31.js";const v=g=>(G("data-v-00b4cd6d"),g=g(),K(),g),ce={class:"main main-container min-w-[1000px] min-h-[650px]"},de={class:"flex"},me={class:"bg-[#F3F6FF] mr-[14px] w-[402px] pt-[30px] pl-[32px] pr-[46px] pb-[60px]"},ue={class:"flex items-center justify-between"},_e=v(()=>e("span",{class:"text-[20px] text-[#333333]"},"版本信息",-1)),xe=v(()=>e("div",{class:"mt-[30px] flex items-center text-[14px] text-[#797979]"},[e("span",null,"当前版本"),e("span",{class:"text-[26px] ml-[15px] mr-[10px] text-[#656668]"},"1.0.35"),e("em",{class:"text-[12px]"},"(当前已是最新版本)")],-1)),fe={class:"flex-1 flex justify-between items-center bg-[#F3F6FF] pt-[34px] pl-[30px] pr-[60px] pb-[62px]"},he={class:"flex flex-col"},ve={class:"flex flex-wrap items-center"},ge=v(()=>e("p",{class:"text-[20px] text-[#333] mr-[20px]"},"授权信息",-1)),we={class:"text-[14px] text-[#666]"},ye={class:"mt-[46px] ml-[40px] flex flex-wrap"},be={class:"text-[14px] text-[#797979] mr-[84px]"},Ce={class:"ml-[12px] text-[12px] text-[#222222]"},ke={class:"text-[14px] flex items-center text-[#797979]"},Ee=v(()=>e("span",null,"授权码",-1)),Ve={class:"ml-[12px] mr-[10px] text-[12px] text-[#222222]"},Ae={class:"flex flex-1 flex-wrap justify-end relative"},Fe={class:"px-[18px] py-[8px]"},De=v(()=>e("p",{class:"leading-[32px] text-[18px]"},"您在官方应用市场购买任意一款应用，即可获得授权码。输入正确授权码认证通过后，即可支持在线升级和其它相关服务",-1)),Ie={class:"flex justify-end mt-[36px]"},Se={class:"mt-[20px]"},ze={class:"text-sm mt-[10px] text-info"},Be={class:"mt-[20px]"},Ne={class:"mt-[10px] text-right"},Re=L({__name:"authorize",setup(g){Z().meta.title;let k=u(null),p=u(!1),l=u(!1);const B=r=>{let t=JSON.parse(JSON.stringify(r));return t.slice(0,t.length/2)+t.slice(t.length/2,t.length-1).replace(/./g,"*")},N=()=>{p.value=!0,m.value=""},R=()=>{f.value=!0,y()},m=u(""),f=u(!0),h=u(!1),y=()=>{W().then(r=>{f.value=!1,r.data.data&&r.data.data.length!=0&&(m.value=r.data.data,p.value=!1)}).catch(()=>{f.value=!1,p.value=!1})};y();const n=S({auth_code:"",auth_secret:""}),E=u(),j=S({auth_code:[{required:!0,message:_("authCodePlaceholder"),trigger:"blur"}],auth_secret:[{required:!0,message:_("authSecretPlaceholder"),trigger:"blur"}]});(async()=>{const r=await(await X()).data;Object.keys(n).forEach(t=>{r[t]!=null&&(n[t]=r[t])})})();const P=async r=>{h.value||!r||await r.validate(async t=>{t&&(h.value=!0,Y(n).then(()=>{h.value=!1,y()}).catch(()=>{h.value=!1,p.value=!1}))})},V=()=>{window.open("https://www.niucloud.com/product")};return(r,t)=>{const c=ee,H=z("View"),A=te,O=z("Hide"),U=oe,F=ae,D=se,I=re,$=le,q=ie,J=pe;return T((w(),M("div",ce,[f.value?Q("",!0):(w(),b(I,{key:0,class:"box-card !border-none",shadow:"never"},{default:o(()=>[e("div",de,[e("div",me,[e("div",ue,[_e,a(c,{class:"text-[#4C4C4C] w-[78px] h-[32px] !bg-transparent"},{default:o(()=>[d("检测更新")]),_:1})]),xe]),e("div",fe,[e("div",he,[e("div",ve,[ge,e("span",we,x(m.value.company_name||"--"),1)]),e("div",ye,[e("span",be,[d("授权域名"),e("em",Ce,x(m.value.site_address||"--"),1)]),e("span",ke,[Ee,e("em",Ve,x(m.value.auth_code?s(l)?m.value.auth_code:B(m.value.auth_code):"--"),1),s(l)?(w(),b(A,{key:0,onClick:t[0]||(t[0]=i=>C(l)?l.value=!s(l):l=!s(l)),class:"text-[12px] cursor-pointer"},{default:o(()=>[a(H)]),_:1})):(w(),b(A,{key:1,onClick:t[1]||(t[1]=i=>C(l)?l.value=!s(l):l=!s(l)),class:"text-[12px] cursor-pointer"},{default:o(()=>[a(O)]),_:1}))])])]),e("div",Ae,[a(c,{class:"w-[154px] !h-[48px] mt-[8px]",type:"primary",onClick:N},{default:o(()=>[d("授权码认证")]),_:1}),a(U,{ref_key:"getAuthCodeDialog",ref:k,placement:"bottom",width:478,trigger:"click",class:"mt-[8px]"},{reference:o(()=>[a(c,{class:"w-[154px] !h-[48px] mt-[8px] !text-[var(--el-color-primary)] hover:!text-[var(--el-color-primary)] !bg-transparent",plain:"",type:"primary"},{default:o(()=>[d("如何获取授权码?")]),_:1})]),default:o(()=>[e("div",Fe,[De,e("div",Ie,[a(c,{class:"w-[182px] !h-[48px]",plain:"",onClick:V},{default:o(()=>[d("去应用市场逛逛")]),_:1}),a(c,{class:"w-[100px] !h-[48px]",plain:"",onClick:t[2]||(t[2]=i=>s(k).hide())},{default:o(()=>[d("关闭")]),_:1})])])]),_:1},512)]),a(q,{modelValue:s(p),"onUpdate:modelValue":t[6]||(t[6]=i=>C(p)?p.value=i:p=i),title:"授权码认证",width:"400px","before-close":R},{default:o(()=>[a($,{model:n,"label-width":"0",ref_key:"formRef",ref:E,rules:j,class:"page-form"},{default:o(()=>[a(I,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[a(D,{prop:"auth_code"},{default:o(()=>[a(F,{modelValue:n.auth_code,"onUpdate:modelValue":t[3]||(t[3]=i=>n.auth_code=i),placeholder:s(_)("authCodePlaceholder"),class:"input-width",clearable:"",size:"large"},null,8,["modelValue","placeholder"])]),_:1}),e("div",Se,[a(D,{prop:"auth_secret"},{default:o(()=>[a(F,{modelValue:n.auth_secret,"onUpdate:modelValue":t[4]||(t[4]=i=>n.auth_secret=i),clearable:"",placeholder:s(_)("authSecretPlaceholder"),class:"input-width",size:"large"},null,8,["modelValue","placeholder"])]),_:1})]),e("div",ze,x(s(_)("authInfoTips")),1),e("div",Be,[a(c,{type:"primary",class:"w-full",size:"large",loading:h.value,onClick:t[5]||(t[5]=i=>P(E.value))},{default:o(()=>[d(x(s(_)("confirm")),1)]),_:1},8,["loading"])]),e("div",Ne,[a(c,{type:"primary",link:"",onClick:V},{default:o(()=>[d(x(s(_)("notHaveAuth")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])])]),_:1}))])),[[J,f.value]])}}});const Ft=ne(Re,[["__scopeId","data-v-00b4cd6d"]]);export{Ft as default};
