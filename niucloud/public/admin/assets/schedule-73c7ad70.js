import{g as x,a4 as C,r as s,m as u,n as w,F as o,E as p,q as i,L as c,u as r,a1 as E,D as T,K as D}from"./base-d2ce4248.js";/* empty css                   *//* empty css                *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  */import{af as L,ag as k}from"./index-057b5f2c.js";import"./el-tooltip-58212670.js";/* empty css                 *//* empty css                    *//* empty css                        */import{t as l}from"./index-578c83eb.js";import{u as z,a as B}from"./vue-router-d3dc2686.js";import{_ as N}from"./cron-info.vue_vue_type_script_setup_true_lang-0f678bae.js";import{a as P,E as j}from"./index-d4538bff.js";import{E as S}from"./index-aaab07eb.js";import{E as V}from"./index-32160c2f.js";import{v as R}from"./directive-3f066692.js";import"./el-overlay-7451f13b.js";import"./event-f83e96f5.js";import"./index-28969730.js";import"./focus-trap-b41dd321.js";/* empty css                  */import"./el-radio-b620ac73.js";import"./storage-e62e496d.js";import"./index-758a5fe7.js";import"./index-953c712f.js";import"./index-9997ff5d.js";import"./index-92c8bc76.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./el-avatar-4397f45a.js";import"./index-3118dac6.js";import"./common-dd6d00bb.js";import"./common-2cf17469.js";/* empty css                     */import"./index-f579a83b.js";import"./_Uint8Array-6ca580e8.js";import"./_initCloneObject-5fe9c070.js";import"./index-13c7facf.js";import"./isEqual-51ec1a47.js";import"./flatten-2fc24abf.js";import"./_isIterateeCall-9ac2a284.js";import"./index-83fe4dc1.js";import"./index-0ba64799.js";import"./strings-986fee93.js";const U={class:"main-container"},$={class:"flex justify-between items-center"},q={class:"text-[24px]"},F={class:"mt-[16px] flex justify-end"},Ut=x({__name:"schedule",setup(K){const g=z().meta.title,t=C({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{title:"",type:"",last_time:""}}),_=s([]);s(),(async()=>{_.value=await(await L()).data})();const n=(d=1)=>{t.loading=!0,t.page=d,k({page:t.page,limit:t.limit,...t.searchParam}).then(a=>{t.loading=!1,t.data=a.data.data,t.total=a.data.total}).catch(()=>{t.loading=!1})};n(),B();const f=s(null);return(d,a)=>{const m=P,y=j,b=S,v=V,h=R;return u(),w("div",U,[o(v,{class:"box-card !border-none",shadow:"never"},{default:p(()=>[i("div",$,[i("span",q,c(r(g)),1)]),i("div",null,[E((u(),T(y,{data:t.data,size:"large"},{empty:p(()=>[i("span",null,c(t.loading?"":r(l)("emptyData")),1)]),default:p(()=>[o(m,{prop:"name",label:r(l)("title"),"min-width":"150"},null,8,["label"]),o(m,{prop:"key",label:r(l)("key"),"min-width":"150"},null,8,["label"]),o(m,{label:r(l)("crondType"),"min-width":"150"},{default:p(({row:e})=>[D(c(e.crontab_content),1)]),_:1},8,["label"])]),_:1},8,["data"])),[[h,t.loading]]),i("div",F,[o(b,{"current-page":t.page,"onUpdate:currentPage":a[0]||(a[0]=e=>t.page=e),"page-size":t.limit,"onUpdate:pageSize":a[1]||(a[1]=e=>t.limit=e),layout:"total, sizes, prev, pager, next, jumper",total:t.total,onSizeChange:a[2]||(a[2]=e=>n()),onCurrentChange:n},null,8,["current-page","page-size","total"])])])]),_:1}),o(N,{ref_key:"cronDialog",ref:f,onComplete:n},null,512)])}}});export{Ut as default};
