import{d as w,R as L,r as k,e as _,f as S,y as a,x as r,g as d,B as s,u as i,A as p,Q as U,v as g,H as C}from"./base-d77b0726.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                        *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import{t as l}from"./index-ace71ef4.js";import{y as A,z as I,A as q}from"./sys-9a3f2498.js";import{u as H,b as M}from"./vue-router-57155f94.js";import{E as Q}from"./index-5b262c6a.js";import{E as G}from"./index-91bdda63.js";import{E as J}from"./index-c1eb81db.js";import{a as K,E as O}from"./index-68c5ad54.js";import{E as W}from"./index-2cf73bf7.js";import{a as X,E as Y}from"./index-0d721416.js";import{E as Z}from"./index-45469947.js";import{E as ee}from"./index-f956e728.js";import{v as te}from"./directive-08cd03ab.js";import"./index-93a487a9.js";import"./index-704f0685.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./common-56ee0a80.js";import"./index-e37943c3.js";import"./index-331c6de1.js";import"./index-9e51ba8b.js";import"./typescript-defaf979.js";import"./aria-60e0cdc6.js";import"./index-de9bede2.js";import"./index-b3418ddc.js";import"./event-e06a23af.js";import"./scroll-59301fd6.js";import"./vnode-5920e7a9.js";import"./aria-adfa05c5.js";import"./focus-trap-98fda164.js";import"./validator-7b087194.js";import"./index-a20d1a31.js";import"./index-6245131d.js";import"./index-f2dc9b9f.js";import"./index-d1e433eb.js";import"./_Uint8Array-2fd72219.js";import"./_initCloneObject-22d1caee.js";import"./index-74352d71.js";import"./index-45cca80f.js";import"./index-52f984e1.js";import"./isEqual-030b54ca.js";import"./_isIterateeCall-ff5ab0b5.js";import"./debounce-8a1738b0.js";import"./index-ef0eb7b1.js";import"./index-a997ab1f.js";import"./strings-6a15e170.js";const oe={class:"main-container"},ae={class:"flex justify-between items-center"},re={class:"text-[20px]"},le={class:"mt-[16px] flex justify-end"},ut=w({__name:"role",setup(ie){const B=H(),h=M(),R=B.meta.title,e=L({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{seach:""}}),b=k(),T=n=>{n&&(n.resetFields(),m())},m=(n=1)=>{e.loading=!0,e.page=n,A({page:e.page,limit:e.limit,role_name:e.searchParam.seach}).then(o=>{e.loading=!1,e.data=o.data.data,e.total=o.data.total}).catch(()=>{e.loading=!1})};m(),k(null);const N=()=>{h.push({path:"/setting/auth/role_edit"})},P=n=>{h.push({path:"/setting/auth/role_edit",query:{role_id:n}})},v=n=>{e.loading=!0;let o={role_id:n.role_id,status:n.status?0:1};I(o).then(c=>{e.loading=!1,m()}).catch(()=>{e.loading=!1})},z=n=>{Q.confirm(l("roleDeleteTips"),l("warning"),{confirmButtonText:l("confirm"),cancelButtonText:l("cancel"),type:"warning"}).then(()=>{q(n).then(()=>{m()}).catch(()=>{})})};return(n,o)=>{const c=G,F=J,y=K,V=O,E=W,u=X,x=Z,$=Y,D=ee,j=te;return _(),S("div",oe,[a(E,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[d("div",ae,[d("span",re,s(i(R)),1),a(c,{type:"primary",class:"w-[100px]",onClick:N},{default:r(()=>[p(s(i(l)("addRole")),1)]),_:1})]),a(E,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:r(()=>[a(V,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:b},{default:r(()=>[a(y,{label:i(l)("roleName"),prop:"seach"},{default:r(()=>[a(F,{modelValue:e.searchParam.seach,"onUpdate:modelValue":o[0]||(o[0]=t=>e.searchParam.seach=t),class:"w-[240px]",placeholder:i(l)("roleNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(y,null,{default:r(()=>[a(c,{type:"primary",onClick:o[1]||(o[1]=t=>m())},{default:r(()=>[p(s(i(l)("search")),1)]),_:1}),a(c,{onClick:o[2]||(o[2]=t=>T(b.value))},{default:r(()=>[p(s(i(l)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),d("div",null,[U((_(),g($,{data:e.data,size:"large"},{empty:r(()=>[d("span",null,s(e.loading?"":i(l)("emptyData")),1)]),default:r(()=>[a(u,{prop:"role_name",label:i(l)("roleName")},null,8,["label"]),a(u,{label:i(l)("status")},{default:r(({row:t})=>[t.status==1?(_(),g(x,{key:0,class:"cursor-pointer",type:"success",onClick:f=>v(t)},{default:r(()=>[p(s(t.status_name),1)]),_:2},1032,["onClick"])):C("",!0),t.status==0?(_(),g(x,{key:1,class:"cursor-pointer",type:"error",onClick:f=>v(t)},{default:r(()=>[p(s(t.status_name),1)]),_:2},1032,["onClick"])):C("",!0)]),_:1},8,["label"]),a(u,{prop:"create_time",label:i(l)("createTime")},null,8,["label"]),a(u,{label:i(l)("operation"),fixed:"right",align:"right",width:"130"},{default:r(({row:t})=>[a(c,{type:"primary",link:"",onClick:f=>P(t.role_id)},{default:r(()=>[p(s(i(l)("edit")),1)]),_:2},1032,["onClick"]),a(c,{type:"primary",link:"",onClick:f=>z(t.role_id)},{default:r(()=>[p(s(i(l)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[j,e.loading]]),d("div",le,[a(D,{"current-page":e.page,"onUpdate:currentPage":o[3]||(o[3]=t=>e.page=t),"page-size":e.limit,"onUpdate:pageSize":o[4]||(o[4]=t=>e.limit=t),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:o[5]||(o[5]=t=>m()),onCurrentChange:m},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{ut as default};
