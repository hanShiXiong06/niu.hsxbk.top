import"./base-0e92f4db.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  */import{P as w,Q as L,R as S}from"./index-9033603c.js";/* empty css                  *//* empty css                        *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                */import{a as U,E as q}from"./el-form-item-c2dd2ffe.js";/* empty css                  */import{t as o}from"./index-8f29cb04.js";import{u as I,a as M}from"./vue-router-8b032575.js";import{E as Q}from"./index-a31d0a55.js";import{E as A}from"./index-e09a20f5.js";import{E as G}from"./index-8cefa3ab.js";import{E as H}from"./index-2668a8ea.js";import{a as J,E as K}from"./index-395859da.js";import{E as O}from"./index-66750d66.js";import{E as W}from"./index-95382bd9.js";import{v as X}from"./directive-c6f70b8e.js";import{d as Y,M as Z,r as C,b as _,e as ee,q as r,p as l,f as d,x as s,u as n,v as p,L as te,m as g,C as k}from"./runtime-core.esm-bundler-67034826.js";import"./common-46715e7e.js";import"./index-72686045.js";import"./event-a537c4cb.js";import"./index-81f2aa1e.js";import"./el-main-7a89c415.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-ebd2990f.js";import"./el-overlay-3eff2fc5.js";import"./index-defed8ff.js";import"./focus-trap-83769a43.js";import"./index-6cae7119.js";import"./index-d87ae4a2.js";import"./index-e9d9b1a1.js";import"./index-ef31373f.js";import"./index-de22cd40.js";import"./aria-adfa05c5.js";import"./validator-9409f909.js";import"./index-fd563016.js";import"./isEqual-97c7f2d5.js";import"./_isIterateeCall-7d0e706f.js";import"./debounce-f6ba9d12.js";import"./index-c6aa1547.js";import"./index-757074f4.js";import"./strings-1130dd70.js";const ae={class:"main-container"},oe={class:"flex justify-between items-center"},re={class:"text-[20px]"},le={class:"mt-[16px] flex justify-end"},ot=Y({__name:"role",setup(ne){const P=I(),h=M(),R=P.meta.title,e=Z({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{seach:""}}),b=C(),T=i=>{i&&(i.resetFields(),m())},m=(i=1)=>{e.loading=!0,e.page=i,w({page:e.page,limit:e.limit,role_name:e.searchParam.seach}).then(a=>{e.loading=!1,e.data=a.data.data,e.total=a.data.total}).catch(()=>{e.loading=!1})};m(),C(null);const B=()=>{h.push({path:"/setting/auth/role_edit"})},N=i=>{h.push({path:"/setting/auth/role_edit",query:{role_id:i}})},v=i=>{e.loading=!0;let a={role_id:i.role_id,status:i.status?0:1};L(a).then(c=>{e.loading=!1,m()}).catch(()=>{e.loading=!1})},F=i=>{Q.confirm(o("roleDeleteTips"),o("warning"),{confirmButtonText:o("confirm"),cancelButtonText:o("cancel"),type:"warning"}).then(()=>{S(i).then(()=>{m()}).catch(()=>{})})};return(i,a)=>{const c=A,V=G,y=U,$=q,E=H,u=J,x=O,z=K,D=W,j=X;return _(),ee("div",ae,[r(E,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[d("div",oe,[d("span",re,s(n(R)),1),r(c,{type:"primary",class:"w-[100px]",onClick:B},{default:l(()=>[p(s(n(o)("addRole")),1)]),_:1})]),r(E,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:l(()=>[r($,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:b},{default:l(()=>[r(y,{label:n(o)("roleName"),prop:"seach"},{default:l(()=>[r(V,{modelValue:e.searchParam.seach,"onUpdate:modelValue":a[0]||(a[0]=t=>e.searchParam.seach=t),class:"w-[240px]",placeholder:n(o)("roleNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(y,null,{default:l(()=>[r(c,{type:"primary",onClick:a[1]||(a[1]=t=>m())},{default:l(()=>[p(s(n(o)("search")),1)]),_:1}),r(c,{onClick:a[2]||(a[2]=t=>T(b.value))},{default:l(()=>[p(s(n(o)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),d("div",null,[te((_(),g(z,{data:e.data,size:"large"},{empty:l(()=>[d("span",null,s(e.loading?"":n(o)("emptyData")),1)]),default:l(()=>[r(u,{prop:"role_name",label:n(o)("roleName")},null,8,["label"]),r(u,{label:n(o)("status")},{default:l(({row:t})=>[t.status==1?(_(),g(x,{key:0,class:"cursor-pointer",type:"success",onClick:f=>v(t)},{default:l(()=>[p(s(t.status_name),1)]),_:2},1032,["onClick"])):k("",!0),t.status==0?(_(),g(x,{key:1,class:"cursor-pointer",type:"error",onClick:f=>v(t)},{default:l(()=>[p(s(t.status_name),1)]),_:2},1032,["onClick"])):k("",!0)]),_:1},8,["label"]),r(u,{prop:"create_time",label:n(o)("createTime")},null,8,["label"]),r(u,{label:n(o)("operation"),fixed:"right",align:"right",width:"130"},{default:l(({row:t})=>[r(c,{type:"primary",link:"",onClick:f=>N(t.role_id)},{default:l(()=>[p(s(n(o)("edit")),1)]),_:2},1032,["onClick"]),r(c,{type:"primary",link:"",onClick:f=>F(t.role_id)},{default:l(()=>[p(s(n(o)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[j,e.loading]]),d("div",le,[r(D,{"current-page":e.page,"onUpdate:currentPage":a[3]||(a[3]=t=>e.page=t),"page-size":e.limit,"onUpdate:pageSize":a[4]||(a[4]=t=>e.limit=t),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:a[5]||(a[5]=t=>m()),onCurrentChange:m},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{ot as default};
