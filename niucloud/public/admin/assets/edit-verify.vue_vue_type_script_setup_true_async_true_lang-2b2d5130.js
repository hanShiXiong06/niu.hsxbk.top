import{d as N,r as p,c as R,e as d,v as f,x as i,g as k,y as n,A as b,B as c,u as m,f as x,F as g,an as I}from"./base-06478700.js";import{E as $}from"./el-overlay-42a687c6.js";/* empty css                  */import{a as j,E as A}from"./el-form-item-314d006d.js";/* empty css                        *//* empty css                 */import{t}from"./index-e5b4f072.js";import{c as O}from"./cloneDeep-9cc74b12.js";import{E as S}from"./index-7f381641.js";import{E as T}from"./index-c2f001d3.js";const z={class:"dialog-footer"},ae=N({__name:"edit-verify",emits:["complete"],setup(G,{expose:V,emit:y}){const u=p(!1),E=p(""),_={validate_type:"",min_number:1,max_number:120,betweenMin:1,betweenMax:120},l=p({..._}),v=p(),M=(o,e,a)=>{e?e>l.value.betweenMax?a(new Error(t("minPlaceholder1"))):a():a(new Error(t("minPlaceholder")))},h=(o,e,a)=>{e?e<l.value.betweenMin?a(new Error(t("maxPlaceholder1"))):a():a(new Error(t("maxPlaceholder")))},P=(o,e,a)=>{e>l.value.view_max?a(new Error(t("min1Placeholder1"))):a()},D=(o,e,a)=>{e?e<l.value.view_min?a(new Error(t("max1Placeholder1"))):a():a(new Error(t("max1Placeholder")))},U=R(()=>({min_number:[{required:!0,message:t("minPlaceholder"),trigger:"change"}],max_number:[{required:!0,message:t("maxPlaceholder"),trigger:"change"}],betweenMin:[{required:!0,validator:M,trigger:"change"}],betweenMax:[{required:!0,validator:h,trigger:"change"}],view_min:[{required:!0,validator:P,trigger:"change"}],view_max:[{required:!0,validator:D,trigger:"change"}]})),q=async o=>{o&&await o.validate(async e=>{e&&(y("complete",I(l.value)),u.value=!1)})},B=async(o=null)=>{l.value=O(Object.assign(_,o)),u.value=!0},F=o=>{var e;(e=v.value)==null||e.clearValidate(),o()};return V({showDialog:u,setFormData:B}),(o,e)=>{const a=S,s=j,L=A,w=T,C=$;return d(),f(C,{modelValue:u.value,"onUpdate:modelValue":e[8]||(e[8]=r=>u.value=r),title:E.value,width:"480px","before-close":F,"destroy-on-close":!0},{footer:i(()=>[k("span",z,[n(w,{onClick:e[6]||(e[6]=r=>u.value=!1)},{default:i(()=>[b(c(m(t)("cancel")),1)]),_:1}),n(w,{type:"primary",onClick:e[7]||(e[7]=r=>q(v.value))},{default:i(()=>[b(c(m(t)("confirm")),1)]),_:1})])]),default:i(()=>[n(L,{model:l.value,"label-width":"130px",ref_key:"formRef",ref:v,rules:m(U),class:"page-form"},{default:i(()=>[l.value.validate_type=="min"?(d(),f(s,{key:0,label:m(t)("minLabel"),prop:"min_number"},{default:i(()=>[n(a,{modelValue:l.value.min_number,"onUpdate:modelValue":e[0]||(e[0]=r=>l.value.min_number=r),step:1,"step-strictly":"",min:1,class:"input-width"},null,8,["modelValue"])]),_:1},8,["label"])):l.value.validate_type=="max"?(d(),f(s,{key:1,label:m(t)("maxLabel"),prop:"max_number"},{default:i(()=>[n(a,{modelValue:l.value.max_number,"onUpdate:modelValue":e[1]||(e[1]=r=>l.value.max_number=r),step:1,"step-strictly":"",min:1,class:"input-width"},null,8,["modelValue"])]),_:1},8,["label"])):l.value.view_type==="number"?(d(),x(g,{key:2},[n(s,{label:m(t)("minLabel1"),prop:"view_min"},{default:i(()=>[n(a,{modelValue:l.value.view_min,"onUpdate:modelValue":e[2]||(e[2]=r=>l.value.view_min=r),min:0,"value-on-clear":0,class:"input-width"},null,8,["modelValue"])]),_:1},8,["label"]),n(s,{label:m(t)("maxLabel1"),prop:"view_max"},{default:i(()=>[n(a,{modelValue:l.value.view_max,"onUpdate:modelValue":e[3]||(e[3]=r=>l.value.view_max=r),min:1,class:"input-width"},null,8,["modelValue"])]),_:1},8,["label"])],64)):(d(),x(g,{key:3},[n(s,{label:m(t)("minLabel"),prop:"betweenMin"},{default:i(()=>[n(a,{modelValue:l.value.betweenMin,"onUpdate:modelValue":e[4]||(e[4]=r=>l.value.betweenMin=r),step:1,"step-strictly":"",min:1,class:"input-width"},null,8,["modelValue"])]),_:1},8,["label"]),n(s,{label:m(t)("maxLabel"),prop:"betweenMax"},{default:i(()=>[n(a,{modelValue:l.value.betweenMax,"onUpdate:modelValue":e[5]||(e[5]=r=>l.value.betweenMax=r),step:1,"step-strictly":"",min:1,class:"input-width"},null,8,["modelValue"])]),_:1},8,["label"])],64))]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});export{ae as _};
