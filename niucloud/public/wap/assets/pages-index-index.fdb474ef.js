import{d as a,r as e,u as o,a as t,c as l,o as r,b as s,s as i,e as p,g,f as n,h as u,i as d,w as m,j as c,k as b,v as f,n as _,l as v,m as h,p as j,q as x,t as S}from"./index-5bb08350.js";import{_ as y}from"./u-loading-page.f2a7c1df.js";import{_ as k}from"./index.1d16afd8.js";import{u as w}from"./useShare.80667d20.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-loading-icon.2e89024b.js";import"./u-transition.021c4c1c.js";import"./u-icon.461524ba.js";import"./tabbar.f7ee8f1f.js";import"./u-image.9265f18d.js";import"./u-safe-bottom.6578a4de.js";import"./article.1722ca18.js";import"./app-link.vue_vue_type_script_setup_true_lang.b08a40da.js";import"./u-avatar.0ea3924d.js";import"./wechat.eeef1e91.js";const D=C(a({__name:"index",setup(a){const{setShare:C,onShareAppMessage:D,onShareTimeline:I}=w();C(),D(),I();const B=e(!0),R=o(),T=e(0),U=t({global:{},value:[]}),E=l((()=>"decorate"==R.mode?R:U));return r((a=>{R.mode=a.mode||"","decorate"==R.mode&&(B.value=!1)})),s((()=>{T.value++,i()})),p((()=>{"decorate"==R.mode?R.init():g({name:"DIY_INDEX"}).then((a=>{if(a.data.value){let e=a.data;U.mode=e.mode;let o=JSON.parse(e.value);U.title=o.title,U.global=o.global,U.value=o.value,U.value.forEach(((a,e)=>{a.pageStyle="",a.pageBgColor&&(a.pageStyle+="background-color:"+a.pageBgColor+";"),a.margin&&(a.pageStyle+="padding-top:"+2*a.margin.top+"rpx;",a.pageStyle+="padding-bottom:"+2*a.margin.bottom+"rpx;",a.pageStyle+="padding-right:"+2*a.margin.both+"rpx;",a.pageStyle+="padding-left:"+2*a.margin.both+"rpx;")})),n({title:U.global.title})}B.value=!1}))})),(a,e)=>{const o=h(j("u-loading-page"),y),t=h(j("diy-group"),k),l=x;return u(),d(l,null,{default:m((()=>[c(o,{loading:B.value,loadingText:"","bg-color":"#f7f7f7"},null,8,["loading"]),b(c(l,null,{default:m((()=>[c(l,{class:"diy-template-wrap bg-index",style:_({backgroundColor:v(E).global.pageBgColor,minHeight:"calc(100vh - 50px)",backgroundImage:v(E).global.bgUrl?"url("+v(S)(v(E).global.bgUrl)+")":""})},{default:m((()=>[c(t,{data:v(E),pullDownRefresh:T.value},null,8,["data","pullDownRefresh"])])),_:1},8,["style"])])),_:1},512),[[f,!B.value]])])),_:1})}}}),[["__scopeId","data-v-efa7cdd6"]]);export{D as default};
