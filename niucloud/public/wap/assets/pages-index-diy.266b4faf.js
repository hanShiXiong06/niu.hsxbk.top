import{d as a,r as e,u as t,a as s,c as o,o as l,b as r,g as u,s as i,e as n,f as p,w as d,h as m,i as g,v,j as _,n as c,k as j,l as b,m as f}from"./index-b8ec63bc.js";import{_ as h}from"./u-loading-page.2f956afe.js";import{_ as y}from"./index.05a7784b.js";import{u as x}from"./useShare.e6ed5983.js";import"./u-loading-icon.1f177a88.js";import"./_plugin-vue_export-helper.1b428a4d.js";import"./u-transition.eb56da8c.js";import"./u-icon.45222ba8.js";import"./tabbar.vue_vue_type_script_setup_true_lang.55f9f6e5.js";import"./u-image.07b1c022.js";import"./u-safe-bottom.c00f6ea6.js";import"./article.7a47f2fe.js";import"./u-avatar.e909919c.js";import"./app-link.vue_vue_type_script_setup_true_lang.f540e6c2.js";import"./wechat.ff6a0967.js";const S=a({__name:"diy",setup(a){const{setShare:S,onShareAppMessage:k,onShareTimeline:w}=x();k(),w();const C=e(!0),A=t(),B=s({global:{},value:[]}),J=o((()=>"decorate"==A.mode?A:B)),N=e(0),O=e("");return l((a=>{A.mode=a.mode||"","decorate"==A.mode&&(C.value=!1),N.value=a.id||"",O.value=a.name||""})),r((()=>{"decorate"==A.mode?A.init():u({id:N.value,name:O.value}).then((a=>{if(200==a.code){let e=JSON.parse(a.data.value);B.global=e.global,B.value=e.value,i({title:B.global.title});let t=a.data.share?JSON.parse(a.data.share):null;S(t),C.value=!1}}))})),(a,e)=>{const t=j(b("u-loading-page"),h),s=j(b("diy-group"),y),o=f;return n(),p(o,null,{default:d((()=>[m(t,{loading:C.value,loadingText:""},null,8,["loading"]),g(m(o,{style:c({backgroundColor:_(J).global.pageBgColor})},{default:d((()=>[m(s,{data:_(J)},null,8,["data"])])),_:1},8,["style"]),[[v,!C.value]])])),_:1})}}});export{S as default};
