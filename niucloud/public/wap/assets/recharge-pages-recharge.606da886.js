import{d as e,r as a,i as r,P as t,k as l,l as o,v as u,w as s,n,R as p,Q as i,G as d,H as c,_ as m,K as f,q as g,t as v,x as _,j as x,D as h,e as j,I as y}from"./index-c8487b3e.js";import{_ as b}from"./u-loading-page.dfb8f67c.js";import{_ as k}from"./u--input.a0f02c3e.js";import{_ as w}from"./u-button.a3ccbdc0.js";import{_ as C}from"./pay.9e381d65.js";import{c as P}from"./recharge.aad504a0.js";import{_ as R}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-loading-icon.92d47c06.js";import"./u-transition.75acc538.js";import"./u-input.2fdff0d8.js";import"./u-icon.e1505caa.js";import"./u-image.9b57fa1f.js";import"./u-popup.41f7f1c4.js";import"./u-safe-bottom.f4b61f4d.js";import"./pay.116f472c.js";import"./wechat.8ecaae3c.js";const A=R(e({__name:"recharge",setup(e){const R=a([20,30,50,100,200,300]),A=a(""),E=a(!1),V=a(null),D=a(!1),I=()=>{uni.$u.test.isEmpty(A.value)?m({title:f("rechargeAmountPlaceholder"),icon:"none"}):!uni.$u.test.amount(A.value)||A.value<=0?m({title:f("rechargeAmountError"),icon:"none"}):E.value||(E.value=!0,P({recharge_money:A.value}).then((e=>{var a;null==(a=V.value)||a.open(e.data.trade_type,e.data.trade_id),D.value=!1,E.value=!1})).catch((()=>{E.value=!1,D.value=!1})))};return(e,a)=>{const m=g(v("u-loading-page"),b),P=g(v("u--input"),k),K=y,T=_,$=g(v("u-button"),w),q=g(v("pay"),C);return r(),t(p,null,[l(m,{loading:D.value,loadingText:""},null,8,["loading"]),o(l(T,{class:"account-info-wrap overflow-hidden"},{default:s((()=>[l(T,{class:"mx-[24rpx] mt-[30rpx] px-3 pb-4 pt-7 box-border bg-[#fff] rounded-lg"},{default:s((()=>[l(P,{placeholder:n(f)("rechargeAmountPlaceholder"),modelValue:A.value,"onUpdate:modelValue":a[0]||(a[0]=e=>A.value=e),border:"bottom",type:"number",clearable:""},null,8,["placeholder","modelValue"]),l(T,{class:"top-up-wrap flex flex-wrap justify-around mt-3"},{default:s((()=>[(r(!0),t(p,null,i(R.value,((e,a)=>(r(),x(T,{key:a,class:h(["top-up-item w-22 box-border border-1 text-center rounded mt-2 py-3 px-4 border-gray-400 border-solid",{"border-primary text-primary":A.value==e}]),onClick:a=>A.value=e},{default:s((()=>[l(K,null,{default:s((()=>[d(c(e)+c(n(f)("yuan")),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),l(T,{class:"mt-5 px-2"},{default:s((()=>[l($,{type:"primary",shape:"circle",loading:E.value,text:n(f)("clickRecharge"),onClick:I},null,8,["loading","text"])])),_:1}),l(T,{class:"mt-[20rpx] text-center text-sm",onClick:a[1]||(a[1]=e=>n(j)({url:"/recharge/pages/recharge_record"}))},{default:s((()=>[d(c(n(f)("rechargeRecord")),1)])),_:1})])),_:1}),l(q,{ref_key:"payRef",ref:V,onClose:a[2]||(a[2]=e=>E.value=!1)},null,512)])),_:1},512),[[u,!D.value]])],64)}}}),[["__scopeId","data-v-6520d6e7"]]);export{A as default};
