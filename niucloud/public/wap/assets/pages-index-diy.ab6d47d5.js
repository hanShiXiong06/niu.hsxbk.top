import{d as a,r as e,u as o,a as t,c as l,o as r,b as s,g as i,s as p,e as g,f as n,w as u,h as d,i as m,v as b,j as c,n as v,k as _,l as h,m as j,p as f}from"./index-5ccb7aca.js";import{_ as S}from"./u-loading-page.267b8385.js";import{_ as x}from"./index.6e8d5422.js";import{u as y}from"./useShare.cbd12643.js";import{_ as k}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-loading-icon.5a04567d.js";import"./u-transition.d4c1e034.js";import"./u-icon.b7c42932.js";import"./tabbar.7fc713f1.js";import"./u-image.dd0f853d.js";import"./u-safe-bottom.1d02e76a.js";import"./article.d72d1faf.js";import"./u-avatar.7ae27837.js";import"./app-link.vue_vue_type_script_setup_true_lang.f7d1a8fa.js";import"./wechat.12fb2d71.js";const C=k(a({__name:"diy",setup(a){const{setShare:k,onShareAppMessage:C,onShareTimeline:B}=y();C(),B();const O=e(!0),T=o(),U=t({global:{},value:[]}),w=l((()=>"decorate"==T.mode?T:U)),I=e(0),J=e("");return r((a=>{T.mode=a.mode||"","decorate"==T.mode&&(O.value=!1),I.value=a.id||"",J.value=a.name||""})),s((()=>{"decorate"==T.mode?T.init():i({id:I.value,name:J.value}).then((a=>{if(a.data.value){let e=JSON.parse(a.data.value);U.global=e.global,U.value=e.value,U.value.forEach(((a,e)=>{a.pageStyle="",a.pageBgColor&&(a.pageStyle+="background-color:"+a.pageBgColor+";"),a.margin&&(a.pageStyle+="padding-top:"+2*a.margin.top+"rpx;",a.pageStyle+="padding-bottom:"+2*a.margin.bottom+"rpx;",a.pageStyle+="padding-right:"+2*a.margin.both+"rpx;",a.pageStyle+="padding-left:"+2*a.margin.both+"rpx;")})),p({title:U.global.title})}let e=a.data.share?JSON.parse(a.data.share):null;k(e),O.value=!1}))})),(a,e)=>{const o=_(h("u-loading-page"),S),t=_(h("diy-group"),x),l=j;return g(),n(l,null,{default:u((()=>[d(o,{loading:O.value,loadingText:""},null,8,["loading"]),m(d(l,{style:v({backgroundColor:c(w).global.pageBgColor,minHeight:"calc(100vh - 50px)",backgroundImage:c(w).global.bgUrl?"url("+c(f)(c(w).global.bgUrl)+")":""}),class:"bg-index"},{default:u((()=>[d(t,{data:c(w)},null,8,["data"])])),_:1},8,["style"]),[[b,!O.value]])])),_:1})}}}),[["__scopeId","data-v-05756bba"]]);export{C as default};
