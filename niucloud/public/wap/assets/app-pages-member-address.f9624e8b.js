import{_ as e}from"./u-tabs.fa0eaf2b.js";import{d as a,r as s,K as t,o as l,aq as r,i as o,j as i,w as u,k as d,m as n,l as c,v as p,P as f,Q as m,R as x,n as b,e as _,q as v,t as y,x as k,a7 as g,G as h,H as C,ar as j,y as w,as as A,I as S}from"./index-c8487b3e.js";import{_ as I,a as $}from"./uni-swipe-action.301701d6.js";import{_ as q}from"./u-empty.0e93fe2d.js";import{_ as E}from"./u-button.a3ccbdc0.js";import{_ as G}from"./u-tabbar.44cf5e15.js";import{_ as H}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-badge.97e4ae5b.js";import"./u-icon.e1505caa.js";import"./u-loading-icon.92d47c06.js";import"./u-safe-bottom.f4b61f4d.js";const P=H(a({__name:"address",setup(a){const H=s(!0),P=s(0),z=s([{name:t("address"),key:"address"},{name:t("locationAddress"),key:"location_address"}]),B=s([]),F=s([]),K=s("");l((e=>{K.value=e.type||"",e.type&&(P.value="address"==e.type?0:1)})),r({}).then((({data:e})=>{const a=[],s=[];e.forEach((e=>{"address"==e.type?a.push(e):s.push(e)})),B.value=a,F.value=s,H.value=!1})).catch((()=>{H.value=!1}));const Q=e=>{P.value=e.index},R=()=>{const e=`/app/pages/member/${z.value[P.value].key}_edit`;_({url:e,param:{type:K.value}})},Z=e=>{const a=`/app/pages/member/${z.value[P.value].key}_edit`;_({url:a,param:{id:e,type:K.value}})},D=s([{text:t("delete"),style:{backgroundColor:"#F56C6C"}}]),J=e=>{const a=uni.getStorageSync("selectAddressCallback");a&&(a.address_id=e.id,uni.setStorage({key:"selectAddressCallback",data:a,success(){_({url:a.back})}}))},L=e=>{const a=P.value?F:B,s=a.value[e.index];A(s.id).then((()=>{a.value.splice(e.index,1)})).catch()};return(a,s)=>{const l=v(y("u-tabs"),e),r=k,_=S,A=v(y("uni-swipe-action-item"),I),M=v(y("u-empty"),q),N=v(y("uni-swipe-action"),$),O=v(y("u-button"),E),T=v(y("u-tabbar"),G),U=g;return H.value?n("v-if",!0):(o(),i(U,{key:0,"scroll-y":"true"},{default:u((()=>[K.value?n("v-if",!0):(o(),i(r,{key:0,class:"border-0 !border-b !border-[#eee] border-solid"},{default:u((()=>[d(l,{list:z.value,onClick:Q,current:P.value,itemStyle:"width:50%;height:88rpx;box-sizing: border-box;"},null,8,["list","current"])])),_:1})),d(N,null,{default:u((()=>[c(d(r,{class:"p-[30rpx]"},{default:u((()=>[(o(!0),f(x,null,m(B.value,(e=>(o(),i(A,{"right-options":D.value,onClick:L},{default:u((()=>[d(r,{class:"border-0 !border-b !border-[#f5f5f5] border-solid pb-[30rpx] flex items-center"},{default:u((()=>[d(r,{class:"flex-1",onClick:a=>J(e)},{default:u((()=>[d(r,{class:"font-bold my-[10rpx] text-sm"},{default:u((()=>[h(C(e.full_address),1)])),_:2},1024),d(r,{class:"text-sm flex items-center"},{default:u((()=>[h(C(e.name)+" ",1),d(_,{class:"text-[26rpx] text-gray-subtitle"},{default:u((()=>[h(C(b(j)(e.mobile)),1)])),_:2},1024),1==e.is_default?(o(),i(r,{key:0,class:"bg-primary text-white text-xs px-[10rpx] leading-none flex items-center h-[32rpx] ml-[10rpx] rounded"},{default:u((()=>[h(C(b(t)("default")),1)])),_:1})):n("v-if",!0)])),_:2},1024)])),_:2},1032,["onClick"]),d(_,{class:"iconfont iconbianji",onClick:a=>Z(e.id)},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["right-options"])))),256)),B.value.length?n("v-if",!0):(o(),i(r,{key:0,class:"pt-[20vh]"},{default:u((()=>[d(M,{mode:"address",icon:b(w)("static/resource/images/empty.png")},null,8,["icon"])])),_:1}))])),_:1},512),[[p,0==P.value]]),c(d(r,{class:"p-[30rpx]"},{default:u((()=>[(o(!0),f(x,null,m(F.value,(e=>(o(),i(A,{"right-options":D.value,onClick:L},{default:u((()=>[d(r,{class:"border-0 !border-b !border-[#f5f5f5] border-solid pb-[30rpx] flex items-center"},{default:u((()=>[d(r,{class:"flex-1",onClick:a=>J(e)},{default:u((()=>[d(r,{class:"font-bold my-[10rpx] text-sm"},{default:u((()=>[h(C(e.full_address),1)])),_:2},1024),d(r,{class:"text-sm flex items-center"},{default:u((()=>[h(C(e.name)+" ",1),d(_,{class:"text-[26rpx] text-gray-subtitle"},{default:u((()=>[h(C(b(j)(e.mobile)),1)])),_:2},1024),1==e.is_default?(o(),i(r,{key:0,class:"bg-primary text-white text-xs px-[10rpx] leading-none flex items-center h-[32rpx] ml-[10rpx] rounded"},{default:u((()=>[h(C(b(t)("default")),1)])),_:1})):n("v-if",!0)])),_:2},1024)])),_:2},1032,["onClick"]),d(_,{class:"iconfont iconbianji",onClick:a=>Z(e.id)},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["right-options"])))),256)),F.value.length?n("v-if",!0):(o(),i(r,{key:0,class:"pt-[15vh]"},{default:u((()=>[d(M,{mode:"address",icon:b(w)("static/resource/images/empty.png")},null,8,["icon"])])),_:1}))])),_:1},512),[[p,1==P.value]])])),_:1}),d(T,{fixed:!0,safeAreaInsetBottom:!0,border:!1},{default:u((()=>[d(r,{class:"p-[24rpx] pt-0 w-full"},{default:u((()=>[d(O,{type:"primary",shape:"circle",text:b(t)("createAddress"),onClick:R},null,8,["text"])])),_:1})])),_:1})])),_:1}))}}}),[["__scopeId","data-v-8c90cf16"]]);export{P as default};
