import{d as a,r as e,u as o,a as t,c as l,o as r,b as s,g as i,s as p,e as g,f as n,w as u,h as d,i as m,v as b,j as c,n as v,k as _,l as h,m as j,p as f}from"./index-e3cbb98d.js";import{_ as S}from"./u-loading-page.70c3b68c.js";import{_ as x}from"./index.672c6c49.js";import{u as y}from"./useShare.96381b1e.js";import{_ as k}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-loading-icon.2ac4a7f2.js";import"./u-transition.c6fa3287.js";import"./u-icon.88a425c1.js";import"./tabbar.9ee65337.js";import"./u-image.e6a1b64e.js";import"./u-safe-bottom.a57492fd.js";import"./article.492d4506.js";import"./u-avatar.c9521559.js";import"./app-link.vue_vue_type_script_setup_true_lang.c8488cb2.js";import"./wechat.864bf64a.js";const C=k(a({__name:"diy",setup(a){const{setShare:k,onShareAppMessage:C,onShareTimeline:B}=y();C(),B();const T=e(!0),U=o(),w=t({global:{},value:[]}),I=l((()=>"decorate"==U.mode?U:w)),J=e(0),N=e("");return r((a=>{U.mode=a.mode||"","decorate"==U.mode&&(T.value=!1),J.value=a.id||"",N.value=a.name||""})),s((()=>{"decorate"==U.mode?U.init():i({id:J.value,name:N.value}).then((a=>{if(a.data.value){let e=JSON.parse(a.data.value);w.global=e.global,w.value=e.value,w.value.forEach(((a,e)=>{a.pageStyle="",a.pageBgColor&&(a.pageStyle+="background-color:"+a.pageBgColor+";"),a.margin&&(a.pageStyle+="padding-top:"+2*a.margin.top+"rpx;",a.pageStyle+="padding-bottom:"+2*a.margin.bottom+"rpx;",a.pageStyle+="padding-right:"+2*a.margin.both+"rpx;",a.pageStyle+="padding-left:"+2*a.margin.both+"rpx;")})),p({title:w.global.title})}let e=a.data.share?JSON.parse(a.data.share):null;k(e),T.value=!1}))})),(a,e)=>{const o=_(h("u-loading-page"),S),t=_(h("diy-group"),x),l=j;return g(),n(l,null,{default:u((()=>[d(o,{loading:T.value,loadingText:""},null,8,["loading"]),m(d(l,{style:v({backgroundColor:c(I).global.pageBgColor,minHeight:"calc(100vh - 50px)",backgroundImage:c(I).global.bgUrl?"url("+c(f)(c(I).global.bgUrl)+")":""}),class:"bg-index"},{default:u((()=>[d(t,{data:c(I)},null,8,["data"])])),_:1},8,["style"]),[[b,!T.value]])])),_:1})}}}),[["__scopeId","data-v-05756bba"]]);export{C as default};
