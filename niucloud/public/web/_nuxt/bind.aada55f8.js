import{E as j,__tla as z}from"./el-input.6e95d1c0.js";import{E as F,a as L,__tla as T}from"./el-overlay.471082ac.js";import{u as A,_ as D,t as G,__tla as H}from"./test.f9d1f3c7.js";import{E as J,__tla as K}from"./el-button.647c2baa.js";import{f as M,h as N,i as h,x as d,a1 as O,aa as Q,o as S,k as W,l as c,t as y,u as _,m as r,w as i,p as $,ae as X,af as Y,v as o,__tla as Z}from"./entry.9b92f05f.js";import{u as ee,__tla as ae}from"./useLogin.277a65ff.js";import{_ as le}from"./_plugin-vue_export-helper.c27b6911.js";import{__tla as te}from"./use-form-item.2286029f.js";import{__tla as re}from"./index.ad444b6c.js";import{__tla as oe}from"./index.33eb77e2.js";import{__tla as _e}from"./vnode.ad035761.js";import{__tla as ie}from"./throttle.5a090da9.js";import{__tla as se}from"./debounce.e5e48a2d.js";import{__tla as me}from"./system.ead60a57.js";let g,ne=Promise.all([(()=>{try{return z}catch{}})(),(()=>{try{return T}catch{}})(),(()=>{try{return H}catch{}})(),(()=>{try{return K}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return ae}catch{}})(),(()=>{try{return te}catch{}})(),(()=>{try{return re}catch{}})(),(()=>{try{return oe}catch{}})(),(()=>{try{return _e}catch{}})(),(()=>{try{return ie}catch{}})(),(()=>{try{return se}catch{}})(),(()=>{try{return me}catch{}})()]).then(async()=>{const v={class:"w-full h-full bg-page flex items-center justify-center"},x={class:"flex bg-white"},k={class:"bg-white w-[380px] p-[30px]"},V={class:"flex items-end mb-[30px] mt-[15px]"},w={class:"mr-[20px] text-base cursor-pointer leading-none font-bold"},P=M({__name:"bind",setup(ce){const p=N(),E=h(()=>p.info),s=d(!1),l=O({mobile:"",mobile_code:"",mobile_key:"",openid:Q("openId").value}),C=h(()=>({mobile:[{type:"string",required:!0,message:o("mobilePlaceholder"),trigger:["blur","change"]},{validator(e,a,m){return G.mobile(a)},message:o("mobileError"),trigger:["change","blur"]}],mobile_code:{type:"string",required:!0,message:o("codePlaceholder"),trigger:["blur","change"]}})),u=d(),U=async()=>{var e;await((e=u.value)==null?void 0:e.validate(async(a,m)=>{if(a){if(s.value)return;s.value=!0,(E.value?X:Y)(l).then(t=>{p.setToken(t.data.token),ee().handleLoginBack()}).catch(()=>{s.value=!1,f.refresh()})}}))},f=A(l);f.refresh();const b=d(null),q=async()=>{var e;await((e=u.value)==null?void 0:e.validateField("mobile",async(a,m)=>{var t;a&&((t=b.value)==null||t.send())}))};return(e,a)=>{const m=j,t=F,B=D,I=J,R=L;return S(),W("div",v,[c("div",x,[c("div",k,[c("div",V,[c("div",w,y(("t"in e?e.t:_(o))("mobileBind")),1)]),r(R,{model:l,ref_key:"formRef",ref:u,rules:_(C),"validate-on-rule-change":!1},{default:i(()=>[c("div",null,[r(t,{prop:"mobile"},{default:i(()=>[r(m,{modelValue:l.mobile,"onUpdate:modelValue":a[0]||(a[0]=n=>l.mobile=n),placeholder:("t"in e?e.t:_(o))("mobilePlaceholder"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),r(t,{prop:"mobile_code"},{default:i(()=>[r(m,{modelValue:l.mobile_code,"onUpdate:modelValue":a[2]||(a[2]=n=>l.mobile_code=n),placeholder:("t"in e?e.t:_(o))("codePlaceholder")},{suffix:i(()=>[r(B,{mobile:l.mobile,type:"login",modelValue:l.mobile_key,"onUpdate:modelValue":a[1]||(a[1]=n=>l.mobile_key=n),onClick:q,ref_key:"smsCodeRef",ref:b},null,8,["mobile","modelValue"])]),_:1},8,["modelValue","placeholder"])]),_:1})]),r(t,null,{default:i(()=>[r(I,{type:"primary",class:"mt-[20px] w-full",size:"large",onClick:U,loading:s.value},{default:i(()=>[$(y(s.value?("t"in e?e.t:_(o))("binding"):("t"in e?e.t:_(o))("bind")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])])}}});g=le(P,[["__scopeId","data-v-24632394"]])});export{ne as __tla,g as default};
